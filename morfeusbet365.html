<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="img/favicon.ico" type="image/x-icon" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4WT805FFHQ"></script>
    <title>BetStat</title>

    <meta name="description" content="Transforme suas apostas com BetStat - a √∫nica plataforma especializada em futebol virtual Betano. An√°lises precisas, estat√≠sticas confi√°veis e resultados comprovados para investimentos inteligentes." />
    <meta name="keywords" content="BetStat, apostas esportivas, futebol virtual, Betano, estat√≠sticas apostas, an√°lise apostas, investimentos esportivos" />
    <meta property="og:title" content="BetStat | Plataforma de An√°lise para Apostas Esportivas" />
    <meta property="og:description" content="Transforme suas apostas com an√°lises precisas e estat√≠sticas confi√°veis. A √∫nica plataforma especializada em futebol virtual Betano." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.betstat.site/payment.html" />
    <meta property="og:site_name" content="BetStat" />
    <meta name="robots" content="index, follow" />
    <meta name="author" content="BetStat" />
    <meta name="canonical" href="https://www.betstat.site/payment.html" />
    
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-4WT805FFHQ");
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet" />
  </head>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600;700&display=swap');
    :root {
      --primary-color: #1fac89;
      --bg-color: #1c1f26;
      --text-color: #ffffff;
      --text-muted: #9ca3af;
      --container-bg: #2a2f3a;
      --border-color: rgba(31, 172, 137, 0.2);
      --border-muted: rgba(255, 255, 255, 0.1);
      --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      min-height: 100vh;
    }
    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 2rem;
    }
    .header {
      text-align: center;
      margin-bottom: 3rem;
    }
    .title {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: 0.5rem;
    }
    .subtitle {
      font-size: 1.1rem;
      color: var(--text-muted);
      font-weight: 400;
    }
    .analysis-card {
      background: var(--container-bg);
      border: 1px solid var(--border-muted);
      border-radius: 12px;
      padding: 2rem;
      box-shadow: var(--shadow);
    }
    .section {
      margin-bottom: 2rem;
    }
    .section:last-child {
      margin-bottom: 0;
    }
    .section-title {
      font-size: 1rem;
      font-weight: 600;
      color: var(--text-color);
      margin-bottom: 1rem;
    }
    .btn-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 0.75rem;
    }
    .btn {
      background: var(--bg-color);
      color: var(--text-muted);
      border: 1px solid var(--border-muted);
      padding: 0.75rem 1rem;
      border-radius: 8px;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: center;
      font-family: inherit;
    }
    .btn:hover {
      color: var(--text-color);
      border-color: var(--primary-color);
    }
    .btn.active {
      background: var(--primary-color);
      color: var(--text-color);
      border-color: var(--primary-color);
    }
    .textarea-container {
      position: relative;
    }
    .textarea {
      width: 100%;
      min-height: 100px;
      background: var(--bg-color);
      border: 1px solid var(--border-muted);
      border-radius: 8px;
      color: var(--text-color);
      padding: 1rem;
      font-family: inherit;
      font-size: 0.9rem;
      line-height: 1.6;
      resize: vertical;
      transition: border-color 0.2s ease;
    }
    .textarea:focus {
      outline: none;
      border-color: var(--primary-color);
    }
    .textarea::placeholder {
      color: var(--text-muted);
    }
    .image-upload {
      margin-top: 1rem;
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .image-upload input[type="file"] {
      display: none;
    }
    .image-upload .image-status {
      color: var(--text-muted);
      margin-left: 1rem;
    }
    .image-preview {
      max-width: 100%;
      max-height: 200px;
      margin-top: 1rem;
      border-radius: 8px;
      display: none;
    }
    .actions {
      display: flex;
      gap: 1rem;
      margin-top: 2rem;
    }
    .action-btn {
      flex: 1;
      padding: 1rem 2rem;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-family: inherit;
    }
    .btn-clear {
      background: transparent;
      color: var(--text-muted);
      border: 2px solid var(--border-muted);
    }
    .btn-clear:hover {
      background: var(--container-bg);
      color: var(--text-color);
    }
    .btn-generate {
      background: #01684f;
      color: var(--text-color);
      cursor: pointer;
    }
    .btn-generate:hover {
      background: #189976;
    }
    .btn-generate:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    .result-container {
      margin-top: 2rem;
      background: var(--container-bg);
      border: 1px solid var(--border-muted);
      border-radius: 8px;
      padding: 2rem;
      display: none;
    }
    .result-title {
      font-size: 1.3rem;
      font-weight: 600;
      color: var(--primary-color);
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    .result-content {
      color: var(--text-color);
      line-height: 1.7;
      white-space: pre-wrap;
    }
    .loading {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      color: var(--primary-color);
    }
    .spinner {
      width: 20px;
      height: 20px;
      border: 2px solid rgba(31, 172, 137, 0.3);
      border-top: 2px solid var(--primary-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    .error {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid rgba(239, 68, 68, 0.3);
      color: #ef4444;
      padding: 1.5rem;
      border-radius: 8px;
      margin-top: 1rem;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }
      .analysis-card {
        padding: 1.5rem;
      }
      .actions {
        flex-direction: column;
      }
      .btn-grid {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 0.5rem;
      }
    }
  </style>

  <body>
    <div id="header"></div>
    <br><br>

    <div class="container">
      <div class="analysis-card">
        <div class="section">
          <h2 class="section-title">Casa de Aposta</h2>
          <div class="btn-grid" id="casas-group">
            <button class="btn" data-value="betano">Betano</button>
            <button class="btn" data-value="kiron">Kiron</button>
            <button class="btn" data-value="estrela">Estrelabet</button>
            <button class="btn" data-value="bet365">Bet365</button>
          </div>
        </div>

        <div class="section" id="liga-section" style="display: none;">
          <h2 class="section-title">Liga</h2>
          <div class="btn-grid" id="ligas-group"></div>
        </div>

        <div class="section">
          <h2 class="section-title">Mercado da An√°lise</h2>
          <div class="btn-grid" id="mercados-group">
            <button class="btn" data-value="casaVence">Casa Vence</button>
            <button class="btn" data-value="foraVence">Fora Vence</button>
            <button class="btn" data-value="empate">Empate</button>
            <button class="btn" data-value="over1.5">Over 1.5</button>
            <button class="btn" data-value="over2.5">Over 2.5</button>
            <button class="btn" data-value="over3.5">Over 3.5</button>
            <button class="btn" data-value="under1.5">Under 1.5</button>
            <button class="btn" data-value="under2.5">Under 2.5</button>
            <button class="btn" data-value="under3.5">Under 3.5</button>
            <button class="btn" data-value="ambasMarcam">Ambas Sim</button>
            <button class="btn" data-value="ambasNaoMarcam">Ambas N√£o</button>
            <button class="btn" data-value="over5">5+ Gols</button>
            <button class="btn" data-value="exact1">1 Gol Exato</button>
            <button class="btn" data-value="exact2">2 Gols Exatos</button>
            <button class="btn" data-value="exact3">3 Gols Exatos</button>
            <button class="btn" data-value="exact4">4 Gols Exatos</button>
          </div>
        </div>

        <div class="section">
          <h2 class="section-title">Estrat√©gia Martingale</h2>
          <div class="btn-grid" id="martingale-group">
            <button class="btn" data-value="0">Nenhum</button>
            <button class="btn" data-value="1">1 Cobertura</button>
            <button class="btn" data-value="2">2 Coberturas</button>
            <button class="btn" data-value="3">3 Coberturas</button>
          </div>
        </div>

        <div class="section">
          <h2 class="section-title">Per√≠odo de An√°lise</h2>
          <div class="btn-grid" id="periodo-group">
            <button class="btn" data-value="120">6 Horas</button>
            <button class="btn" data-value="240">12 Horas</button>
            <button class="btn" data-value="480">24 Horas</button>
            <button class="btn" data-value="960">48 Horas</button>
            <button class="btn" data-value="1440">72 Horas</button>
          </div>
        </div>

        <div class="section">
          <h2 class="section-title">Observa√ß√µes Adicionais</h2>
          <div class="textarea-container">
            <textarea class="textarea" id="observacao" placeholder="Ex: Priorizar determinados hor√°rios, evitar confrontos diretos entre times fortes, etc..." rows="4"></textarea>
          </div>
        </div>

        <div class="section">
          <h2 class="section-title">Imagem para An√°lise (Opcional)</h2>
          <div class="image-upload">
            <label for="image-upload" class="action-btn btn-generate">Selecionar Imagem</label>
            <input type="file" id="image-upload" accept="image/*" style="display: none;">
            <span id="image-status" class="image-status">Nenhum arquivo selecionado</span>
          </div>
          <img id="image-preview" class="image-preview" alt="Pr√©-visualiza√ß√£o da imagem">
        </div>

        <div class="actions">
          <button class="action-btn btn-clear" onclick="limparAnalise()">Nova An√°lise</button>
          <button class="action-btn btn-generate" onclick="gerarAnalise()">Gerar An√°lise IA</button>
        </div>

        <div class="result-container" id="result-container">
          <h3 class="result-title" id="result-title">
            <div class="success-indicator"></div>
            An√°lise Conclu√≠da
          </h3>
          <div class="result-content" id="result-content"></div>
        </div>
      </div>
    </div>

    <script>
const GROQ_API_KEY="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",GROQ_URL="https://api.groq.com/openai/v1/chat/completions",casasConfig={betano:{name:"Betano",ligas:[{name:"Cl\xe1ssicos da Am\xe9rica",value:"Ta\xe7a Gl\xf3ria Eterna"},"Copa Am\xe9rica","Euro","Campeonato Italiano","Copa das Estrelas","Brasileir\xe3o Betano"]},kiron:{name:"Kiron",ligas:["England","Italy","Spain"],path:"kiron"},estrela:{name:"Estrelabet",ligas:["Copa do Mundo","Ligas dos Campe\xf5es","Am\xe9rica Latina"],path:"estrela"},bet365:{name:"Bet365",ligas:["Copa","Euro","Super","Premier"],path:"bet365"}};function mostrarLigas(e){let a=document.getElementById("liga-section"),t=document.getElementById("ligas-group");if(!casasConfig[e]){a.style.display="none";return}t.innerHTML="",casasConfig[e].ligas.forEach(e=>{let a=document.createElement("button");a.className="btn","object"==typeof e?(a.dataset.value=e.value,a.textContent=e.name):(a.dataset.value=e,a.textContent=e),t.appendChild(a)}),a.style.display="block"}function getSelectedValue(e){let a=document.getElementById(e),t=a.querySelector(".btn.active");return t?t.dataset.value:null}function getSelectedText(e){let a=document.getElementById(e),t=a.querySelector(".btn.active");return t?t.innerText:null}function limparAnalise(){document.querySelectorAll(".btn.active").forEach(e=>e.classList.remove("active")),document.getElementById("observacao").value="",document.getElementById("image-upload").value="",document.getElementById("image-status").textContent="Nenhum arquivo selecionado",document.getElementById("image-preview").style.display="none",document.getElementById("result-container").style.display="none",document.getElementById("liga-section").style.display="none"}function calcularRankingTimes(e,a){let t={};e.forEach(e=>{let{time_a:o,time_b:r,ft:n}=e;if(!n||!n.includes(" x "))return;let[s,i]=n.split(" x ").map(Number),c=s+i;[o,r].forEach(e=>{t[e]||(t[e]={name:e,totalGames:0,marketCount:0})}),t[o].totalGames++,t[r].totalGames++;let l=!1;switch(a){case"ambasMarcam":l=s>0&&i>0;break;case"ambasNaoMarcam":l=0===s||0===i;break;case"empate":l=s===i;break;case"over1.5":l=c>1;break;case"under1.5":l=c<2;break;case"over2.5":l=c>2;break;case"under2.5":l=c<3;break;case"over3.5":l=c>3;break;case"under3.5":l=c<4;break;case"over5":l=c>=5;break;case"exact1":l=1===c;break;case"exact2":l=2===c;break;case"exact3":l=3===c;break;case"exact4":l=4===c}l&&(t[o].marketCount++,t[r].marketCount++),"casaVence"===a&&s>i&&t[o].marketCount++,"foraVence"===a&&i>s&&t[r].marketCount++});let o=Object.values(t).map(e=>({...e,percentage:e.totalGames>0?(e.marketCount/e.totalGames*100).toFixed(1):"0.0"}));return o.sort((e,a)=>a.marketCount-e.marketCount||parseFloat(a.percentage)-parseFloat(e.percentage)),o}async function buscarDadosAPI(e,a,t){let o=casasConfig[e];if(!o)throw Error(`Casa ${e} n\xe3o encontrada`);let r={casa:o.name,liga:a,totalJogos:0,dadosCru:[]};try{let n=encodeURIComponent(a),s="https://betstat.site",i,c;o.path?(i=`${s}/resultados/${o.path}/${n}`,c=`${s}/proximos/${o.path}/${n}`):(i=`${s}/resultados/${n}`,c=`${s}/proximos/${n}`);let[l,d]=await Promise.all([fetch(i).then(e=>e.json()),fetch(c).then(e=>e.json())]),u=l.slice(-t);for(let m of u){let p=(m.ft||"x").split("x").map(e=>parseInt(e.trim(),10)),f=p[0],g=p[1];Number.isFinite(f)&&Number.isFinite(g)&&r.dadosCru.push([f,g,f+g,(m.time_a||"").trim(),(m.time_b||"").trim(),m.hora,m.minuto])}return r.proximos=d.slice(0,6),r.totalJogos=r.dadosCru.length,r}catch(v){throw console.error("Erro ao buscar dados da API:",v),Error(`Falha ao conectar com a API: ${v.message}`)}}document.querySelectorAll(".btn-grid").forEach(e=>{e.addEventListener("click",a=>{if(a.target.classList.contains("btn")){let t=e.querySelector(".btn.active");t&&t.classList.remove("active"),a.target.classList.add("active"),"casas-group"===e.id&&mostrarLigas(a.target.dataset.value)}})});const ANALYZE_WORKER_SRC=`
  self.onmessage = (e) => {
    const p = e.data;
    if (!p || p.cmd !== 'analyze') return;
    const res = analyzeAll(p.payload);
    self.postMessage({ ok: true, id: p.id, result: res });
  };
  
  function enumerateCombos(tok){
    if(tok.length===1) return tok[0].map(t=>[t]);
    if(tok.length===2){ const out=[];
    for(const a of tok[0]) for(const b of tok[1]) out.push([a,b]); return out;
    }
    if(tok.length===3){ const out=[];
    for(const a of tok[0]) for(const b of tok[1]) for(const c of tok[2]) out.push([a,b,c]); return out;
    }
    const out=[],cur=[];
    (function rec(i){ if(i===tok.length){ out.push(cur.slice()); return; } for(const t of tok[i]){ cur.push(t); rec(i+1); cur.pop(); } })(0);
    return out;
  }
  
  function getOffsetsByTipo(t){
    if(t==='1') return [0];
    if(t==='2') return [0,1];
    if(t==='3') return [0,1,2];
    if(t==='1_pula_1') return [0,2];
    if(t==='1_pula_1_pula_1') return [0,2,4];
    return [0,1];
  }
  
  function tokensDoJogo(a,b,total,mandante,visitante){
    const t = new Set();
    t.add(\`\${a}-\${b}\`);
    t.add(a > 0 && b > 0 ? 'ambasMarcam' : 'ambasNaoMarcam');
    t.add(a > b ? 'casaVence' : (a < b ? 'foraVence' : 'empate'));
    if (total >= 2) t.add('over1.5');
    if (total < 2) t.add('under1.5');
    if (total >= 3) t.add('over2.5');
    if (total < 3) t.add('under2.5');
    if (total >= 4) t.add('over3.5');
    if (total < 4) t.add('under3.5');
    if (total >= 5) t.add('over5');
    if (total === 1) t.add('exact1');
    if (total === 2) t.add('exact2');
    if (total === 3) t.add('exact3');
    if (total === 4) t.add('exact4');
    if (mandante) t.add(mandante.toLowerCase());
    if (visitante) t.add(visitante.toLowerCase());
    return Array.from(t);
  }
  
  function isGreenForMarket(m,a,b,total){
    if (m === 'ambasMarcam') return a > 0 && b > 0;
    if (m === 'ambasNaoMarcam') return a === 0 || b === 0;
    if (m === 'casaVence') return a > b;
    if (m === 'foraVence') return a < b;
    if (m === 'empate') return a === b;
    if (m === 'over1.5') return total >= 2;
    if (m === 'under1.5') return total < 2;
    if (m === 'over2.5') return total >= 3;
    if (m === 'under2.5') return total < 3;
    if (m === 'over3.5') return total >= 4;
    if (m === 'under3.5') return total < 4;
    if (m === 'over5') return total >= 5;
    if (m === 'exact1') return total === 1;
    if (m === 'exact2') return total === 2;
    if (m === 'exact3') return total === 3;
    if (m === 'exact4') return total === 4;
    return false;
  }
  
  function analisarAutoPadroes(dados,tipo,tiros,market,inicio,fim){
    const res=[];
    const offs=getOffsetsByTipo(tipo);
    const last=offs[offs.length-1];
    for(let p=inicio;p<=fim;p++){
      const comb={};
      const need=(last+1)+p+tiros;
      if(dados.length<need) continue;
      for(let i=0;i<=dados.length-need;i++){
        const tok=[];
        for(const o of offs){
          const [a,b,t,mandante,visitante]=dados[i+o];
          tok.push(tokensDoJogo(a,b,t,mandante,visitante));
        }
        const combos=enumerateCombos(tok);
        let green=false;
        const ini=i+last+1+p, fimA=ini+tiros;
        for(let j=ini;j<fimA&&j<dados.length;j++){
          const [a,b,sum]=dados[j];
          if(isGreenForMarket(market,a,b,sum)){ green=true; break; }
        }
        for(const seq of combos){
          const key=seq.join(' | ');
          if(!comb[key]){ comb[key]={ocorrencias:0,greens:0}; }
          comb[key].ocorrencias++;
          if(green) comb[key].greens++;
        }
      }
      for(const k in comb){
        const st=comb[k];
        if(st.ocorrencias>=3){
          res.push({ padrao:k, pular_jogos:p, ocorrencias:st.ocorrencias, greens:st.greens, percentual:((st.greens/st.ocorrencias)*100).toFixed(1) });
        }
      }
    }
    res.sort((a,b)=>parseFloat(b.percentual)-parseFloat(a.percentual)||b.ocorrencias-a.ocorrencias);
    return res.slice(0,15);
  }
  
  function analyzeAll(payload){
    const { dados, tiros, market, combinado } = payload;
    const tipos = combinado ? ['2','3','1_pula_1','1_pula_1_pula_1'] : ['2'];
    let todos=[];
    for(const t of tipos){
      const r = analisarAutoPadroes(dados, t, tiros, market, 1, 10);
      r.forEach(x=>x.tipo_padrao=t);
      todos = todos.concat(r);
    }
    todos.sort((a,b)=>parseFloat(b.percentual)-parseFloat(a.percentual)||b.ocorrencias-a.ocorrencias);
    return { resultados: todos.slice(0,15) };
  }
`;let ANALYZE_WORKER=null;function getAnalyzeWorker(){if(!ANALYZE_WORKER){let e=new Blob([ANALYZE_WORKER_SRC],{type:"application/javascript"});ANALYZE_WORKER=new Worker(URL.createObjectURL(e))}return ANALYZE_WORKER}function analyzeInWorker(e,a){return new Promise((t,o)=>{let r=getAnalyzeWorker(),n=Math.random().toString(36).slice(2),s=e=>{let a=e.data;a&&a.id===n&&(r.removeEventListener("message",s),a.ok?t(a.result):o(a.error||"Erro no worker de an\xe1lise"))};r.addEventListener("message",s),r.postMessage({cmd:"analyze",id:n,payload:{dados:e,...a}})})}function mapMercado(e){return({ambasMarcam:"ambasSim",ambasNaoMarcam:"ambasNao",casaVence:"casaVence",foraVence:"foraVence",empate:"empate","over1.5":"over1.5","over2.5":"over2.5","over3.5":"over3.5","under1.5":"under1.5","under2.5":"under2.5","under3.5":"under3.5",exact1:"umGolExato",exact2:"doisGolsExatos",exact3:"tresGolsExatos",exact4:"quatroGolsExatos",over5:"cincoOuMaisGols"})[e]||e}function checkMarket(e,a,t,o){switch(e){case"ambasSim":return a>0&&t>0?1:0;case"ambasNao":return 0===a||0===t?1:0;case"casaVence":return a>t?1:0;case"foraVence":return t>a?1:0;case"empate":return a===t?1:0;case"over1.5":return o>1.5?1:0;case"over2.5":return o>2.5?1:0;case"over3.5":return o>3.5?1:0;case"under1.5":return o<1.5?1:0;case"under2.5":return o<2.5?1:0;case"under3.5":return o<3.5?1:0;case"umGolExato":return 1===o?1:0;case"doisGolsExatos":return 2===o?1:0;case"tresGolsExatos":return 3===o?1:0;case"quatroGolsExatos":return 4===o?1:0;case"cincoOuMaisGols":return o>=5?1:0;default:return 0}}function calculateMarketAnalysis(e,a,t,o,r){let n=e.dadosCru.map(a=>[`${a[5].toString().padStart(2,"0")}:${a[6].toString().padStart(2,"0")}`,a[0],a[1],a[3],a[4],a[2],e.liga.toLowerCase()]).slice(-t);if(0===n.length)return{currentPercentage:0,top5:[]};let s=n.slice(-o),i=s.reduce((e,t)=>e+checkMarket(a,t[1],t[2],t[5]),0),c=(i/o*100).toFixed(0),l={};n.forEach((e,t)=>{let[s,i,c,d,u,m,p]=e;if(t>=o-1){let f=n.slice(t-o+1,t+1).reduce((e,t)=>e+checkMarket(a,t[1],t[2],t[5]),0),g="red",v=0,b=0;if(t+r<=n.length){let $=n.slice(t+1,t+1+r);b=r-(v=$.filter(e=>1===checkMarket(a,e[1],e[2],e[5])).length);let E=$.some(e=>1===checkMarket(a,e[1],e[2],e[5]));E&&(g="green")}let _=`${a} ${Math.round(f/o*100)}%`;l[_]||(l[_]={occurrences:0,greens:0,reds:0,totalGreens:v,totalReds:b}),l[_].occurrences+=1,"green"===g?l[_].greens+=1:l[_].reds+=1,l[_].totalGreens=v,l[_].totalReds=b}});let d=Object.keys(l).map(e=>{let a=l[e],t=(a.greens/a.occurrences*100).toFixed(2),o="",r=parseFloat(t);return o=r>75?"Alta chance de acerto":r>50?"Moderada chance":r>25?"Risco elevado":"Alta chance de falha",{marketGroup:e,marketPercentage:parseFloat(e.split(" ")[1]),occurrences:a.occurrences,greens:a.greens,reds:a.reds,greenPercentage:t,totalGreens:a.totalGreens,totalReds:a.totalReds,analysis:o}}).sort((e,a)=>a.greenPercentage-e.greenPercentage||a.greens-e.greens).slice(0,100),u=d.slice(0,5);return{currentPercentage:c,top5:u}}function criarPromptAnalise(e,a){return`
Voc\xea \xe9 um analista especialista em futebol virtual, focado em interpretar dados pr\xe9-processados para identificar oportunidades de investimento de alto valor.
DADOS PARA AN\xc1LISE:
- Casa: ${e.casa}
- Liga: ${e.liga}
- Mercado: ${a.mercado}
- Total de jogos analisados: ${e.totalJogos}
- Estrat\xe9gia Martingale: ${a.martingale}
- Observa\xe7\xf5es do Usu\xe1rio: ${a.observacao||"Nenhuma"}
${a.imagem?"- Imagem fornecida: O usu\xe1rio enviou uma imagem para complementar, considere isso se aplic\xe1vel.":""}

INFORMA\xc7\xd5ES PR\xc9-PROCESSADAS:

1. RANKING DE TIMES PARA O MERCADO "${a.mercado}" (Top 10):
${JSON.stringify(e.ranking.slice(0,10),null,2)}

2. TOP 15 PADR\xd5ES ENCONTRADOS PARA O MERCADO "${a.mercado}":
${JSON.stringify(e.padroesEncontrados,null,2)}

3. PR\xd3XIMOS 6 CONFRONTOS:
${JSON.stringify(e.proximos,null,2)}

4. AN\xc1LISE DE GR\xc1FICO DE MERCADO PARA O MERCADO "${a.mercado}":
Porcentagem Atual: ${e.marketAnalysis.currentPercentage}%
Top 5 Melhores Porcentagens:
${JSON.stringify(e.marketAnalysis.top5,null,2)}

INSTRU\xc7\xd5ES DE AN\xc1LISE (SUA TAREFA):
1. Sua miss\xe3o \xe9 conectar as informa\xe7\xf5es acima.
N\xe3o processe dados brutos, apenas interprete os resultados que eu forneci.
2. Analise os "TOP 15 PADR\xd5ES".
Identifique quais t\xeam o maior percentual de acerto (percentual) e um n\xfamero s\xf3lido de ocorr\xeancias.
Padr\xf5es com 100% de acerto e poucas ocorr\xeancias s\xe3o promissores, mas de alto risco.
3. Observe os "PR\xd3XIMOS 6 CONFRONTOS".
Verifique se algum desses jogos envolve times que est\xe3o bem posicionados no "RANKING DE TIMES".
4. Cruze as informa\xe7\xf5es: A oportunidade de maior valor acontece quando um padr\xe3o forte aponta para um dos pr\xf3ximos confrontos E esse confronto envolve times com bom desempenho hist\xf3rico no mercado.
5. Se uma imagem foi fornecida, considere que ela pode conter informa\xe7\xf5es visuais complementares.
6. Baseado nesta s\xedntese, gere a sua an\xe1lise no formato abaixo.
O n\xfamero de sugest\xf5es de hor\xe1rios deve seguir a estrat\xe9gia Martingale (Nenhum = 1 jogo, 1 Cobertura = 2 jogos, 2 Coberturas = 3 jogos, 3 Coberturas = 4 jogos).
7. Se nenhum padr\xe3o forte se alinhar com os pr\xf3ximos jogos de times bem ranqueados, seja honesto e informe que nenhuma oportunidade clara foi encontrada.
8. Para as sugest\xf5es de hor\xe1rios: Selecione o pr\xf3ximo confronto que melhor se alinha com padr\xf5es fortes e times bem ranqueados como o principal.
Em seguida, adicione as coberturas como os confrontos sequenciais seguintes.
Garanta que os hor\xe1rios estejam em sequ\xeancia cronol\xf3gica crescente, sem repeti\xe7\xf5es, e baseados exclusivamente nos hor\xe1rios fornecidos nos pr\xf3ximos confrontos.
Assuma que a lista de pr\xf3ximos est\xe1 ordenada por tempo, e selecione apenas hor\xe1rios futuros ou os mais pr\xf3ximos.
O primeiro hor\xe1rio \xe9 o principal com padr\xe3o e an\xe1lise, os demais s\xe3o coberturas.
9. Inclua uma se\xe7\xe3o independente para a An\xe1lise de Gr\xe1fico de Mercado, comentando a porcentagem atual e destacando as top 5 melhores porcentagens, considerando o Martingale selecionado para a verifica\xe7\xe3o.
FORMATO DA RESPOSTA (Use um tom natural e profissional, evite usar negrito com asteriscos **):

üéØ AN\xc1LISE ESTAT\xcdSTICA
[Comente brevemente sobre o desempenho dos times no ranking e a for\xe7a geral dos padr\xf5es encontrados.
Ex: "Observa-se que os times X e Y s\xe3o dominantes neste mercado. Foram encontrados N padr\xf5es com mais de 80% de acerto, indicando consist\xeancia..."]

üìä PADR\xd5ES RELEVANTES
[Destaque 2 ou 3 dos padr\xf5es mais promissores da lista, explicando por que s\xe3o relevantes.
Ex: "O padr\xe3o 'over2.5 | 1-2' se destaca com 85% de acerto em 20 ocorr\xeancias, mostrando ser um gatilho confi\xe1vel..."]

üìà AN\xc1LISE DE GR\xc1FICO DE MERCADO
[Comente sobre a porcentagem atual do mercado e destaque as top 5 melhores porcentagens, incluindo greenPercentage, occurrences, etc., considerando o Martingale selecionado para a verifica\xe7\xe3o de linhas.]

‚ö° PR\xd3XIMAS OPORTUNIDADES
[Baseado na sua an\xe1lise combinada, liste as entradas recomendadas.
Se nenhuma for encontrada, justifique o motivo.
Formato se encontrar:
Liga: [liga]
Mercado: [mercado]
‚è∞ Hor\xe1rios
‚ñ∏ [hora:minuto] ‚ñ∏ [hora:minuto] ... (n\xfamero baseado na Martingale, em sequ\xeancia sem repeti\xe7\xf5es)
Justificativa: [Breve explica\xe7\xe3o do porqu\xea esta \xe9 uma boa entrada, mencionando o padr\xe3o e os times envolvidos.
Note que o primeiro hor\xe1rio \xe9 o principal onde padr\xf5es foram encontrados, os demais s\xe3o coberturas sequenciais.]

üé≤ ESTRAT\xc9GIA MARTINGALE
[Avalie a seguran\xe7a da estrat\xe9gia para este cen\xe1rio.
Ex: "Considerando a for\xe7a dos padr\xf5es encontrados, a estrat\xe9gia de [N] coberturas parece [segura/arriscada]..."]

üí° RECOMENDA\xc7\xc3O FINAL
[D\xea uma recomenda\xe7\xe3o final clara e objetiva.
Ex: "Recomendo a entrada nos hor\xe1rios sugeridos devido \xe0 forte conflu\xeancia entre o padr\xe3o X e o confronto envolvendo o time Y, que possui um hist\xf3rico excelente neste mercado."]
`}async function analisarComGroq(e,a){let t=criarPromptAnalise(e,a),o=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer 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"},body:JSON.stringify({model:"llama-3.3-70b-versatile",messages:[{role:"user",content:t}],temperature:.7,max_tokens:2048,top_p:1})});if(!o.ok){let r=await o.json();throw console.error("Erro na API Groq:",r),Error(`Erro na API Groq: ${o.status}`)}let n=await o.json();return n.choices[0].message.content}async function gerarAnalise(){let e=new Date,a=e.toISOString().split("T")[0],t=JSON.parse(localStorage.getItem("analysisUsage"))||{};if(t.date!==a&&(t={date:a,count:0,lastAnalysis:null}),t.count>=6){alert("Voc\xea atingiu o limite de 6 an\xe1lises por dia. Por favor, volte amanh\xe3.");return}if(t.lastAnalysis){let o=new Date(t.lastAnalysis),r=(e-o)/6e4;if(r<3){alert(`Por favor, aguarde ${Math.ceil(3-r)} minuto(s) antes de gerar uma nova an\xe1lise.`);return}}let n=getSelectedValue("casas-group"),s=getSelectedValue("ligas-group"),i=getSelectedValue("mercados-group"),c=getSelectedText("mercados-group"),l=parseInt(getSelectedValue("martingale-group")||"0",10),d=getSelectedText("martingale-group"),u=getSelectedValue("periodo-group"),m=document.getElementById("observacao").value,p=document.getElementById("image-upload").files[0];if(!n||!s||!i||!u){alert("Por favor, selecione Casa, Liga, Mercado e Per\xedodo de An\xe1lise.");return}let f=document.querySelector(".btn-generate"),g=document.getElementById("result-container"),v=document.getElementById("result-title"),b=document.getElementById("result-content");f.disabled=!0,f.innerHTML='<div class="spinner"></div> Processando...',g.style.display="block",b.innerHTML="";try{v.innerHTML=`<div class="loading"><div class="spinner"></div>Coletando ${u} jogos...</div>`;let $=await buscarDadosAPI(n,s,parseInt(u));$.ranking=calcularRankingTimes($.dadosCru.map(e=>({time_a:e[3],time_b:e[4],ft:`${e[0]} x ${e[1]}`})),i),v.innerHTML='<div class="loading"><div class="spinner"></div>Analisando padr\xf5es...</div>';let{resultados:E}=await analyzeInWorker($.dadosCru,{tiros:l+1,market:i,combinado:!0});$.padroesEncontrados=E;let _=mapMercado(i);$.marketAnalysis=calculateMarketAnalysis($,_,$.totalJogos,"kiron"===n?30:20,l+1),v.innerHTML='<div class="loading"><div class="spinner"></div>Gerando an\xe1lise com IA (Groq)...</div>';let y=await analisarComGroq($,{mercado:c,liga:s,martingale:d||"Nenhum",periodo:u+" jogos",observacao:m,imagem:!!p});v.innerHTML="‚úì An\xe1lise Conclu\xedda - "+casasConfig[n].name+" ("+s+")",b.textContent=y,t.count++,t.lastAnalysis=e.toISOString(),localStorage.setItem("analysisUsage",JSON.stringify(t))}catch(A){console.error("Erro no processo de an\xe1lise:",A),v.innerHTML="‚úñ Erro na An\xe1lise",b.innerHTML=`<div class="error">
      <strong>Erro:</strong> ${A.message}<br><br>
      <strong>Causas poss\xedveis:</strong> Falha na opera\xe7\xe3o ou na API.
      Atualize a p\xe1gina e tente outra vez mais tarde.
    </div>`}finally{f.disabled=!1,f.innerHTML="Gerar An\xe1lise IA"}}document.getElementById("image-upload").addEventListener("change",function(e){let a=e.target.files[0],t=document.getElementById("image-preview"),o=document.getElementById("image-status");if(a){let r=new FileReader;r.onload=function(e){t.src=e.target.result,t.style.display="block"},r.readAsDataURL(a),o.textContent=a.name}else t.style.display="none",o.textContent="Nenhum arquivo selecionado"}),document.addEventListener("contextmenu",function(e){e.preventDefault()}),document.addEventListener("keydown",function(e){"F12"===e.key&&e.preventDefault(),e.ctrlKey&&e.shiftKey&&"I"===e.key&&e.preventDefault(),e.ctrlKey&&"u"===e.key&&e.preventDefault(),e.ctrlKey&&e.shiftKey&&"J"===e.key&&e.preventDefault(),e.ctrlKey&&e.shiftKey&&"C"===e.key&&e.preventDefault(),e.ctrlKey&&"s"===e.key&&e.preventDefault(),e.ctrlKey&&"p"===e.key&&e.preventDefault()});const devtools={open:!1},element=new Image;Object.defineProperty(element,"id",{get:function(){devtools.open=!0}}),function(){let e=function(){(window.outerWidth-window.innerWidth>160||window.outerHeight-window.innerHeight>160)&&(devtools.open=!0)};window.addEventListener("resize",e),setInterval(e,500)}(),console.log("%c",element),setInterval(function(){devtools.open&&(document.body.innerHTML="<h1>Acesso n\xe3o autorizado detectado</h1>",devtools.open=!1)},1e3),document.addEventListener("selectstart",function(e){e.preventDefault()}),document.addEventListener("dragstart",function(e){e.preventDefault()}),console.log=function(){},console.debug=function(){},console.info=function(){};
    </script>
  </body>
</html>