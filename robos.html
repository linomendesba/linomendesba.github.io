<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Configura√ß√£o do Bot</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #1fac89;
            --primary-hover: #189e7a;
            --primary-glow: rgba(31, 172, 137, 0.2);
            --bg-body: #0f1115;
            --bg-card: #161b22;
            --bg-input: #0d1117;
            --border-color: #30363d;
            --text-main: #e6edf3;
            --text-muted: #8b949e;
            --danger: #f85149;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; scrollbar-width: thin; scrollbar-color: var(--border-color) var(--bg-body); }
        body { background-color: var(--bg-body); color: var(--text-main); font-family: 'Inter', sans-serif; padding: 40px 20px; line-height: 1.6; }
        .container { max-width: 1440px; margin: 0 auto; }

        /* GRID PRINCIPAL */
        .config-section {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        /* ESTILO DOS CARDS */
        .field-group, .table-container, .rule-item {
            background-color: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .field-group label, .table-title {
            display: block; margin-bottom: 10px; font-size: 12px; font-weight: 600; color: var(--primary); text-transform: uppercase; letter-spacing: 0.8px;
        }

        input[type="text"], input[type="number"], input[type="time"], select {
            width: 100%; padding: 12px; background-color: var(--bg-input); border: 1px solid var(--border-color); border-radius: 6px; font-size: 14px; color: var(--text-main); outline: none; font-family: 'Inter', sans-serif; transition: all 0.2s;
        }
        input:focus, select:focus { border-color: var(--primary); box-shadow: 0 0 0 3px var(--primary-glow); }

        /* CHECKBOXES LIGAS */
        .league-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .league-header button { padding: 6px 14px; background-color: var(--primary); color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: 600; transition: background-color 0.2s; }
        .league-header button:hover { background-color: var(--primary-hover); }
        .league-checkboxes { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        .checkbox-item { display: flex; align-items: center; gap: 10px; padding: 10px; background-color: var(--bg-input); border: 1px solid var(--border-color); border-radius: 6px; cursor: pointer; transition: background-color 0.2s; }
        .checkbox-item:hover { background-color: #1c2128; border-color: var(--primary); }
        .checkbox-item input[type="checkbox"] { width: 16px; height: 16px; accent-color: var(--primary); cursor: pointer; }
        .checkbox-item label { margin: 0; color: var(--text-main); font-size: 13px; cursor: pointer; }

        /* TELEGRAM */
        .telegram-container { display: flex; flex-direction: column; gap: 10px; }
        .telegram-input-group { display: flex; gap: 10px; }
        .btn-add-telegram { padding: 0 20px; background-color: var(--primary); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 13px; }
        .btn-add-telegram:hover { background-color: var(--primary-hover); }
        .telegram-list { background: var(--bg-input); border: 1px solid var(--border-color); border-radius: 6px; padding: 5px; max-height: 100px; overflow-y: auto; }
        .telegram-item { display: flex; justify-content: space-between; align-items: center; padding: 8px 12px; background-color: var(--bg-card); border-bottom: 1px solid var(--border-color); font-size: 13px; margin-bottom: 4px; border-radius: 4px; }
        .btn-remove { background-color: transparent; color: var(--danger); border: 1px solid var(--danger); padding: 4px 10px; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: 600; }
        .btn-remove:hover { background-color: var(--danger); color: white; }

        /* BOT√ïES */
        .buttons { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 20px; 
            margin-bottom: 30px;
            grid-column: span 4;
        }
        .btn { 
            padding: 16px 40px; 
            font-size: 15px; 
            font-weight: 600; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            text-transform: uppercase; 
            letter-spacing: 1.2px; 
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .btn:active { transform: scale(0.97); }
        .btn-clear { 
            background-color: var(--bg-card); 
            border: 2px solid var(--danger); 
            color: var(--danger); 
        }
        .btn-clear:hover { 
            background-color: var(--danger); 
            color: white;
            border-color: var(--danger);
            box-shadow: 0 4px 20px rgba(248, 81, 73, 0.4);
        }
        .btn-save { 
            background: linear-gradient(135deg, var(--primary) 0%, #158f6e 100%); 
            color: white; 
            box-shadow: 0 4px 15px rgba(31, 172, 137, 0.3);
            border: 2px solid transparent;
        }
        .btn-save:hover { 
            box-shadow: 0 6px 25px rgba(31, 172, 137, 0.5); 
            transform: translateY(-2px);
            filter: brightness(1.1);
        }

        /* TABELA */
        .table-container { border-top: 4px solid var(--primary); padding: 25px; }
        .table-title { font-size: 16px; text-align: left; margin-bottom: 20px; color: var(--text-main); border-bottom: 1px solid var(--border-color); padding-bottom: 10px; }
        
        /* GRID DE N√öMEROS */
        .number-grid { 
            display: grid; 
            grid-template-columns: repeat(20, 1fr);
            gap: 4px; 
            margin-bottom: 20px; 
        }
        
        .number-cell { aspect-ratio: 1; background-color: var(--bg-input); border: 1px solid var(--border-color); display: flex; align-items: center; justify-content: center; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: 500; color: var(--text-muted); position: relative; transition: all 0.1s; }
        .number-cell:hover { border-color: var(--primary); color: var(--text-main); transform: translateY(-2px); }
        .number-cell.filter-selected { background-color: #1e40af; border-color: #3b82f6; color: white; }
        .number-cell.entry-confirmed { background-color: rgba(31, 172, 137, 0.2); border-color: var(--primary); color: var(--primary); font-weight: 700; }
        .number-cell .filter-label { position: absolute; bottom: 1px; right: 1px; font-size: 7px; font-weight: 700; opacity: 0.9; }
        
        .progress-bar { width: 100%; height: 6px; background-color: var(--bg-input); border-radius: 3px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--primary), #3b82f6); width: 0%; transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1); }

        /* REGRAS */
        .rules-container { margin-top: 40px; display: flex; flex-direction: column; gap: 15px; }
        .rule-item { padding: 0; border: 1px solid var(--border-color); overflow: hidden; background-color: var(--bg-card); }
        .rule-header { padding: 18px 25px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-size: 15px; font-weight: 600; color: var(--text-main); background-color: rgba(255, 255, 255, 0.02); border-left: 4px solid transparent; transition: all 0.3s; }
        .rule-header:hover { background-color: rgba(255, 255, 255, 0.05); }
        .rule-header.active { border-left-color: var(--primary); background-color: rgba(31, 172, 137, 0.05); }
        .rule-header .arrow { transition: transform 0.3s ease; color: var(--text-muted); font-size: 12px; }
        .rule-header.active .arrow { transform: rotate(180deg); color: var(--primary); }
        .rule-content { max-height: 0; overflow: hidden; transition: max-height 0.4s cubic-bezier(0, 1, 0, 1); background-color: var(--bg-body); border-top: 1px solid var(--border-color); }
        .rule-content.active { max-height: 2000px; padding: 25px; }
        .rule-content label { display: block; margin-bottom: 10px; font-size: 13px; color: var(--text-muted); margin-top: 15px; }
        .rule-content label:first-child { margin-top: 0; }
        .checkbox-label { display: flex; align-items: center; gap: 12px; padding: 12px; background-color: var(--bg-input); border: 1px solid var(--border-color); border-radius: 6px; margin-bottom: 10px; cursor: pointer; transition: border-color 0.2s; }
        .checkbox-label:hover { border-color: var(--primary); }
        .checkbox-label input[type="checkbox"] { accent-color: var(--primary); width: 18px; height: 18px; }
        .link-group { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px; }
        .time-range { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 5px; }
        .time-range small { display: block; margin-bottom: 6px; color: var(--primary); font-weight: 600; font-size: 11px; text-transform: uppercase; }

        @media (max-width: 1200px) { .config-section { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 768px) { 
            .config-section { grid-template-columns: 1fr; } 
            .buttons { grid-template-columns: 1fr; gap: 15px; } 
            .link-group { grid-template-columns: 1fr; } 
            .number-grid { overflow-x: auto; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="config-section">
            <div class="field-group">
                <label>Nome do Bot</label>
                <input type="text" id="botName" placeholder="Ex: Bot Premium V1">
            </div>

            <div class="field-group">
                <label>Casa de Aposta</label>
                <select id="bookmaker" onchange="changeBookmaker()">
                    <option value="bet365">Bet365</option>
                    <option value="betano">Betano</option>
                    <option value="kiron">Kiron</option>
                    <option value="estrelabet">EstrelaBet</option>
                </select>
            </div>

            <div class="field-group">
                <label>Modo de Marca√ß√£o</label>
                <select id="markMode">
                    <option value="padrao">Padr√£o</option>
                    <option value="entrada">Entrada</option>
                </select>
            </div>

            <div class="field-group">
                <label>Estrat√©gia / Filtro</label>
                <select id="filter">
                    <option value="">Selecione um filtro</option>
                    <option value="ambas-sim">Ambas Sim</option>
                    <option value="ambas-nao">Ambas N√£o</option>
                    <option value="casa-vence">Casa Vence</option>
                    <option value="fora-vence">Fora Vence</option>
                    <option value="empate">Empate</option>
                    <option value="over-1.5">Over 1.5</option>
                    <option value="over-2.5">Over 2.5</option>
                    <option value="under-1.5">Under 1.5</option>
                    <option value="under-2.5">Under 2.5</option>
                    <option value="over-3.5">Over 3.5</option>
                    <option value="under-3.5">Under 3.5</option>
                    <option value="over-5">Over 5+</option>
                    <option value="exato-0">0 Gol Exato</option>
                    <option value="exato-1">1 Gol Exato</option>
                    <option value="exato-2">2 Gols Exatos</option>
                    <option value="exato-3">3 Gols Exatos</option>
                    <option value="exato-4">4 Gols Exatos</option>
                </select>
            </div>

            <div class="field-group" style="grid-column: span 2;">
                <label>Ligas de Atua√ß√£o</label>
                <div class="league-header">
                    <span style="font-size: 11px; color: var(--text-muted);" id="leagueCount">0 selecionadas</span>
                    <button onclick="toggleAllLeagues()">Selecionar Todas</button>
                </div>
                <div class="league-checkboxes" id="leagueContainer"></div>
            </div>

            <div class="field-group" style="grid-column: span 2;">
                <label>Chat ID Telegram</label>
                <div class="telegram-container">
                    <div class="telegram-input-group">
                        <input type="text" id="newTelegramId" placeholder="Digite o Chat ID">
                        <button class="btn-add-telegram" onclick="addTelegramId()">+</button>
                    </div>
                    <select id="activeTelegramId">
                        <option value="">Selecione ID ativo</option>
                    </select>
                    <div class="telegram-list" id="telegramList"></div>
                </div>
            </div>

            <div class="buttons">
                <button class="btn btn-clear" onclick="clearAll()">
                    <span>üóëÔ∏è</span>
                    <span>Limpar Tudo</span>
                </button>
                <button class="btn btn-save" onclick="saveConfig()">
                    <span>üíæ</span>
                    <span>Salvar Configura√ß√£o</span>
                </button>
            </div>
        </div>

        <div class="table-container">
            <div class="table-title">Mapa de An√°lise</div>
            <div class="number-grid" id="numberGrid"></div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
        </div>

        <div class="rules-container">
            <div class="rule-item">
                <div class="rule-header" onclick="toggleRule('rule1')">
                    <span>Configura√ß√£o de Exibi√ß√£o</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="rule-content" id="rule1">
                    <label class="checkbox-label">
                        <input type="checkbox" checked> <span>Exibir Greens Seguidos</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" checked> <span>Exibir Estat√≠sticas Completas</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" checked> <span>Exibir Porcentagem de Acertos</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" checked> <span>Exibir Nome do Bot no Cabe√ßalho</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" checked> <span>Exibir Local do Padr√£o</span>
                    </label>
                </div>
            </div>

            <div class="rule-item">
                <div class="rule-header" onclick="toggleRule('rule2')">
                    <span>Links Externos (Bot√µes)</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="rule-content" id="rule2">
                    <div class="link-group">
                        <input type="text" placeholder="Texto do Bot√£o 1">
                        <input type="text" placeholder="URL do Link 1">
                    </div>
                    <div class="link-group">
                        <input type="text" placeholder="Texto do Bot√£o 2">
                        <input type="text" placeholder="URL do Link 2">
                    </div>
                    <div class="link-group">
                        <input type="text" placeholder="Texto do Bot√£o 3">
                        <input type="text" placeholder="URL do Link 3">
                    </div>
                </div>
            </div>

            <div class="rule-item">
                <div class="rule-header" onclick="toggleRule('rule3')">
                    <span>Gerenciamento: Stop Loss</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="rule-content" id="rule3">
                    <label>Total Reds Seguidos para Pausa</label>
                    <input type="number" placeholder="Ex: 3">
                    <label>Tempo de Pausa (Minutos)</label>
                    <input type="number" placeholder="Ex: 60">
                    <label>Mensagem de Aviso Stop Loss</label>
                    <input type="text" placeholder="Ex: Meta de perdas atingida. Voltamos em breve.">
                </div>
            </div>

            <div class="rule-item">
                <div class="rule-header" onclick="toggleRule('rule4')">
                    <span>Gerenciamento: Stop Win</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="rule-content" id="rule4">
                    <label>Total Greens Seguidos para Pausa</label>
                    <input type="number" placeholder="Ex: 10">
                    <label>Tempo de Pausa (Minutos)</label>
                    <input type="number" placeholder="Ex: 30">
                    <label>Mensagem de Aviso Stop Win</label>
                    <input type="text" placeholder="Ex: Meta batida! Pausa estrat√©gica.">
                </div>
            </div>

            <div class="rule-item">
                <div class="rule-header" onclick="toggleRule('rule5')">
                    <span>Hor√°rio de Opera√ß√£o</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="rule-content" id="rule5">
                    <label>Janela de Funcionamento</label>
                    <div class="time-range">
                        <div>
                            <small>In√≠cio</small>
                            <input type="time">
                        </div>
                        <div>
                            <small>Fim</small>
                            <input type="time">
                        </div>
                    </div>
                    <label style="margin-top: 20px;">Limite de Entradas Simult√¢neas</label>
                    <input type="number" placeholder="Ex: 1">
                </div>
            </div>

            <div class="rule-item">
                <div class="rule-header" onclick="toggleRule('rule6')">
                    <span>Customiza√ß√£o da Tip (Mensagem)</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="rule-content" id="rule6">
                    <label>Texto da Tip</label>
                    <input type="text" placeholder="Digite o texto que aparecer√° na mensagem">
                    <label>Link Principal (Opcional)</label>
                    <input type="text" placeholder="https://...">
                    <label>Bot√£o de A√ß√£o R√°pida</label>
                    <div class="link-group">
                        <input type="text" placeholder="Texto: APOSTAR AGORA">
                        <input type="text" placeholder="Link: https://bet365.com">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const numberGrid = document.getElementById('numberGrid');
        const telegramIds = new Set();
        const cellStates = {};
        const filterAbbreviations = { 
            'ambas-sim': 'AS', 
            'ambas-nao': 'AN', 
            'casa-vence': 'CV', 
            'fora-vence': 'FV', 
            'empate': 'EMP', 
            'over-1.5': 'O1.5', 
            'over-2.5': 'O2.5', 
            'over-3.5': 'O3.5', 
            'under-1.5': 'U1.5', 
            'under-2.5': 'U2.5',
            'under-3.5': 'U3.5',
            'over-5': 'O5+',
            'exato-0': '0G',
            'exato-1': '1G',
            'exato-2': '2G',
            'exato-3': '3G',
            'exato-4': '4G'
        };

        // DADOS DAS LIGAS
        const leaguesData = {
            betano: [
                { name: "Euro Betano", value: "euro.html" },
                { name: "Copa Am√©rica", value: "copa_america.html" },
                { name: "Copa das Estrelas", value: "copa_das_estrelas.html" },
                { name: "Brasileir√£o Betano", value: "brasileirao.html" },
                { name: "Cl√°ssicos da Am√©rica", value: "index.html" },
                { name: "Campeonato Italiano", value: "campeonato_italiano.html" }
            ],
            bet365: [
                { name: "Copa do Mundo", value: "bet365copa.html" },
                { name: "Premier League", value: "bet365premier.html" },
                { name: "Super Liga", value: "bet365super.html" },
                { name: "Euro Cup", value: "bet365euro.html" }
            ],
            kiron: [
                { name: "England", value: "kironengland.html" },
                { name: "Italy", value: "kironitaly.html" },
                { name: "Spain", value: "kironspain.html" }
            ],
            estrelabet: [
                { name: "Ligas dos Campe√µes", value: "https://www.betstat.site/estrelachampions.html" },
                { name: "Copa do Mundo", value: "https://www.betstat.site/estrelacopamundo.html" },
                { name: "Am√©rica Latina", value: "https://www.betstat.site/estrelaamericalatina.html" }
            ]
        };

        function toggleRule(id) {
            const content = document.getElementById(id);
            const header = content.previousElementSibling;
            header.classList.toggle('active');
            content.classList.toggle('active');
        }

        // GERA√á√ÉO DO GRID
        for (let i = 0; i <= 299; i++) {
            const cell = document.createElement('div');
            cell.className = 'number-cell';
            cell.textContent = i;
            cell.dataset.number = i;
            cell.onclick = () => toggleNumber(i, cell);
            numberGrid.appendChild(cell);
            cellStates[i] = { filter: null, entryConfirmed: false };
        }

        // FUN√á√ÉO QUE DETECTA MUDAN√áA NA CASA DE APOSTA
        function changeBookmaker() {
            const selectedBookmaker = document.getElementById('bookmaker').value;
            const leagueContainer = document.getElementById('leagueContainer');
            const grid = document.getElementById('numberGrid');

            // 1. ATUALIZAR GRID (Kiron = 30 colunas, Outras = 20)
            if (selectedBookmaker === 'kiron') {
                grid.style.gridTemplateColumns = 'repeat(30, 1fr)';
            } else {
                grid.style.gridTemplateColumns = 'repeat(20, 1fr)';
            }

            // 2. ATUALIZAR LIGAS
            leagueContainer.innerHTML = '';
            
            const leagues = leaguesData[selectedBookmaker] || [];
            
            if (leagues.length === 0) {
                leagueContainer.innerHTML = '<span style="color:var(--text-muted); font-size:13px;">Nenhuma liga dispon√≠vel.</span>';
                updateLeagueCount();
                return;
            }

            leagues.forEach(league => {
                const item = document.createElement('div');
                item.className = 'checkbox-item';
                item.innerHTML = `
                    <input type="checkbox" id="${league.value}" value="${league.value}" onchange="updateLeagueCount()">
                    <label for="${league.value}">${league.name}</label>
                `;
                leagueContainer.appendChild(item);
            });
            
            updateLeagueCount();
        }

        // FUN√á√ÉO PARA SELECIONAR/DESMARCAR TODAS AS LIGAS
        function toggleAllLeagues() {
            const checkboxes = document.querySelectorAll('#leagueContainer input[type="checkbox"]');
            const allChecked = Array.from(checkboxes).every(cb => cb.checked);
            
            checkboxes.forEach(cb => {
                cb.checked = !allChecked;
            });
            
            updateLeagueCount();
        }

        // ATUALIZAR CONTADOR DE LIGAS SELECIONADAS
        function updateLeagueCount() {
            const checkedCount = document.querySelectorAll('#leagueContainer input[type="checkbox"]:checked').length;
            const totalCount = document.querySelectorAll('#leagueContainer input[type="checkbox"]').length;
            const countElement = document.getElementById('leagueCount');
            countElement.textContent = `${checkedCount} de ${totalCount} selecionadas`;
        }

        function toggleNumber(num, cell) {
            const selectedFilter = document.getElementById('filter').value;
            const markMode = document.getElementById('markMode').value;
            if (!selectedFilter) { alert('Por favor, selecione uma estrat√©gia no filtro primeiro.'); return; }
            
            const state = cellStates[num];
            cell.innerHTML = num;

            // Se j√° est√° marcado, desmarca
            if (state.filter) {
                state.filter = null;
                state.entryConfirmed = false;
                cell.className = 'number-cell';
            } else {
                // Se n√£o est√° marcado, marca com a cor do modo selecionado
                state.filter = selectedFilter;
                
                if (markMode === 'padrao') {
                    // Modo Padr√£o = Azul
                    state.entryConfirmed = false;
                    cell.className = 'number-cell filter-selected';
                } else {
                    // Modo Entrada = Verde
                    state.entryConfirmed = true;
                    cell.className = 'number-cell entry-confirmed';
                }
                
                addLabel(cell, selectedFilter);
            }
            
            updateProgress();
        }

        function addLabel(cell, filter) {
            const label = document.createElement('span');
            label.className = 'filter-label';
            label.textContent = filterAbbreviations[filter];
            cell.appendChild(label);
        }

        function updateProgress() {
            const total = Object.values(cellStates).filter(s => s.filter !== null).length;
            const progress = (total / 300) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function addTelegramId() {
            const input = document.getElementById('newTelegramId');
            const id = input.value.trim();
            if (!id) return alert('Digite um Chat ID v√°lido!');
            if (telegramIds.has(id)) return alert('Este Chat ID j√° existe!');
            telegramIds.add(id);
            input.value = '';
            renderTelegramList();
            updateActiveTelegramSelect();
        }

        function removeTelegramId(id) {
            telegramIds.delete(id);
            const activeSelect = document.getElementById('activeTelegramId');
            if (activeSelect.value === id) activeSelect.value = '';
            renderTelegramList();
            updateActiveTelegramSelect();
        }

        function updateActiveTelegramSelect() {
            const select = document.getElementById('activeTelegramId');
            const currentValue = select.value;
            select.innerHTML = '<option value="">Selecione ID ativo</option>';
            telegramIds.forEach(id => {
                const option = document.createElement('option');
                option.value = id;
                option.textContent = id;
                select.appendChild(option);
            });
            if (telegramIds.has(currentValue)) select.value = currentValue;
        }

        function renderTelegramList() {
            const list = document.getElementById('telegramList');
            list.innerHTML = '';
            telegramIds.forEach(id => {
                const item = document.createElement('div');
                item.className = 'telegram-item';
                item.innerHTML = `<span>${id}</span><button class="btn-remove" onclick="removeTelegramId('${id}')">Excluir</button>`;
                list.appendChild(item);
            });
        }

        function saveConfig() {
            const bookmaker = document.getElementById('bookmaker').value;
            const btn = document.querySelector('.btn-save');
            const originalText = btn.textContent;
            
            // Coletar ligas selecionadas
            const selectedLeagues = [];
            document.querySelectorAll('#leagueContainer input[type="checkbox"]:checked').forEach(cb => {
                selectedLeagues.push(cb.value);
            });

            btn.textContent = 'Salvando...';
            setTimeout(() => {
                btn.textContent = originalText;
                alert(`Configura√ß√£o salva!\nCasa: ${bookmaker.toUpperCase()}\nLigas selecionadas: ${selectedLeagues.length}`);
            }, 800);
        }

        function clearAll() {
            if(!confirm('Tem certeza que deseja limpar todos os dados?')) return;
            document.getElementById('botName').value = '';
            document.querySelectorAll('.number-cell').forEach(cell => {
                cell.className = 'number-cell';
                cell.innerHTML = cell.dataset.number;
            });
            Object.keys(cellStates).forEach(key => {
                cellStates[key] = { filter: null, entryConfirmed: false };
            });
            
            // Limpa as checkboxes de ligas
            document.querySelectorAll('#leagueContainer input[type="checkbox"]').forEach(cb => cb.checked = false);
            updateLeagueCount();
            
            updateProgress();
        }

        // Inicializar com a primeira op√ß√£o (Bet365) ao carregar a p√°gina
        window.onload = function() {
            changeBookmaker();
        };
    </script>
</body>
</html>