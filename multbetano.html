<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" href="img/favicon.ico" type="image/x-icon" />
        <link rel="stylesheet" href="style.css" />
        <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
        <script
          async
          src="https://www.googletagmanager.com/gtag/js?id=G-4WT805FFHQ"
        ></script>
        <title>BetStat</title>
        <!-- Meta tags SEO principais -->
        <meta
          name="description"
          content="Transforme suas apostas com BetStat - a √∫nica plataforma especializada em futebol virtual Betano. An√°lises precisas, estat√≠sticas confi√°veis e resultados comprovados para investimentos inteligentes."
        />
        <meta
          name="keywords"
          content="BetStat, apostas esportivas, futebol virtual, Betano, estat√≠sticas apostas, an√°lise apostas, investimentos esportivos"
        />
    
        <!-- Open Graph meta tags para redes sociais -->
        <meta
          property="og:title"
          content="BetStat | Plataforma de An√°lise para Apostas Esportivas"
        />
        <meta
          property="og:description"
          content="Transforme suas apostas com an√°lises precisas e estat√≠sticas confi√°veis. A √∫nica plataforma especializada em futebol virtual Betano."
        />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.betstat.site/payment.html" />
        <meta property="og:site_name" content="BetStat" />
    
        <!-- Meta tags adicionais -->
        <meta name="robots" content="index, follow" />
        <meta name="author" content="BetStat" />
        <meta name="canonical" href="https://www.betstat.site/payment.html" />
        <script type="module" src="js/firebase-auth.js"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag("js", new Date());
    
          gtag("config", "G-4WT805FFHQ");
        </script>
        <link
          href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap"
          rel="stylesheet"
        />
      </head>

  <body>
    <body>
        <div id="header"></div>

    <br><br>

    <div class="seletor-container">
        <div class="seletor-horas">
            <label for="seletorHoras">Horas:</label>
            <select id="seletorHoras">
                <option value="3">3 horas</option>
                <option value="6">6 horas</option>
                <option value="12"selected>12 horas</option>
                <option value="24">24 horas</option>
            </select>
        </div>
    
        <div class="seletor-resultado">
            <label for="seletorResultado">Mercado:</label>
            <select id="seletorResultado">
                <option value="ambasMarcam" selected>Ambas Sim</option>
                <option value="ambasNaoMarcam">Ambas N√£o</option>
                <option value="casaVence">Casa vence</option>
                <option value="foraVence">Fora vence</option>
                <option value="empate">Empate</option> 
                <option value="over1.5">Over 1.5</option>
                <option value="under1.5">Under 1.5</option>
                <option value="over2.5">Over 2.5</option>
                <option value="under2.5">Under 2.5</option>
                <option value="over3.5">Over 3.5</option>
                <option value="under3.5">Under 3.5</option>
                <option value="over5">Over 5+</option>
            </select>
        </div>
    
        <div class="seletor-tipo-placar">
            <label for="seletorTipoPlacar">Resultado:</label>
            <select id="seletorTipoPlacar">
                <option value="ft" selected>FT</option>
                <option value="ht">HT</option>
            </select>
        </div>
    </div>
    
<!-- Copa Am√©rica Table -->
<h3>Copa Am√©rica</h3>

<div class="jogosfuturos-container" id="jogosfuturos-copaAmerica-container">
    <div class="jogosfuturos-games-container" id="jogosfuturos-copaAmerica"></div>
</div>

<table id="tabelaResultadosCopaAmerica" class="tabela-liga">
    <thead>
        <div class="minutofixo-header">
            <div id="market-percentages-copa-america"></div> 
        </div>
        <tr id="linhaPercentualCopaAmerica" class="linha-percentual">
            <th>üìä</th>
        </tr>
        <tr>
            <th>H</th>
            <th class="minute-header">2</th>
            <th class="minute-header">5</th>
            <th class="minute-header">8</th>
            <th class="minute-header">11</th>
            <th class="minute-header">14</th>
            <th class="minute-header">17</th>
            <th class="minute-header">20</th>
            <th class="minute-header">23</th>
            <th class="minute-header">26</th>
            <th class="minute-header">29</th>
            <th class="minute-header">32</th>
            <th class="minute-header">35</th>
            <th class="minute-header">38</th>
            <th class="minute-header">41</th>
            <th class="minute-header">44</th>
            <th class="minute-header">47</th>
            <th class="minute-header">50</th>
            <th class="minute-header">53</th>
            <th class="minute-header">56</th>
            <th class="minute-header">59</th>
            <th>‚öΩÔ∏è</th>
            <th>‚úÖ</th>
            <th>üìä</th>
        </tr>
    </thead>    
    <tbody></tbody>
</table>

<!-- Ta√ßa Gl√≥ria Eterna Table -->
<h3>Ta√ßa Gl√≥ria Eterna</h3>
<div class="jogosfuturos-container" id="jogosfuturos-tacaGloria-container">
    <div class="jogosfuturos-games-container" id="jogosfuturos-tacaGloria"></div>
</div>
<table id="tabelaResultadosGloriaEterna" class="tabela-liga">
    <thead>
        <div class="minutofixo-header">
            <div id="market-percentages-gloria-eterna"></div> 
        </div>
        <tr id="linhaPercentualGloriaEterna" class="linha-percentual">
            <th>üìä</th>
        </tr>
        <tr>
            <th>H</th>
            <th class="minute-header">1</th>
            <th class="minute-header">4</th>
            <th class="minute-header">7</th>
            <th class="minute-header">10</th>
            <th class="minute-header">13</th>
            <th class="minute-header">16</th>
            <th class="minute-header">19</th>
            <th class="minute-header">22</th>
            <th class="minute-header">25</th>
            <th class="minute-header">28</th>
            <th class="minute-header">31</th>
            <th class="minute-header">34</th>
            <th class="minute-header">37</th>
            <th class="minute-header">40</th>
            <th class="minute-header">43</th>
            <th class="minute-header">46</th>
            <th class="minute-header">49</th>
            <th class="minute-header">52</th>
            <th class="minute-header">55</th>
            <th class="minute-header">58</th>
            <th>‚öΩÔ∏è</th>
            <th>‚úÖ</th>
            <th>üìä</th>
        </tr>
    </thead>    
    <tbody></tbody>
</table>

<!-- Euro League Table -->
<h3>Euro</h3>
<div class="jogosfuturos-container" id="jogosfuturos-euro-container">
    <div class="jogosfuturos-games-container" id="jogosfuturos-euro"></div>
</div>
<table id="tabelaResultadosEuro" class="tabela-liga">
    <thead>
        <div class="minutofixo-header">
            <div id="market-percentages-euro"></div> 
        </div>
        <tr id="linhaPercentualEuro" class="linha-percentual">
            <th>üìä</th>
        </tr>
        <tr>
            <th>H</th>
            <th class="minute-header">1</th>
            <th class="minute-header">4</th>
            <th class="minute-header">7</th>
            <th class="minute-header">10</th>
            <th class="minute-header">13</th>
            <th class="minute-header">16</th>
            <th class="minute-header">19</th>
            <th class="minute-header">22</th>
            <th class="minute-header">25</th>
            <th class="minute-header">28</th>
            <th class="minute-header">31</th>
            <th class="minute-header">34</th>
            <th class="minute-header">37</th>
            <th class="minute-header">40</th>
            <th class="minute-header">43</th>
            <th class="minute-header">46</th>
            <th class="minute-header">49</th>
            <th class="minute-header">52</th>
            <th class="minute-header">55</th>
            <th class="minute-header">58</th>
            <th>‚öΩÔ∏è</th>
            <th>‚úÖ</th>
            <th>üìä</th>
        </tr>
    </thead>    
    <tbody></tbody>
</table>

<!-- Campeonato Italiano Table -->
<h3>Campeonato Italiano</h3>
<div class="jogosfuturos-container" id="jogosfuturos-campeonatoItaliano-container">
    <div class="jogosfuturos-games-container" id="jogosfuturos-campeonatoItaliano"></div>
</div>
<table id="tabelaResultadosItaliano" class="tabela-liga">
    <thead>
        <div class="minutofixo-header">
            <div id="market-percentages-italiano"></div> 
        </div>
        <tr id="linhaPercentualItaliano" class="linha-percentual">
            <th>üìä</th>
        </tr>
        <tr>
            <th>H</th>
            <th class="minute-header">2</th>
            <th class="minute-header">5</th>
            <th class="minute-header">8</th>
            <th class="minute-header">11</th>
            <th class="minute-header">14</th>
            <th class="minute-header">17</th>
            <th class="minute-header">20</th>
            <th class="minute-header">23</th>
            <th class="minute-header">26</th>
            <th class="minute-header">29</th>
            <th class="minute-header">32</th>
            <th class="minute-header">35</th>
            <th class="minute-header">38</th>
            <th class="minute-header">41</th>
            <th class="minute-header">44</th>
            <th class="minute-header">47</th>
            <th class="minute-header">50</th>
            <th class="minute-header">53</th>
            <th class="minute-header">56</th>
            <th class="minute-header">59</th>
            <th>‚öΩÔ∏è</th>
            <th>‚úÖ</th>
            <th>üìä</th>
        </tr>
    </thead>    
    <tbody></tbody>
</table>

<!-- Copa das Estrelas Table -->
<h3>Copa das Estrelas</h3>
<div class="jogosfuturos-container" id="jogosfuturos-copaEstrelas-container">
    <div class="jogosfuturos-games-container" id="jogosfuturos-copaEstrelas"></div>
</div>
<table id="tabelaResultadosCopaEstrelas" class="tabela-liga">
    <thead>
        <div class="minutofixo-header">
            <div id="market-percentages-copa-estrelas"></div> 
        </div>
        <tr id="linhaPercentualCopaEstrelas" class="linha-percentual">
            <th>üìä</th>
        </tr>
        <tr>
            <th>H</th>
            <th class="minute-header">0</th>
            <th class="minute-header">3</th>
            <th class="minute-header">6</th>
            <th class="minute-header">9</th>
            <th class="minute-header">12</th>
            <th class="minute-header">15</th>
            <th class="minute-header">18</th>
            <th class="minute-header">21</th>
            <th class="minute-header">24</th>
            <th class="minute-header">27</th>
            <th class="minute-header">30</th>
            <th class="minute-header">33</th>
            <th class="minute-header">36</th>
            <th class="minute-header">39</th>
            <th class="minute-header">42</th>
            <th class="minute-header">45</th>
            <th class="minute-header">48</th>
            <th class="minute-header">51</th>
            <th class="minute-header">54</th>
            <th class="minute-header">57</th>
            <th>‚öΩÔ∏è</th>
            <th>‚úÖ</th>
            <th>üìä</th>
        </tr>
    </thead>    
    <tbody></tbody>
</table>

<!-- British Derbies  -->
<h3>Brasileir√£o Betano</h3>
<div class="jogosfuturos-container" id="jogosfuturos-brasileirao-container">
    <div class="jogosfuturos-games-container" id="jogosfuturos-brasileirao"></div>
</div>
<table id="tabelaResultadosBrasileirao" class="tabela-liga">
    <thead>
        <div class="minutofixo-header">
            <div id="market-percentages-Brasileirao"></div> 
        </div>
        <tr id="linhaPercentualBrasileirao" class="linha-percentual">
            <th>üìä</th>
        </tr>
        <tr>
            <th>H</th>
            <th class="minute-header">0</th>
            <th class="minute-header">3</th>
            <th class="minute-header">6</th>
            <th class="minute-header">9</th>
            <th class="minute-header">12</th>
            <th class="minute-header">15</th>
            <th class="minute-header">18</th>
            <th class="minute-header">21</th>
            <th class="minute-header">24</th>
            <th class="minute-header">27</th>
            <th class="minute-header">30</th>
            <th class="minute-header">33</th>
            <th class="minute-header">36</th>
            <th class="minute-header">39</th>
            <th class="minute-header">42</th>
            <th class="minute-header">45</th>
            <th class="minute-header">48</th>
            <th class="minute-header">51</th>
            <th class="minute-header">54</th>
            <th class="minute-header">57</th>
            <th>‚öΩÔ∏è</th>
            <th>‚úÖ</th>
            <th>üìä</th>
        </tr>
    </thead>    
    <tbody></tbody>
</table>


    <script>
    // League configurations
    const ligas = [
        {
            nome: "Copa Am√©rica",
            rota: "https://betstat.site/resultados/Copa%20America",
            minutosFixos: [2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59],
            tabelaId: "tabelaResultadosCopaAmerica",
            linhaPercentualId: "linhaPercentualCopaAmerica"
        },
        {
            nome: "Ta√ßa Gl√≥ria Eterna",
            rota: "https://betstat.site/resultados/Ta%C3%A7a%20Gl%C3%B3ria%20eterna",
            minutosFixos: [1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58],
            tabelaId: "tabelaResultadosGloriaEterna",
            linhaPercentualId: "linhaPercentualGloriaEterna"
        },
        {
            nome: "Euro",
            rota: "https://betstat.site/resultados/Euro",
            minutosFixos: [1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58],
            tabelaId: "tabelaResultadosEuro",
            linhaPercentualId: "linhaPercentualEuro"
        },
        {
            nome: "Campeonato Italiano",
            rota: "https://betstat.site/resultados/Campeonato%20Italiano",
            minutosFixos: [2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59],
            tabelaId: "tabelaResultadosItaliano",
            linhaPercentualId: "linhaPercentualItaliano"
        },
        {
            nome: "Copa das Estrelas",
            rota: "https://betstat.site/resultados/Copa%20das%20estrelas",
            minutosFixos: [0, 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57],
            tabelaId: "tabelaResultadosCopaEstrelas",
            linhaPercentualId: "linhaPercentualCopaEstrelas"
        },
        {
            nome: "British Derbies",
            rota: "https://betstat.site/resultados/British%20Derbies",
            minutosFixos: [1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58],
            tabelaId: "tabelaResultadosBritishDerbies",
            linhaPercentualId: "linhaPercentualBritishDerbies"      
        },
        {
            nome: "Liga Espanhola",
            rota: "https://betstat.site/resultados/Liga%20Espanhola",
            minutosFixos: [2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59],
            tabelaId: "tabelaResultadosLigaEspanhola",
            linhaPercentualId: "linhaPercentualLigaEspanhola"
        },
        {
            nome: "Scudetto Italiano",
            rota: "https://betstat.site/resultados/Scudetto%20Italiano",
            minutosFixos: [0, 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57],
            tabelaId: "tabelaResultadosScudettoItaliano",
            linhaPercentualId: "linhaPercentualScudettoItaliano"
        },

                {
            nome: "Brasileirao",
            rota: "https://betstat.site/resultados/Brasileir%C3%A3o%20Betano",
            minutosFixos: [0, 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57],
            tabelaId: "tabelaResultadosBrasileirao",
            linhaPercentualId: "linhaPercentualBrasileirao"
        },
    ];

    // Global placar selection tracking
    let placarSelecionado = localStorage.getItem('placarSelecionado');

    function redirecionar(selectElement) {
        const url = selectElement.value;
        if (url) {
            window.location.href = url;
        }
    }

    function selecionarPlacaresIguais(placarAlvo) {
        const placares = document.querySelectorAll('.placar');
        
        placares.forEach(placar => {
            const texto = placar.childNodes[0].textContent.trim();
            
            if (placarAlvo) {
                if (texto === placarAlvo) {
                    placar.classList.add('placar-selecionado');
                } else {
                    placar.classList.remove('placar-selecionado');
                }
            } else {
                placar.classList.remove('placar-selecionado');
            }
        });
    }
    
    function criarTabela(dados, liga) {
        const tabelaBody = document.querySelector(`#${liga.tabelaId} tbody`);
        const linhaPercentual = document.getElementById(liga.linhaPercentualId);
        linhaPercentual.innerHTML = '<th>üìä</th>';
        tabelaBody.innerHTML = '';
    
        const horasSelecionadas = parseInt(document.querySelector("#seletorHoras").value);
    
        dados.sort((a, b) => {
            const dataHoraA = new Date(`${a.data}T${a.hora.toString().padStart(2, '0')}:00:00`).getTime();
            const dataHoraB = new Date(`${b.data}T${b.hora.toString().padStart(2, '0')}:00:00`).getTime();
            return dataHoraA - dataHoraB;
        });
        
        const chavesJaProcessadas = new Set();
        const mapeamentoChaveLinha = {};
    
        let contagemLinhas = 0;
    
        dados.reverse().forEach(dado => {
            if (contagemLinhas >= horasSelecionadas) return;
    
            const dataHora = new Date(dado.data);
            const hora = dado.hora;
            const chave = `${dataHora.toISOString().split('T')[0]}-${hora}`;
    
            if (!chavesJaProcessadas.has(chave)) {
                const novaLinha = document.createElement("tr");
                novaLinha.setAttribute('data-chave', chave);
    
                const colunaHora = document.createElement("td");
                colunaHora.textContent = hora.toString().padStart(2, '0');
                novaLinha.appendChild(colunaHora);
    
                liga.minutosFixos.forEach(() => {
                    novaLinha.appendChild(document.createElement("td"));
                });
    
                const contagemMercadosCelula = document.createElement("td");
                contagemMercadosCelula.textContent = 0;
                novaLinha.appendChild(contagemMercadosCelula);
    
                const totalGolsCelula = document.createElement("td");
                totalGolsCelula.textContent = 0;
                novaLinha.appendChild(totalGolsCelula);
    
                const porcentagemCelula = document.createElement("td");
                porcentagemCelula.textContent = "0%";
                novaLinha.appendChild(porcentagemCelula);
    
                tabelaBody.appendChild(novaLinha);
                chavesJaProcessadas.add(chave);
                mapeamentoChaveLinha[chave] = novaLinha;
    
                contagemLinhas++;
            }
        });
    
        function handlePlacarClick(event) {
            const placarClicado = event.currentTarget.childNodes[0].textContent.trim();
            
            if (placarSelecionado === placarClicado) {
                placarSelecionado = null;
                localStorage.removeItem('placarSelecionado');
                selecionarPlacaresIguais(null);
            } else {
                placarSelecionado = placarClicado;
                localStorage.setItem('placarSelecionado', placarClicado);
                selecionarPlacaresIguais(placarClicado);
            }
        }
    
        dados.forEach(dado => {
            const dataHora = new Date(dado.data);
            const hora = dado.hora;
            const chave = `${dataHora.toISOString().split('T')[0]}-${hora}`;
            const linha = mapeamentoChaveLinha[chave];
    
            if (linha) {
                const indexMinuto = liga.minutosFixos.indexOf(dado.minuto);
                if (indexMinuto !== -1) {
                    const colunaMinuto = linha.children[1 + indexMinuto];
    
                    if (!colunaMinuto.querySelector('.placar')) {
                        const placar = document.createElement("div");
                        placar.className = "placar";
    
                        const tipoPlacar = document.querySelector("#seletorTipoPlacar").value;
                        const placarAtual = tipoPlacar === "ft" ? dado.ft : dado.ht;
    
                        const placarTexto = document.createElement("span");
                        placarTexto.textContent = placarAtual;
                        placar.appendChild(placarTexto);
    
                        placar.addEventListener('click', handlePlacarClick);
    
                        const tooltip = document.createElement("span");
                        tooltip.className = "tooltip";
                        tooltip.textContent = `${dado.time_a} vs ${dado.time_b}`;
                        placar.appendChild(tooltip);
    
                        colunaMinuto.appendChild(placar);
    
                        if (placarSelecionado === placarAtual) {
                            placar.classList.add('placar-selecionado');
                        }
    
                        const selecaoResultado = document.querySelector("#seletorResultado").value;
                        let acerto = false;
                        const resultadoA = parseInt(placarAtual.split(' x ')[0]);
                        const resultadoB = parseInt(placarAtual.split(' x ')[1]);
    
                        if (selecaoResultado === "ambasMarcam") {
                            acerto = resultadoA > 0 && resultadoB > 0;
                        } else if (selecaoResultado === "ambasNaoMarcam") {
                            acerto = resultadoA === 0 || resultadoB === 0;
                        } else if (selecaoResultado === "over1.5") {
                            acerto = (resultadoA + resultadoB) > 1.5;
                        } else if (selecaoResultado === "under1.5") {
                            acerto = (resultadoA + resultadoB) <= 1.5;
                        } else if (selecaoResultado === "over2.5") {
                            acerto = (resultadoA + resultadoB) > 2.5;
                        } else if (selecaoResultado === "under2.5") {
                            acerto = (resultadoA + resultadoB) <= 2.5;
                        } else if (selecaoResultado === "over3.5") {
                            acerto = (resultadoA + resultadoB) > 3.5;
                        } else if (selecaoResultado === "under3.5") {
                            acerto = (resultadoA + resultadoB) <= 3.5;
                        } else if (selecaoResultado === "over5") {
                            acerto = (resultadoA + resultadoB) > 5;
                        } else if (selecaoResultado === "casaVence") {
                            acerto = resultadoA > resultadoB;
                        } else if (selecaoResultado === "foraVence") {
                            acerto = resultadoB > resultadoA;
                        } else if (selecaoResultado === "empate") {
                            acerto = resultadoA === resultadoB;
                        }
    
                        colunaMinuto.style.backgroundColor = acerto ? "#018b06" : "#be0e02";
    
                        if (acerto) {
                            linha.children[linha.children.length - 2].textContent = parseInt(linha.children[linha.children.length - 2].textContent) + 1;
                        }
    
                        const totalGolsCelula = linha.children[linha.children.length - 3];
                        const totalGols = resultadoA + resultadoB;
                        totalGolsCelula.textContent = parseInt(totalGolsCelula.textContent) + totalGols;
                    }
                }
            }
        });
    
        const todasLinhas = Array.from(tabelaBody.querySelectorAll('tr'));
        todasLinhas.forEach((row) => {
            const totalCelsProcessadas = Array.from(row.cells).slice(1, -3).filter(cell => cell.querySelector('.placar')).length;
            const celsMercado = parseInt(row.children[row.children.length - 2].textContent);
    
            const porcentagem = totalCelsProcessadas > 0 ? Math.floor((celsMercado / totalCelsProcessadas) * 100) : 0;
            const porcentagemCell = row.children[row.children.length - 1];
            porcentagemCell.innerText = `${porcentagem}%`;
    
            if (porcentagem >= 50) {
                porcentagemCell.classList.add('porcentagem-verde');
                porcentagemCell.classList.remove('porcentagem-branca');
            } else {
                porcentagemCell.classList.add('porcentagem-branca');
                porcentagemCell.classList.remove('porcentagem-verde');
            }
        });
    
        const totalColunas = liga.minutosFixos.length;
        const totalMercadosPorColuna = Array(totalColunas).fill(0);
        const totalAcertosPorColuna = Array(totalColunas).fill(0);
    
        todasLinhas.forEach(row => {
            Array.from(row.cells).slice(1, -3).forEach((cell, index) => {
                if (cell.querySelector('.placar')) {
                    totalMercadosPorColuna[index]++;
                    if (cell.style.backgroundColor === "rgb(1, 139, 6)") {
                        totalAcertosPorColuna[index]++;
                    }
                }
            });
        });
    
        linhaPercentual.innerHTML = '<th>üìà</th>';
    
        totalMercadosPorColuna.forEach((totalMercados, index) => {
            const cell = document.createElement("td");
            const porcentagemVertical = totalMercados > 0 ? Math.floor((totalAcertosPorColuna[index] / totalMercados) * 100) : 0;
            cell.textContent = `${porcentagemVertical}%`;
    
            if (porcentagemVertical > 49) {
                cell.classList.add('porcentagem-verde');
                cell.classList.remove('porcentagem-branca');
            } else {
                cell.classList.add('porcentagem-branca');
                cell.classList.remove('porcentagem-verde');
            }
    
            linhaPercentual.appendChild(cell);
        });
    
        for (let i = 0; i < 3; i++) {
            const emptyCell = document.createElement("td");
            emptyCell.textContent = "";
            linhaPercentual.appendChild(emptyCell);
        }
    
        if (placarSelecionado) {
            selecionarPlacaresIguais(placarSelecionado);
        }
    }
    
    async function buscarDados() {
        try {
            // Calculate overall statistics
            let totalAcertos = 0;
            let totalMercados = 0;
            let totalGols = 0;
            
            // Fetch data for each league
            for (const liga of ligas) {
                try {
                    const response = await fetch(liga.rota);
                    if (!response.ok) {
                        console.error(`Erro ao buscar os dados da liga ${liga.nome}: ${response.status}`);
                        continue;
                    }
                    const dados = await response.json();
                    criarTabela(dados, liga);
                    
                    // Collect stats for overall display
                    const tabela = document.querySelector(`#${liga.tabelaId}`);
                    if (tabela) {
                        const cells = tabela.querySelectorAll('td');
                        cells.forEach(cell => {
                            if (cell.style.backgroundColor === "rgb(1, 139, 6)") {
                                totalAcertos++;
                            }
                            if (cell.querySelector('.placar')) {
                                totalMercados++;
                            }
                        });
                        
                        // Calculate total goals
                        const golsCells = tabela.querySelectorAll('tr td:nth-last-child(3)');
                        golsCells.forEach(cell => {
                            totalGols += parseInt(cell.textContent) || 0;
                        });
                    }
                } catch (error) {
                    console.error(`Erro ao processar a liga ${liga.nome}:`, error);
                }
            }
            
            // Update overall stats display
            const greenPercentage = totalMercados > 0 ? Math.floor((totalAcertos / totalMercados) * 100) : 0;
            const redPercentage = totalMercados > 0 ? 100 - greenPercentage : 0;
            
            document.getElementById("greenPercentage").textContent = `Greens: ${greenPercentage}%`;
            document.getElementById("redPercentage").textContent = `Reds: ${redPercentage}%`;
            document.getElementById("totalGols").textContent = `Gols: ${totalGols}`;
            
            const horasSelecionadas = parseInt(document.querySelector("#seletorHoras").value);
            const mediaGols = horasSelecionadas > 0 ? (totalGols / horasSelecionadas).toFixed(2) : 0;
            document.getElementById("mediaGolsHora").textContent = `M√©dia Gols Por Hora: ${mediaGols}`;
            
        } catch (error) {
            console.error('Erro geral:', error);
        }
    }
    
    // Initial data load
    buscarDados();
    
    // Refresh data every 10 seconds
    setInterval(buscarDados, 10000);
    
    // Add event listeners to the selectors
    document.querySelector("#seletorHoras").addEventListener("change", buscarDados);
    document.querySelector("#seletorResultado").addEventListener("change", buscarDados);
    document.querySelector("#seletorTipoPlacar").addEventListener("change", buscarDados);
    </script>


<script>
    fetch('header.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('header').innerHTML = data;
      });
  </script>
  <script src="redirecionar.js"></script>



  <script>
document.addEventListener('DOMContentLoaded', () => {
    const containers = {
        copaAmerica: document.getElementById('jogosfuturos-copaAmerica'),
        tacaGloria: document.getElementById('jogosfuturos-tacaGloria'),
        euro: document.getElementById('jogosfuturos-euro'),
        campeonatoItaliano: document.getElementById('jogosfuturos-campeonatoItaliano'),
        copaEstrelas: document.getElementById('jogosfuturos-copaEstrelas'),
        brasileirao: document.getElementById('jogosfuturos-brasileirao')
    };

    const urls = {
        copaAmerica: 'https://betstat.site/proximos/Copa%20Am%C3%A9rica',
        tacaGloria: 'https://betstat.site/proximos/Ta%C3%A7a%20Gl%C3%B3ria%20Eterna',
        euro: 'https://betstat.site/proximos/Euro',
        campeonatoItaliano: 'https://betstat.site/proximos/Campeonato%20Italiano',
        copaEstrelas: 'https://betstat.site/proximos/Copa%20das%20Estrelas',
        brasileirao: 'https://betstat.site/proximos/Brasileir%C3%A3o%20Betano'
    };

    // Carrega inicialmente todas as ligas
    loadAllJogosFuturos();
    // Inicia a atualiza√ß√£o autom√°tica para todas as ligas
    startAllJogosFuturosAutoUpdate();

    function loadAllJogosFuturos() {
        Object.keys(urls).forEach(league => {
            loadJogosFuturos(league);
        });
    }

    function loadJogosFuturos(league) {
        fetch(urls[league])
            .then(response => response.json())
            .then(data => {
                const proximosJogos = data.slice(0, 6); // Removido o reverse()
                displayJogosFuturos(containers[league], proximosJogos);
            })
            .catch(error => {
                console.error(`Erro ao carregar jogos ${league}:`, error);
                containers[league].innerHTML = '<p>Erro ao carregar jogos</p>';
            });
    }

    function extractTimeFromDateTime(dateTimeStr) {
        if (!dateTimeStr || isNaN(new Date(dateTimeStr))) {
            return { time: "Hor√°rio indispon√≠vel", date: null };
        }
        const date = new Date(dateTimeStr);
        const hour = date.getHours().toString().padStart(2, '0');
        const minute = date.getMinutes().toString().padStart(2, '0');
        return { time: `${hour}:${minute}`, date };
    }

    function timeToMinutes(timeStr) {
        if (!timeStr || timeStr === "Hor√°rio indispon√≠vel") return -1;
        const [hours, minutes] = timeStr.split(':').map(Number);
        return hours * 60 + minutes;
    }

    function displayJogosFuturos(container, proximosJogos) {
        container.innerHTML = '';
        if (!proximosJogos || proximosJogos.length === 0) {
            container.innerHTML = '<p>Nenhum jogo dispon√≠vel</p>';
            return;
        }

        const now = new Date();
        const currentHour = now.getHours();
        const currentMinute = now.getMinutes();
        const currentTimeInMinutes = currentHour * 60 + currentMinute;
        const currentTimeStr = `${currentHour.toString().padStart(2, '0')}:${currentMinute.toString().padStart(2, '0')}`;

        const jogosComTempo = proximosJogos.map(jogo => {
            const { time, date } = jogo.time && /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(jogo.time) 
                ? { time: jogo.time, date: null }
                : extractTimeFromDateTime(jogo.start_time);
            
            const timeInMinutes = timeToMinutes(time);
            return { 
                jogo, 
                time, 
                timeInMinutes,
                distanceFromNow: timeInMinutes - currentTimeInMinutes
            };
        });

        let indexOfCurrent = -1;
        let smallestPositiveDistance = Infinity;
        
        jogosComTempo.forEach((item, index) => {
            if (item.time === currentTimeStr) {
                indexOfCurrent = index;
            } 
            else if (item.distanceFromNow > 0 && item.distanceFromNow < smallestPositiveDistance) {
                smallestPositiveDistance = item.distanceFromNow;
                if (indexOfCurrent === -1) indexOfCurrent = index;
            }
        });

        if (indexOfCurrent === -1 && jogosComTempo.length > 0) {
            indexOfCurrent = 0;
        }

        // Exibe os jogos na ordem do array jogosComTempo
        jogosComTempo.forEach((item, index) => {
            const box = document.createElement('div');
            box.classList.add('jogosfuturos-game-box');
            
            if (index === indexOfCurrent) {
                box.classList.add('jogosfuturos-current');
            } else if (index === indexOfCurrent + 1 || index === indexOfCurrent + 2) {
                box.classList.add('jogosfuturos-next');
            } else {
                box.classList.add('jogosfuturos-upcoming');
            }

            box.innerHTML = `
                <div class="jogosfuturos-time"> ${item.time}</div>
                <div class="jogosfuturos-teams">${item.jogo.team_home.toUpperCase()} x ${item.jogo.team_visit.toUpperCase()}</div>
            `;
            container.appendChild(box);
        });
    }

    function startAllJogosFuturosAutoUpdate() {
        setInterval(() => {
            loadAllJogosFuturos();
        }, 10000);
    }
});
  </script>
  </body>
</html>
