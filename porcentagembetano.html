<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" href="img/favicon.ico" type="image/x-icon" />
        <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
        <script
          async
          src="https://www.googletagmanager.com/gtag/js?id=G-4WT805FFHQ"
        ></script>
        <title>BetStat</title>
        <!-- Meta tags SEO principais -->
        <meta
          name="description"
          content="Transforme suas apostas com BetStat - a única plataforma especializada em futebol virtual Betano. Análises precisas, estatísticas confiáveis e resultados comprovados para investimentos inteligentes."
        />
        <meta
          name="keywords"
          content="BetStat, apostas esportivas, futebol virtual, Betano, estatísticas apostas, análise apostas, investimentos esportivos"
        />
    
        <!-- Open Graph meta tags para redes sociais -->
        <meta
          property="og:title"
          content="BetStat | Plataforma de Análise para Apostas Esportivas"
        />
        <meta
          property="og:description"
          content="Transforme suas apostas com análises precisas e estatísticas confiáveis. A única plataforma especializada em futebol virtual Betano."
        />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.betstat.site/payment.html" />
        <meta property="og:site_name" content="BetStat" />
    
        <!-- Meta tags adicionais -->
        <meta name="robots" content="index, follow" />
        <meta name="author" content="BetStat" />
        <meta name="canonical" href="https://www.betstat.site/payment.html" />
        <script type="module" src="js/firebase-auth.js"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag("js", new Date());
    
          gtag("config", "G-4WT805FFHQ");
        </script>
        <link
          href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap"
          rel="stylesheet"
        />
      </head>

  <style>
    body {
      font-family: "Roboto", Arial, sans-serif;
      margin: 30px;
      background-color: #1c1f26;
      color: #ffffff;
    }

    option:hover {
      background-color: #ff8000;
      color: #ffffff;
    }

    .espaco {
  width: 50px;  /* Largura da div */
  height: 50px;  /* Altura da div */
}


    button {
      background-color: #1c1f26;
      color: rgb(255, 255, 255);
      font-family: "Roboto", Arial, sans-serif;
      border: none;
      padding: 5px 8px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s;
      margin: 10px;
    }

    button:hover {
      background-color: #0f1013;
    }

    option {
      background-color: #1c1f26;
      color: #ffffff;
    }

    select {
      width: 100%;
      padding: 5px;
      border-radius: 5px;
      background-color: #1c1f26;
      color: #ffffff;
      font-family: "Roboto", Arial, sans-serif;
      font-size: 14px;
      cursor: pointer;
      transition: border-color 0.3s;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    header {
        background: #005540;
      width: 100vw;
      width: 100%;
      position: fixed;
      top: 0;
      left: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      height: 60px;
    }

    .header-container {
      display: flex;
      align-items: center;
      width: 100%;
      max-width: 1200px;
      padding: 0 20px;
      justify-content: space-between;
    }

    .logo {
      height: 40px;
    }

    .selectors-container {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .nav-seletor {
      display: flex;
      align-items: center;
      color: #ffffff;
      font-weight: 500;
    }

    .nav-seletor select {
      padding: 0.5rem ;
      border-radius: 6px;
      background-color: #1c1f26;
      color: var(--text-color);
      border: 1px solid #ffffff9f;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .logout-btn {
      background-color: #1c1f26; /* Fundo vermelho */
      color: white; /* Texto branco */
      padding: 8px 10px; /* Espaçamento interno */
      font-size: 14px; /* Tamanho da fonte */
      border-radius: 5px; /* Cantos arredondados */
      cursor: pointer; /* Cursor de botão */
      border: 1px solid #ffffff81;
    }

    .logout-btn:hover {
      background-color: #720000; /* Cor ao passar o mouse */
    }

    :root {
    --bg-dark: #1c1f26; /* Fundo da página */
    --panel-bg: #2a2a2a; /* Cor dos boxes */
    --accent-bg: #2a2a2a; /* Mesma cor para consistência */
    --text-light: #1fad8b; /* Cor dos textos fora da tabela */
    --text-muted: #1fad8b; /* Textos secundários na mesma cor */
    --text-table: #ffffff; /* Texto branco para tabela */
    --success: #d9ab01;
    --danger: #481660;
    --warning: #1fad8b;
    --neutral: #141b1f31;
    --border: #1a1b1b85;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Inter', 'Roboto', Arial, sans-serif;
    background: var(--bg-dark); /* Sem gradiente */
    color: var(--text-light);
    font-size: 15px;
    padding: 30px;
    max-width: 1800px;
    margin: 0 auto;
    line-height: 1.6;
    min-height: 100vh;
}

.panel-header {
    padding: 20px 25px;
    background: var(--accent-bg); /* Sem gradiente */
    border-radius: 12px 12px 0 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 10px var(--shadow);
    margin-top: 60px;
}

.panel-title {
    font-size: 24px;
    font-weight: 600;
    letter-spacing: 0.5px;
    text-transform: uppercase;
}

.panel-grid {
    display: grid;
    gap: 30px;
    margin-top: 20px;
}


.section-header {
    background: var(--accent-bg);
    padding: 15px 20px;
    font-size: 18px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid var(--border);
}


.section-content {
    padding: 20px;
    background: var(--panel-bg);
}

table {
    width: 100%;
    border-spacing: 0;
    font-size: 14px;
    background: var(--panel-bg);
    overflow: hidden;

}

th, td {
    padding: 12px 15px;
    text-align: center;
    border: 1px solid var(--border);
    position: relative;
    transition: background 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
    color: var(--text-table); /* Texto branco na tabela */
    border-radius: 5px;
}

th {
    background: var(--accent-bg); /* Sem gradiente */
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-size: 13px;
    position: sticky;
    top: 0;
    z-index: 1;
    border-radius: 5px;
}

td {
    background: var(--panel-bg);
         border-radius: 5px;
}

td:hover {
    cursor: pointer;
}

th:first-child, td:first-child {
    border-left: none;
}

th:last-child, td:last-child {
    border-right: none;
}

.success {
    background: var(--success); /* Sem gradiente */
    color: var(--text-table);
    font-weight: 600;
}

.danger {
    background: var(--danger); /* Sem gradiente */
    color: var(--text-table);
    font-weight: 600;
}

.market-label {
    background: var(--panel-bg);
    text-align: left;
    font-weight: 600;
    padding-left: 20px;
    color: var(--text-table);
}

.trend-section {
    padding: 0;
    background: var(--panel-bg);
    border-radius: 12px;
    margin-top: 20px;
    box-shadow: 0 4px 15px var(--shadow);
    overflow: hidden;
    transition: transform 0.2s ease;
}

.trend-section:hover {
    transform: translateY(-2px);
}

.trend-content {
    padding: 20px;
    display: none;
    background: var(--panel-bg);
}

.trend-table {
    width: 100%;
    margin-top: 10px;
    border-radius: 8px;
    overflow: hidden;
}

.trend-up {
    color: #1fad8b;
    background: #ffc8012a;
    font-weight: 500;
}

.trend-down {
    color: #1fad8b;
    background: #5e1f7d2a;
    font-weight: 500;
}

.trend-neutral {
    color: var(--warning);
    background: #1fad8c2d;
    font-weight: 500;
}

.trend-icon {
    font-size: 14px;
    margin-left: 6px;
}

.trend-value {
    font-weight: 600;
}

.trend-change {
    font-size: 12px;
    margin-left: 4px;
    opacity: 0.9;
}

.trend-note {
    font-size: 12px;
    color: var(--text-muted);
    margin-top: 12px;
    font-style: italic;
    padding: 8px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 4px;
}

.refresh-status {
    font-size: 14px;
    color: var(--text-muted);
    display: flex;
    align-items: center;
}

.spinner {
    display: inline-block;
    width: 14px;
    height: 14px;
    border: 2px solid var(--text-muted);
    border-top-color: var(--neutral);
    border-radius: 50%;
    animation: rotate 1s ease-in-out infinite;
    margin-right: 8px;
}

.tooltip {
    visibility: hidden;
    background: #2c3e50;
    color: var(--text-light);
    text-align: center;
    padding: 6px 12px;
    border-radius: 6px;
    position: absolute;
    z-index: 2;
    bottom: 130%;
    left: 50%;
    transform: translateX(-50%);
    font-size: 12px;
    white-space: nowrap;
    cursor: pointer;
    transition: opacity 0.2s ease;
}

td:hover .tooltip {
    visibility: visible;
    opacity: 1;
}

.market-filters {
    padding: 15px 20px;
    background: var(--accent-bg);
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    border-bottom: 1px solid var(--border);
}

.market-filter {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 8px;
    border-radius: 4px;
    transition: background 0.2s ease;
}

.market-filter:hover {
    background: rgba(255, 255, 255, 0.05);
}

.market-filter input {
    cursor: pointer;
    accent-color: var(--neutral);
}

.market-filter label {
    font-size: 13px;
    cursor: pointer;
    color: var(--text-light);
    font-weight: 400;
}

.above-average-note {
    font-size: 12px;
    color: var(--text-muted);
    padding: 10px 20px;
    background: rgba(255, 255, 255, 0.03);
    border-bottom: 1px solid var(--border);
    font-style: italic;
}

@keyframes rotate {
    to { transform: rotate(360deg); }
}

@media (max-width: 768px) {
    body {
        padding: 20px;
    }

    .panel-title {
        font-size: 20px;
    }

    th, td {
        padding: 10px;
        font-size: 12px;
    }

    .market-filters {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }

    .section-header {
        font-size: 16px;
        padding: 12px 15px;
    }
}
  </style>

  <body>
    <body>
        <div id="header"></div>

        <div class="panel-header">
            <div class="panel-title">Painel de Porcentagens</div>
            <div class="refresh-status"><span class="spinner"></span>Atualizando...</div>
        </div>
    
        <div class="panel-grid">
            <div class="league-section" id="copaAmericaSection">
                <div class="section-header">Copa América</div>
                <div class="market-filters" id="copaAmericaFilters"></div>
                <div class="above-average-note" id="copaAmericaAboveAverage"></div>
                <div class="section-content" id="copaAmericaStats"></div>
            </div>
            <div class="trend-section" id="copaAmericaTrends">
                <div class="section-header" onclick="toggleTrend(this)">Tendências - Copa América<span>▼</span></div>
                <div class="trend-content"></div>
            </div>
    
            <div class="league-section" id="tacaGloriaSection">
                <div class="section-header">Taça Glória Eterna</div>
                <div class="market-filters" id="tacaGloriaFilters"></div>
                <div class="above-average-note" id="tacaGloriaAboveAverage"></div>
                <div class="section-content" id="tacaGloriaStats"></div>
            </div>
            <div class="trend-section" id="tacaGloriaTrends">
                <div class="section-header" onclick="toggleTrend(this)">Tendências - Taça Glória<span>▼</span></div>
                <div class="trend-content"></div>
            </div>
    
            <div class="league-section" id="euroSection">
                <div class="section-header">Euro</div>
                <div class="market-filters" id="euroFilters"></div>
                <div class="above-average-note" id="euroAboveAverage"></div>
                <div class="section-content" id="euroStats"></div>
            </div>
            <div class="trend-section" id="euroTrends">
                <div class="section-header" onclick="toggleTrend(this)">Tendências - Euro<span>▼</span></div>
                <div class="trend-content"></div>
            </div>
    
            <div class="league-section" id="campeonatoItalianoSection">
                <div class="section-header">Campeonato Italiano</div>
                <div class="market-filters" id="campeonatoItalianoFilters"></div>
                <div class="above-average-note" id="campeonatoItalianoAboveAverage"></div>
                <div class="section-content" id="campeonatoItalianoStats"></div>
            </div>
            <div class="trend-section" id="campeonatoItalianoTrends">
                <div class="section-header" onclick="toggleTrend(this)">Tendências - Italiano<span>▼</span></div>
                <div class="trend-content"></div>
            </div>
    
            <div class="league-section" id="copaEstrelasSection">
                <div class="section-header">Copa das Estrelas</div>
                <div class="market-filters" id="copaEstrelasFilters"></div>
                <div class="above-average-note" id="copaEstrelasAboveAverage"></div>
                <div class="section-content" id="copaEstrelasStats"></div>
            </div>
            <div class="trend-section" id="copaEstrelasTrends">
                <div class="section-header" onclick="toggleTrend(this)">Tendências - Estrelas<span>▼</span></div>
                <div class="trend-content"></div>
            </div>
    
            <div class="league-section" id="brasileiraoSection">
                <div class="section-header">Brasileirão Betano</div>
                <div class="market-filters" id="brasileiraoFilters"></div>
                <div class="above-average-note" id="brasileiraoAboveAverage"></div>
                <div class="section-content" id="brasileiraoStats"></div>
            </div>
            <div class="trend-section" id="brasileiraoTrends">
                <div class="section-header" onclick="toggleTrend(this)">Tendências - Brasileirão Betano<span>▼</span></div>
                <div class="trend-content"></div>
            </div>


    <script>
const competitions = [
            { id: 'copaAmerica', label: 'Copa América', endpoint: 'https://betstat.site/resultados/Copa%20Am%C3%A9rica' },
            { id: 'tacaGloria', label: 'Taça Glória', endpoint: 'https://betstat.site/resultados/Ta%C3%A7a%20Gl%C3%B3ria%20eterna' },
            { id: 'euro', label: 'Euro', endpoint: 'https://betstat.site/resultados/Euro' },
            { id: 'campeonatoItaliano', label: 'Italiano', endpoint: 'https://betstat.site/resultados/Campeonato%20Italiano' },
            { id: 'copaEstrelas', label: 'Estrelas', endpoint: 'https://betstat.site/resultados/Copa%20das%20estrelas' },
            { id: 'brasileirao', label: 'brasileirao', endpoint: 'https://betstat.site/resultados/Brasileir%C3%A3o%20Betano' },
        ];

        const allMarkets = [
            { label: 'Ambas Sim', target: 47.08, default: true },
            { label: 'Ambas Não', target: 52.92, default: true },
            { label: 'Over 0.5', target: 90.00 },
            { label: 'Over 1.5', target: 68.46 },
            { label: 'Over 2.5', target: 42.16 },
            { label: 'Over 3.5', target: 21.33 },
            { label: 'Under 0.5', target: 10.00 },
            { label: 'Under 1.5', target: 31.54 },
            { label: 'Under 2.5', target: 57.84 },
            { label: 'Under 3.5', target: 78.67 },
            { label: '0 Gols', target: 10.00 },
            { label: '1 Gol', target: 20.00 },
            { label: '2 Gols', target: 24.00 },
            { label: '3 Gols', target: 20.00 },
            { label: '4 Gols', target: 15.00 },
            { label: '5 Gols', target: 10.00 },
            { label: 'Casa Vence FT', target: 45.00 },
            { label: 'Fora Vence FT', target: 35.00 },
            { label: 'Empate FT', target: 20.00 },
            { label: 'Casa Vence HT', target: 35.00 },
            { label: 'Fora Vence HT', target: 25.00 },
            { label: 'Empate HT', target: 40.00 }
        ];

        // Armazenar seleções de mercados para cada competição
        const marketSelections = {};

        function parseResult(result) {
            try {
                if (!result) return { home: 0, away: 0 };
                const [home, away] = result.split('x').map(s => parseInt(s.trim()));
                return { 
                    home: isNaN(home) ? 0 : home, 
                    away: isNaN(away) ? 0 : away 
                };
            } catch (error) {
                console.error('Erro ao processar placar:', result, error);
                return { home: 0, away: 0 };
            }
        }

        function formatMatch(match) {
            const scores = parseResult(match.ft);
            return {
                league: match.liga,
                homeScore: scores.home,
                awayScore: scores.away,
                homeTeam: match.time_a,
                awayTeam: match.time_b,
                goals: scores.home + scores.away,
                date: new Date(match.data),
                hora: match.hora,
                minuto: match.minuto,
                timestamp: new Date(match.data + ' ' + match.hora + ':' + match.minuto)
            };
        }

        async function getCompetitionData(comp) {
            try {
                const res = await fetch(comp.endpoint);
                if (!res.ok) throw new Error(`Erro ${res.status}`);
                const data = await res.json();
                return data
                    .map(formatMatch)
                    .sort((a, b) => {
                        if (a.date.getTime() !== b.date.getTime()) return b.date.getTime() - a.date.getTime();
                        if (a.hora !== b.hora) return b.hora - a.hora;
                        return b.minuto - a.minuto;
                    });
            } catch (err) {
                console.error(`Falha ao carregar ${comp.label}:`, err);
                return [];
            }
        }

        function analyzePerformance(data, selectedMarkets) {
            const ranges = [20, 40, 60, 80, 100, 120, 140, 160, 180, 240, 480, 720, 960, 1440];
            const markets = allMarkets.filter(m => selectedMarkets.includes(m.label));

            return markets.map(market => {
                return {
                    market: market.label,
                    target: market.target,
                    counts: ranges.map((range, index) => {
                        const gamesConsidered = data.slice(0, range);
                        if (gamesConsidered.length === 0) return { percentage: 0, status: 'danger', diff: 0 };

                        const greenCount = gamesConsidered.filter(match => evaluateMarket(match, market.label)).length;
                        const percentage = (greenCount / Math.min(range, gamesConsidered.length)) * 100;
                        const roundedPercentage = Math.round(percentage);

                        let diff = 0;
                        if (index > 0) {
                            const prevRange = ranges[index - 1];
                            const prevGames = data.slice(0, prevRange);
                            const prevGreenCount = prevGames.filter(match => evaluateMarket(match, market.label)).length;
                            const prevPercentage = (prevGreenCount / Math.min(prevRange, prevGames.length)) * 100;
                            diff = Math.round(roundedPercentage - prevPercentage);
                        }

                        return {
                            percentage: roundedPercentage,
                            status: roundedPercentage >= market.target ? 'success' : 'danger',
                            diff
                        };
                    })
                };
            });
        }

        function evaluateMarket(match, market) {
            switch (market) {
                case 'Ambas Sim': return match.homeScore > 0 && match.awayScore > 0;
                case 'Ambas Não': return match.homeScore === 0 || match.awayScore === 0;
                case 'Over 0.5': return match.goals > 0.5;
                case 'Over 1.5': return match.goals > 1.5;
                case 'Over 2.5': return match.goals > 2.5;
                case 'Over 3.5': return match.goals > 3.5;
                case 'Over 4.5': return match.goals > 4.5;
                case 'Over 5.5': return match.goals > 5.5;
                case 'Under 0.5': return match.goals < 0.5;
                case 'Under 1.5': return match.goals < 1.5;
                case 'Under 2.5': return match.goals < 2.5;
                case 'Under 3.5': return match.goals < 3.5;
                case 'Under 4.5': return match.goals < 4.5;
                case 'Under 5.5': return match.goals < 5.5;
                case '0 Gols': return match.goals === 0;
                case '1 Gol': return match.goals === 1;
                case '2 Gols': return match.goals === 2;
                case '3 Gols': return match.goals === 3;
                case '4 Gols': return match.goals === 4;
                case '5 Gols': return match.goals === 5;
                case 'Casa Vence FT': return match.homeScore > match.awayScore;
                case 'Fora Vence FT': return match.awayScore > match.homeScore;
                case 'Empate FT': return match.homeScore === match.awayScore;
                case 'Casa Vence HT': return match.homeScore > match.awayScore;
                case 'Fora Vence HT': return match.awayScore > match.homeScore;
                case 'Empate HT': return match.homeScore === match.awayScore;
                default: return false;
            }
        }

        function renderFilters(comp, isInitial = true) {
            const filterContainer = document.getElementById(`${comp.id}Filters`);
            if (!isInitial && filterContainer.innerHTML) return;

            let html = '';
            allMarkets.forEach(market => {
                const isChecked = marketSelections[comp.id]?.includes(market.label) ?? market.default;
                html += `
                    <div class="market-filter">
                        <input type="checkbox" id="${comp.id}-${market.label.replace(/\s/g, '-')}" 
                            ${isChecked ? 'checked' : ''} onchange="updateMarketSelection('${comp.id}', '${market.label}')">
                        <label for="${comp.id}-${market.label.replace(/\s/g, '-')}">${market.label}</label>
                    </div>`;
            });
            filterContainer.innerHTML = html;
        }

        function updateMarketSelection(compId, marketLabel) {
            if (!marketSelections[compId]) marketSelections[compId] = [];
            const index = marketSelections[compId].indexOf(marketLabel);
            if (index === -1) {
                marketSelections[compId].push(marketLabel);
            } else {
                marketSelections[compId].splice(index, 1);
            }
            updateStats(compId);
        }

        function getSelectedMarkets(compId) {
            return marketSelections[compId] || allMarkets.filter(m => m.default).map(m => m.label);
        }

        function renderStats(data, comp) {
            const ranges = [20, 40, 60, 80, 100, 120, 140, 160, 180, 240, 480, 720, 960, 1440];
            const selectedMarkets = getSelectedMarkets(comp.id);
            const stats = analyzePerformance(data, selectedMarkets);

            const aboveAverage = stats
                .filter(row => row.counts.every(count => count.percentage >= row.target))
                .map(row => row.market);

            document.getElementById(`${comp.id}AboveAverage`).textContent = 
                aboveAverage.length ? `Mercados acima da média: ${aboveAverage.join(', ')}` : 'Nenhum mercado selecionado acima da média';

            let html = '<table>';
            html += `<tr><th>Mercado</th>${ranges.map(r => `<th>${r}</th>`).join('')}</tr>`;
            stats.forEach(row => {
                html += `<tr><td class="market-label">${row.market}</td>`;
                row.counts.forEach(count => {
                    const tooltipText = count.diff === 0 ? 'Sem variação' : 
                        `${count.diff > 0 ? 'Subiu' : 'Caiu'} ${Math.abs(count.diff)}%`;
                    html += `<td class="${count.status}">${count.percentage}%<span class="tooltip">${tooltipText}</span></td>`;
                });
                html += '</tr>';
            });
            html += '</table>';

            document.getElementById(`${comp.id}Stats`).innerHTML = html;
            renderTrends(data, comp, stats);
        }

        function computeTrend(data, market, ranges) {
            const trends = {};
            ranges.forEach(range => {
                const currentGames = data.slice(0, range);
                if (currentGames.length < range) {
                    trends[range] = { value: 0, trend: 'neutral', diff: 0 };
                    return;
                }
                const currentGreens = currentGames.filter(match => evaluateMarket(match, market)).length;
                const currentPercentage = (currentGreens / currentGames.length) * 100;

                const previousGames = data.slice(range, range * 2);
                if (previousGames.length < range) {
                    trends[range] = { value: Math.round(currentPercentage), trend: 'neutral', diff: 0 };
                    return;
                }
                const previousGreens = previousGames.filter(match => evaluateMarket(match, market)).length;
                const previousPercentage = (previousGreens / previousGames.length) * 100;

                const diff = currentPercentage - previousPercentage;
                const trend = diff > 2 ? 'up' : diff < -2 ? 'down' : 'neutral';
                trends[range] = { value: Math.round(currentPercentage), trend, diff: Math.round(diff) };
            });
            return trends;
        }

        function trendStyle(trend) {
            return trend.trend === 'up' ? 'trend-up' : trend.trend === 'down' ? 'trend-down' : 'trend-neutral';
        }

        function trendSymbol(trend) {
            return trend.trend === 'up' ? '↑' : trend.trend === 'down' ? '↓' : '→';
        }

        function renderTrends(data, comp, stats) {
            const periods = [5, 10, 15];
            let html = '<table class="trend-table">';
            html += `<tr><th>Mercado</th>${periods.map(p => `<th>${p} Jogos</th>`).join('')}</tr>`;
            stats.forEach(row => {
                const trends = computeTrend(data, row.market, periods);
                html += `<tr><td class="market-label">${row.market}</td>`;
                periods.forEach(period => {
                    const t = trends[period];
                    html += `
                        <td class="${trendStyle(t)}">
                            <span class="trend-value">${t.value}%</span>
                            <span class="trend-icon">${trendSymbol(t)}</span>
                            <span class="trend-change">(${t.diff > 0 ? '+' : ''}${t.diff}%)</span>
                        </td>`;
                });
                html += '</tr>';
            });
            html += '</table>';
            html += '<p class="trend-note">Análise de variação entre períodos recentes e anteriores.</p>';
            document.getElementById(`${comp.id}Trends`).querySelector('.trend-content').innerHTML = html;
        }

        function toggleTrend(header) {
            const content = header.nextElementSibling;
            const arrow = header.querySelector('span');
            content.style.display = content.style.display === 'block' ? 'none' : 'block';
            arrow.textContent = content.style.display === 'block' ? '▲' : '▼';
        }

        async function updateStats(compId) {
            const comp = competitions.find(c => c.id === compId);
            const data = await getCompetitionData(comp);
            if (data.length) renderStats(data, comp);
        }

        async function refreshDashboard() {
            for (const comp of competitions) {
                renderFilters(comp, false);
                const data = await getCompetitionData(comp);
                if (data.length) renderStats(data, comp);
            }
        }

        // Inicialização
        competitions.forEach(comp => {
            renderFilters(comp, true);
            if (!marketSelections[comp.id]) {
                marketSelections[comp.id] = allMarkets.filter(m => m.default).map(m => m.label);
            }
        });
        refreshDashboard();
        setInterval(refreshDashboard, 30000);
    </script>


<script>
    fetch('header.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('header').innerHTML = data;
      });
  </script>
  <script src="redirecionar.js"></script>

<script>
      // Bloqueia o menu de contexto (clique direito)
      document.addEventListener("contextmenu", function(e) {
    e.preventDefault();
});

// Bloqueia atalhos de teclado comuns para ferramentas de desenvolvimento
document.addEventListener("keydown", function(e) {
    // F12
    if (e.key === "F12") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + I
    if (e.ctrlKey && e.shiftKey && e.key === "I") {
        e.preventDefault();
    }
    
    // Ctrl + U (ver código fonte)
    if (e.ctrlKey && e.key === "u") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + J (console)
    if (e.ctrlKey && e.shiftKey && e.key === "J") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + C (inspeção de elementos)
    if (e.ctrlKey && e.shiftKey && e.key === "C") {
        e.preventDefault();
    }
    
    // Ctrl + S (salvar página)
    if (e.ctrlKey && e.key === "s") {
        e.preventDefault();
    }
    
    // Ctrl + P (imprimir)
    if (e.ctrlKey && e.key === "p") {
        e.preventDefault();
    }
});

// Detecta abertura de ferramentas de desenvolvimento
const devtools = { open: false };
const element = new Image();
Object.defineProperty(element, 'id', {
    get: function () {
        devtools.open = true;
    }
});

// Adiciona detecção alternativa de devtools
(function() {
    const threshold = 160;
    const checkDevTools = function() {
        if ((window.outerWidth - window.innerWidth) > threshold || 
            (window.outerHeight - window.innerHeight) > threshold) {
            devtools.open = true;
        }
    };
    
    window.addEventListener('resize', checkDevTools);
    setInterval(checkDevTools, 500);
})();

// Monitoramento contínuo
console.log('%c', element);
setInterval(function() {
    if (devtools.open) {
        document.body.innerHTML = '<h1>Acesso não autorizado detectado</h1>';
        // Ou redirecionar:
        // window.location.href = 'about:blank';
        devtools.open = false;
    }
}, 1000);

// Impede seleção de texto
document.addEventListener('selectstart', function(e) {
    e.preventDefault();
});

// Impede arrastar e soltar
document.addEventListener('dragstart', function(e) {
    e.preventDefault();
});

// Ofusca console
console.log = function() {};
console.debug = function() {};
console.info = function() {};
  </script>
  </body>
</html>
