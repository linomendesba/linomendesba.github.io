<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" href="img/favicon.ico" type="image/x-icon" />
        <link rel="stylesheet" href="style.css" />
        <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
        <script
          async
          src="https://www.googletagmanager.com/gtag/js?id=G-4WT805FFHQ"
        ></script>
        <title>BetStat</title>
        <!-- Meta tags SEO principais -->
        <meta
          name="description"
          content="Transforme suas apostas com BetStat - a Ãºnica plataforma especializada em futebol virtual Betano. AnÃ¡lises precisas, estatÃ­sticas confiÃ¡veis e resultados comprovados para investimentos inteligentes."
        />
        <meta
          name="keywords"
          content="BetStat, apostas esportivas, futebol virtual, Betano, estatÃ­sticas apostas, anÃ¡lise apostas, investimentos esportivos"
        />
    
        <!-- Open Graph meta tags para redes sociais -->
        <meta
          property="og:title"
          content="BetStat | Plataforma de AnÃ¡lise para Apostas Esportivas"
        />
        <meta
          property="og:description"
          content="Transforme suas apostas com anÃ¡lises precisas e estatÃ­sticas confiÃ¡veis. A Ãºnica plataforma especializada em futebol virtual Betano."
        />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.betstat.site/payment.html" />
        <meta property="og:site_name" content="BetStat" />
    
        <!-- Meta tags adicionais -->
        <meta name="robots" content="index, follow" />
        <meta name="author" content="BetStat" />
        <meta name="canonical" href="https://www.betstat.site/payment.html" />
        <script type="module" src="js/firebase-auth.js"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag("js", new Date());
    
          gtag("config", "G-4WT805FFHQ");
        </script>
        <link
          href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap"
          rel="stylesheet"
        />
      </head>

  <body>
    <body>

        
        <div id="header"></div>

    <br><br>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• COPA DO MUNDO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h4>Copa do Mundo</h4>

<div class="seletor-container">
  <div class="seletor-horas">
    <label>Horas:</label>
    <select id="seletorHoras-copa">
      <option value="3">3h</option>
      <option value="6">6h</option>
      <option value="12" selected>12h</option>
      <option value="24">24h</option>
    </select>
  </div>
  <div class="seletor-resultado">
    <label>Mercado:</label>
    <select id="seletorResultado-copa">
      <option value="ambasMarcam" selected>Ambas Sim</option>
      <option value="ambasNaoMarcam">Ambas NÃ£o</option>
      <option value="casaVence">Casa Vence</option>
      <option value="foraVence">Fora Vence</option>
      <option value="empate">Empate</option>
      <option value="over1.5">Over 1.5</option>
      <option value="under1.5">Under 1.5</option>
      <option value="over2.5">Over 2.5</option>
      <option value="under2.5">Under 2.5</option>
      <option value="over3.5">Over 3.5</option>
      <option value="under3.5">Under 3.5</option>
      <option value="over5">Over 5+</option>
    </select>
  </div>
  <div class="seletor-tipo-placar">
    <label>Resultado:</label>
    <select id="seletorTipoPlacar-copa">
      <option value="ft" selected>FT</option>
      <option value="ht">HT</option>
    </select>
  </div>
  <div class="seletor-times">
    <label>Times:</label>
    <select id="mostrarTimes-copa">
      <option value="nao" selected>NÃ£o</option>
      <option value="sim">Sim</option>
    </select>
  </div>
  <div class="seletor-ht">
    <label>HT:</label>
    <select id="mostrarHT-copa">
      <option value="nao" selected>NÃ£o</option>
      <option value="sim">Sim</option>
    </select>
  </div>
  <div class="seletor-odds">
    <label>Odds:</label>
    <select id="mostrarOdds-copa">
      <option value="nao" selected>NÃ£o</option>
      <option value="sim">Sim</option>
    </select>
  </div>
</div>

<div class="jogosfuturos-container" id="jogosfuturos-copa-container">
  <div class="jogosfuturos-games-container" id="jogosfuturos-copa"></div>
</div>
<table id="tabelaResultadosCopa" class="tabela-liga">
  <thead></thead>
  <tbody></tbody>
</table>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• EURO CUP â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h4>Euro Cup</h4>

<div class="seletor-container">
  <div class="seletor-horas">
    <label>Horas:</label>
    <select id="seletorHoras-euro">
      <option value="3">3h</option>
      <option value="6">6h</option>
      <option value="12" selected>12h</option>
      <option value="24">24h</option>
    </select>
  </div>
  <div class="seletor-resultado">
    <label>Mercado:</label>
    <select id="seletorResultado-euro">
      <option value="ambasMarcam" selected>Ambas Sim</option>
      <option value="ambasNaoMarcam">Ambas NÃ£o</option>
      <option value="casaVence">Casa Vence</option>
      <option value="foraVence">Fora Vence</option>
      <option value="empate">Empate</option>
      <option value="over1.5">Over 1.5</option>
      <option value="under1.5">Under 1.5</option>
      <option value="over2.5">Over 2.5</option>
      <option value="under2.5">Under 2.5</option>
      <option value="over3.5">Over 3.5</option>
      <option value="under3.5">Under 3.5</option>
      <option value="over5">Over 5+</option>
    </select>
  </div>
  <div class="seletor-tipo-placar">
    <label>Resultado:</label>
    <select id="seletorTipoPlacar-euro">
      <option value="ft" selected>FT</option>
      <option value="ht">HT</option>
    </select>
  </div>
  <div class="seletor-times">
    <label>Times:</label>
    <select id="mostrarTimes-euro">
      <option value="nao" selected>NÃ£o</option>
      <option value="sim">Sim</option>
    </select>
  </div>
  <div class="seletor-ht">
    <label>HT:</label>
    <select id="mostrarHT-euro">
      <option value="nao" selected>NÃ£o</option>
      <option value="sim">Sim</option>
    </select>
  </div>
  <div class="seletor-odds">
    <label>Odds:</label>
    <select id="mostrarOdds-euro">
      <option value="nao" selected>NÃ£o</option>
      <option value="sim">Sim</option>
    </select>
  </div>
</div>

<div class="jogosfuturos-container" id="jogosfuturos-euro-container">
  <div class="jogosfuturos-games-container" id="jogosfuturos-euro"></div>
</div>
<table id="tabelaResultadosEuro" class="tabela-liga">
  <thead></thead>
  <tbody></tbody>
</table>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SUPER LIGA â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h4>Super Liga</h4>

<div class="seletor-container">
  <div class="seletor-horas">
    <label>Horas:</label>
    <select id="seletorHoras-super">
      <option value="3">3h</option>
      <option value="6">6h</option>
      <option value="12" selected>12h</option>
      <option value="24">24h</option>
    </select>
  </div>
  <div class="seletor-resultado">
    <label>Mercado:</label>
    <select id="seletorResultado-super">
      <option value="ambasMarcam" selected>Ambas Sim</option>
      <option value="ambasNaoMarcam">Ambas NÃ£o</option>
      <option value="casaVence">Casa Vence</option>
      <option value="foraVence">Fora Vence</option>
      <option value="empate">Empate</option>
      <option value="over1.5">Over 1.5</option>
      <option value="under1.5">Under 1.5</option>
      <option value="over2.5">Over 2.5</option>
      <option value="under2.5">Under 2.5</option>
      <option value="over3.5">Over 3.5</option>
      <option value="under3.5">Under 3.5</option>
      <option value="over5">Over 5+</option>
    </select>
  </div>
  <div class="seletor-tipo-placar">
    <label>Resultado:</label>
    <select id="seletorTipoPlacar-super">
      <option value="ft" selected>FT</option>
      <option value="ht">HT</option>
    </select>
  </div>
  <div class="seletor-times">
    <label>Times:</label>
    <select id="mostrarTimes-super">
      <option value="nao" selected>NÃ£o</option>
      <option value="sim">Sim</option>
    </select>
  </div>
  <div class="seletor-ht">
    <label>HT:</label>
    <select id="mostrarHT-super">
      <option value="nao" selected>NÃ£o</option>
      <option value="sim">Sim</option>
    </select>
  </div>
  <div class="seletor-odds">
    <label>Odds:</label>
    <select id="mostrarOdds-super">
      <option value="nao" selected>NÃ£o</option>
      <option value="sim">Sim</option>
    </select>
  </div>
</div>

<div class="jogosfuturos-container" id="jogosfuturos-super-container">
  <div class="jogosfuturos-games-container" id="jogosfuturos-super"></div>
</div>
<table id="tabelaResultadosSuper" class="tabela-liga">
  <thead></thead>
  <tbody></tbody>
</table>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PREMIER LEAGUE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h4>Premier League</h4>

<div class="seletor-container">
  <div class="seletor-horas">
    <label>Horas:</label>
    <select id="seletorHoras-premier">
      <option value="3">3h</option>
      <option value="6">6h</option>
      <option value="12" selected>12h</option>
      <option value="24">24h</option>
    </select>
  </div>
  <div class="seletor-resultado">
    <label>Mercado:</label>
    <select id="seletorResultado-premier">
      <option value="ambasMarcam" selected>Ambas Sim</option>
      <option value="ambasNaoMarcam">Ambas NÃ£o</option>
      <option value="casaVence">Casa Vence</option>
      <option value="foraVence">Fora Vence</option>
      <option value="empate">Empate</option>
      <option value="over1.5">Over 1.5</option>
      <option value="under1.5">Under 1.5</option>
      <option value="over2.5">Over 2.5</option>
      <option value="under2.5">Under 2.5</option>
      <option value="over3.5">Over 3.5</option>
      <option value="under3.5">Under 3.5</option>
      <option value="over5">Over 5+</option>
    </select>
  </div>
  <div class="seletor-tipo-placar">
    <label>Resultado:</label>
    <select id="seletorTipoPlacar-premier">
      <option value="ft" selected>FT</option>
      <option value="ht">HT</option>
    </select>
  </div>
  <div class="seletor-times">
    <label>Times:</label>
    <select id="mostrarTimes-premier">
      <option value="nao" selected>NÃ£o</option>
      <option value="sim">Sim</option>
    </select>
  </div>
  <div class="seletor-ht">
    <label>HT:</label>
    <select id="mostrarHT-premier">
      <option value="nao" selected>NÃ£o</option>
      <option value="sim">Sim</option>
    </select>
  </div>
  <div class="seletor-odds">
    <label>Odds:</label>
    <select id="mostrarOdds-premier">
      <option value="nao" selected>NÃ£o</option>
      <option value="sim">Sim</option>
    </select>
  </div>
</div>

<div class="jogosfuturos-container" id="jogosfuturos-premier-container">
  <div class="jogosfuturos-games-container" id="jogosfuturos-premier"></div>
</div>
<table id="tabelaResultadosPremier" class="tabela-liga">
  <thead></thead>
  <tbody></tbody>
</table>


    <script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONFIGURAÃ‡ÃƒO DAS LIGAS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const LIGAS_CONFIG = {
  copa: {
    nome:           "Copa",
    rotaResultados: "https://betstat.site/resultados/bet365/Copa",
    rotaProximos:   "https://betstat.site/proximos/bet365/Copa",
    tabelaId:       "tabelaResultadosCopa",
    containerId:    "jogosfuturos-copa",
    minutosFixos:   [1,4,7,10,13,16,19,22,25,28,31,34,37,40,43,46,49,52,55,58],
    quadrantSize:   5,
    jogosPorHora:   20,
  },
  euro: {
    nome:           "Euro",
    rotaResultados: "https://betstat.site/resultados/bet365/Euro",
    rotaProximos:   "https://betstat.site/proximos/bet365/Euro",
    tabelaId:       "tabelaResultadosEuro",
    containerId:    "jogosfuturos-euro",
    minutosFixos:   [2,5,8,11,14,17,20,23,26,29,32,35,38,41,44,47,50,53,56,59],
    quadrantSize:   5,
    jogosPorHora:   20,
  },
  super: {
    nome:           "Super",
    rotaResultados: "https://betstat.site/resultados/bet365/Super",
    rotaProximos:   "https://betstat.site/proximos/bet365/Super",
    tabelaId:       "tabelaResultadosSuper",
    containerId:    "jogosfuturos-super",
    minutosFixos:   [1,4,7,10,13,16,19,22,25,28,31,34,37,40,43,46,49,52,55,58],
    quadrantSize:   5,
    jogosPorHora:   20,
  },
  premier: {
    nome:           "Premier",
    rotaResultados: "https://betstat.site/resultados/bet365/Premier",
    rotaProximos:   "https://betstat.site/proximos/bet365/Premier",
    tabelaId:       "tabelaResultadosPremier",
    containerId:    "jogosfuturos-premier",
    minutosFixos:   [0,3,6,9,12,15,18,21,24,27,30,33,36,39,42,45,48,51,54,57],
    quadrantSize:   5,
    jogosPorHora:   20,
  },
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PALETAS DE CORES (sem verde/vermelho das cÃ©lulas)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const CORES_PLACAR = ["#A855F7","#F59E0B","#3B82F6","#EC4899","#06B6D4","#F97316"];
const CORES_TIME   = ["#FACC15","#818CF8","#34D399","#FB7185","#A78BFA","#22D3EE"];
const CORES_ODD    = ["#F472B6","#FDE68A","#93C5FD","#6EE7B7","#FCA5A1","#C4B5FD"];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// THRESHOLDS DE MERCADO
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const MERCADO_MEDIA_BASE = {
  ambasMarcam:9, ambasNaoMarcam:11, casaVence:8, foraVence:7, empate:5,
  "over1.5":14, "under1.5":6, "over2.5":8, "under2.5":12,
  "over3.5":4, "under3.5":16, over5:2,
};

function getThreshold(mercado, jogosPorHora) {
  const media = MERCADO_MEDIA_BASE[mercado];
  if (media == null) return 50;
  return Math.round((media * ((jogosPorHora||20) / 20) / (jogosPorHora||20)) * 100);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ESTADO POR LIGA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
class EstadoLiga {
  constructor(key) {
    this.key                 = key;
    this.placarSelecionados  = [];
    this.timesSelecionados   = [];
    this.oddsSelecionadas    = [];
    this.selectedChaves      = [];
    this.colunasSelecionadas = [];
    this._hashDados          = null;
    this._hashProximos       = null;
  }

  _k(tipo) { return `${tipo}_${this.key}`; }

  carregar() {
    const g = k => { try { return JSON.parse(localStorage.getItem(this._k(k))) || []; } catch(e) { return []; } };
    this.placarSelecionados  = g("placarSelecionados");
    this.timesSelecionados   = g("timesSelecionados");
    this.oddsSelecionadas    = g("oddsSelecionadas");
    this.selectedChaves      = g("selectedChaves");
    this.colunasSelecionadas = g("colunasSelecionadas");
  }

  salvar() {
    const s = (k,v) => localStorage.setItem(this._k(k), JSON.stringify(v));
    s("placarSelecionados",  this.placarSelecionados);
    s("timesSelecionados",   this.timesSelecionados);
    s("oddsSelecionadas",    this.oddsSelecionadas);
    s("selectedChaves",      this.selectedChaves);
    s("colunasSelecionadas", this.colunasSelecionadas);
  }

  toggleSelecao(chave, valor) {
    const lista = this[chave];
    const idx = lista.indexOf(valor);
    if (idx !== -1) lista.splice(idx, 1);
    else { if (lista.length >= 6) lista.shift(); lista.push(valor); }
    this.salvar();
  }

  limparTipo(chave) { this[chave].length = 0; this.salvar(); }

  getCorSelecao(lista, valor, tipo) {
    const idx = lista.indexOf(valor);
    if (idx === -1) return null;
    const p = tipo === "time" ? CORES_TIME : tipo === "odd" ? CORES_ODD : CORES_PLACAR;
    return { bg: p[idx % p.length] };
  }

  _hash(dados) {
    if (!dados?.length) return "vazio";
    const k = d => d?.id || d?.ft || JSON.stringify(d).length;
    return `${dados.length}_${k(dados[0])}_${k(dados[dados.length-1])}`;
  }

  dadosMudaram(dados, proximos) {
    const hD = this._hash(dados), hP = this._hash(proximos);
    if (hD === this._hashDados && hP === this._hashProximos) return false;
    this._hashDados = hD; this._hashProximos = hP;
    return true;
  }

  forcarRerender() { this._hashDados = null; this._hashProximos = null; }
}

// InstÃ¢ncias
const estados = {};
Object.keys(LIGAS_CONFIG).forEach(k => { estados[k] = new EstadoLiga(k); estados[k].carregar(); });

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ESTILOS GLOBAIS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
(function injectStyles() {
  if (document.getElementById("ml-styles")) return;
  const s = document.createElement("style");
  s.id = "ml-styles";
  s.textContent = `
    .time-nome-selecionado {
      background-color:var(--sel-color,#A855F7)!important;
      color:#000!important; border-radius:3px; padding:0 2px; font-weight:bold;
    }
    .placar-score-selecionado {
      background-color:var(--sel-color,#A855F7)!important;
      color:#000!important; border-radius:3px; padding:0 3px; font-weight:bold;
    }
    .odd-selecionada {
      border:3px solid var(--sel-color,#A855F7)!important;
      color:var(--sel-color,#A855F7)!important;
    }

    .painel-liga {
      display:flex; align-items:flex-start; justify-content:space-between;
      gap:12px; margin-bottom:4px; flex-wrap:wrap;
    }
    .indicator-liga { display:flex; flex-wrap:wrap; gap:6px; flex:1; min-width:0; }
    .indicator-liga:empty { display:none; }
    .sel-tag {
      display:inline-flex; align-items:center; gap:4px; padding:2px 8px;
      border-radius:12px; font-size:0.75em; font-weight:bold; color:#fff;
      border:2px solid rgba(255,255,255,0.25); white-space:nowrap;
    }
    .sel-tag .sel-x { cursor:pointer; opacity:0.8; }
    .sel-tag .sel-x:hover { opacity:1; }

    .stats-liga {
      display:flex; flex-direction:row; flex-wrap:wrap;
      gap:4px; flex-shrink:0; justify-content:flex-end;
    }
    .stat-row {
      display:flex; align-items:center; gap:5px;
      background:rgba(255,255,255,0.06); border-radius:8px;
      padding:3px 10px; font-size:0.76em; white-space:nowrap;
    }
    .stat-dot   { width:9px; height:9px; border-radius:50%; flex-shrink:0; }
    .stat-lbl   { font-weight:bold; color:#fff; max-width:140px; overflow:hidden; text-overflow:ellipsis; }
    .stat-sep   { color:rgba(255,255,255,0.25); margin:0 1px; }
    .stat-tot   { color:#ccc; font-weight:bold; }
    .stat-g     { color:#4cff55; font-weight:bold; }
    .stat-r     { color:#ff5555; font-weight:bold; }
    .stat-pct   { margin-left:3px; padding:1px 7px; border-radius:10px; font-weight:bold; color:#fff; }
    .stat-pct-v { background:#018b06; }
    .stat-pct-b { background:#555; }

    .selected-rows-liga { margin-bottom:8px; }

    .minute-header { cursor:pointer; user-select:none; }
    .minute-header:hover { filter:brightness(1.3); }

    .tabela-liga.tem-col-sel td:not(.col-sel) { filter:brightness(0.45); }
    .tabela-liga.tem-col-sel th.minute-header:not(.col-sel) { filter:brightness(0.45); }
    .tabela-liga.tem-col-sel td.col-sel,
    .tabela-liga.tem-col-sel th.col-sel { filter:none; }
    .tabela-liga.tem-col-sel th.col-sel { background:rgba(255,255,255,0.15)!important; }
    .tabela-liga.tem-col-sel td:first-child,
    .tabela-liga.tem-col-sel td:nth-child(2),
    .tabela-liga.tem-col-sel td:nth-last-child(1),
    .tabela-liga.tem-col-sel td:nth-last-child(2),
    .tabela-liga.tem-col-sel td:nth-last-child(3) { filter:none; }

    td.qborder, th.qborder { border-left:2px solid rgba(255,255,255,0.35)!important; }

    .col-stats-liga {
      display:flex; flex-wrap:wrap; gap:5px; padding:4px 8px; margin-bottom:4px;
    }
    .col-stats-liga:empty { display:none; }
    .col-tag {
      display:inline-flex; align-items:center; gap:4px;
      background:rgba(255,255,255,0.08); border-radius:8px;
      padding:3px 10px; font-size:0.76em; white-space:nowrap; color:#fff;
    }
    .col-tag .col-min { font-weight:bold; color:#ccc; }
    .col-tag .col-g   { color:#4cff55; font-weight:bold; }
    .col-tag .col-r   { color:#ff5555; font-weight:bold; }
    .col-tag .col-pct { padding:1px 6px; border-radius:8px; font-weight:bold; color:#fff; margin-left:2px; }
    .col-pct-v { background:#018b06; }
    .col-pct-b { background:#555; }
    .col-tag .col-x { cursor:pointer; opacity:0.6; margin-left:2px; }
    .col-tag .col-x:hover { opacity:1; }

    #ml-toast {
      position:fixed; bottom:20px; left:50%; transform:translateX(-50%);
      z-index:9999; pointer-events:none; display:flex; flex-direction:column; align-items:center; gap:6px;
    }
    .ml-t {
      background:#333; color:#fff; padding:8px 18px; border-radius:20px; font-size:0.82em; opacity:0;
      animation:tIn .25s ease forwards, tOut .3s ease 1.8s forwards;
    }
    @keyframes tIn  { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }
    @keyframes tOut { from{opacity:1} to{opacity:0} }

    .porcentagem-verde  { color:#00e676!important; font-weight:bold; }
    .porcentagem-branca { color:#ffffff!important; }
  `;
  document.head.appendChild(s);
  const tc = document.createElement("div"); tc.id = "ml-toast"; document.body.appendChild(tc);
})();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TOAST
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function toast(msg) {
  const c = document.getElementById("ml-toast"); if (!c) return;
  const t = document.createElement("div"); t.className = "ml-t"; t.textContent = msg;
  c.appendChild(t); setTimeout(() => t.remove(), 2300);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HELPERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function extrairPlacar(el) {
  const t = el.querySelector(".placar-texto");
  if (!t) return el.textContent.trim();
  return Array.from(t.querySelectorAll("span"))
    .filter(s => !s.classList.contains("time-casa") && !s.classList.contains("time-fora"))
    .map(s => s.textContent.trim()).filter(Boolean).join(" ").trim();
}

function getDateStr(data) {
  if (!data) return "";
  if (/^\d{4}-\d{2}-\d{2}$/.test(data)) return data;
  const d = new Date(data); return isNaN(d) ? data : d.toISOString().split("T")[0];
}

function abbreviate(name) {
  if (!name) return "";
  if (name.length <= 5) return name.toUpperCase();
  const words = name.split(/\s+/);
  return (words.length === 1 ? name.slice(0,5) : words.map(w => w.slice(0,4)).join("").slice(0,8)).toUpperCase();
}

function calcAcerto(rA, rB, mercado) {
  const tg = rA + rB;
  if (mercado === "ambasMarcam")    return rA > 0 && rB > 0;
  if (mercado === "ambasNaoMarcam") return rA === 0 || rB === 0;
  if (mercado === "casaVence")      return rA > rB;
  if (mercado === "foraVence")      return rB > rA;
  if (mercado === "empate")         return rA === rB;
  if (mercado === "over1.5")        return tg > 1.5;
  if (mercado === "under1.5")       return tg <= 1.5;
  if (mercado === "over2.5")        return tg > 2.5;
  if (mercado === "under2.5")       return tg <= 2.5;
  if (mercado === "over3.5")        return tg > 3.5;
  if (mercado === "under3.5")       return tg <= 3.5;
  if (mercado === "over5")          return tg >= 5;
  return false;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GARANTIR PAINÃ‰IS NO DOM
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function ensurePaineis(key) {
  const tabela = document.getElementById(LIGAS_CONFIG[key].tabelaId); if (!tabela) return;

  if (!document.getElementById(`painel-${key}`)) {
    const p   = document.createElement("div"); p.id = `painel-${key}`; p.className = "painel-liga";
    const ind = document.createElement("div"); ind.id = `indicator-${key}`; ind.className = "indicator-liga";
    const st  = document.createElement("div"); st.id  = `stats-${key}`;     st.className  = "stats-liga";
    p.appendChild(ind); p.appendChild(st);
    tabela.parentNode.insertBefore(p, tabela);
  }

  if (!document.getElementById(`colstats-${key}`)) {
    const el = document.createElement("div"); el.id = `colstats-${key}`; el.className = "col-stats-liga";
    document.getElementById(`painel-${key}`).insertAdjacentElement("afterend", el);
  }

  if (!document.getElementById(`selrows-${key}`)) {
    const el = document.createElement("table");
    el.id = `selrows-${key}`; el.className = "tabela-liga selected-rows-liga";
    el.style.cssText = "margin-bottom:8px;display:none;";
    document.getElementById(`colstats-${key}`).insertAdjacentElement("afterend", el);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INDICATOR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function atualizarIndicador(key) {
  const estado = estados[key];
  const el = document.getElementById(`indicator-${key}`); if (!el) return;
  el.innerHTML = "";

  [
    { lista: estado.placarSelecionados, chave: "placarSelecionados", prefixo: "Placar", paleta: CORES_PLACAR },
    { lista: estado.timesSelecionados,  chave: "timesSelecionados",  prefixo: "Time",   paleta: CORES_TIME   },
    { lista: estado.oddsSelecionadas,   chave: "oddsSelecionadas",   prefixo: "Odd",    paleta: CORES_ODD    },
  ].forEach(({ lista, chave, prefixo, paleta }) => {
    lista.forEach((valor, idx) => {
      const tag = document.createElement("span"); tag.className = "sel-tag";
      tag.style.background = paleta[idx % paleta.length];
      tag.innerHTML = `${prefixo}: ${valor} <span class="sel-x">âœ•</span>`;
      tag.querySelector(".sel-x").addEventListener("click", () => {
        estado.toggleSelecao(chave, valor);
        atualizarIndicador(key);
        aplicarHighlights(key);
      });
      el.appendChild(tag);
    });
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STATS DE SELEÃ‡ÃƒO
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderStats(key, statsMap, mercado) {
  const el = document.getElementById(`stats-${key}`); if (!el) return;
  el.innerHTML = "";
  const jph  = LIGAS_CONFIG[key].jogosPorHora;
  const temItems = statsMap && [...statsMap.values()].some(v => (v.green + v.red) > 0);
  el.style.display = temItems ? "flex" : "none";
  if (!temItems) return;

  statsMap.forEach(({ green, red, cor, label, tipo }, valor) => {
    const total = green + red; if (total === 0) return;
    const row = document.createElement("div"); row.className = "stat-row";

    const dot = document.createElement("span"); dot.className = "stat-dot"; dot.style.background = cor;
    const lbl = document.createElement("span"); lbl.className = "stat-lbl"; lbl.title = valor;
    lbl.textContent = label ? `${label}: ${valor}` : valor;
    const sep = document.createElement("span"); sep.className = "stat-sep"; sep.textContent = "Â·";

    if (tipo === "placar") {
      const tot = document.createElement("span"); tot.className = "stat-tot"; tot.textContent = `${total}Ã—`;
      const inf = document.createElement("span"); inf.style.cssText = "color:#aaa;font-size:0.85em"; inf.textContent = "ocorrÃªncias";
      row.append(dot, lbl, sep, tot, inf);
    } else {
      const pct = Math.round((green / total) * 100);
      const thresh = getThreshold(mercado, jph);
      const tot = document.createElement("span"); tot.className = "stat-tot"; tot.textContent = `${total}Ã—`;
      const s1  = document.createElement("span"); s1.className  = "stat-sep"; s1.textContent  = "/";
      const gsp = document.createElement("span"); gsp.className = "stat-g";   gsp.textContent = `${green}âœ”`;
      const s2  = document.createElement("span"); s2.className  = "stat-sep"; s2.textContent  = "/";
      const rsp = document.createElement("span"); rsp.className = "stat-r";   rsp.textContent = `${red}âœ˜`;
      const psp = document.createElement("span"); psp.className = `stat-pct ${pct >= thresh ? "stat-pct-v" : "stat-pct-b"}`; psp.textContent = `${pct}%`;
      row.append(dot, lbl, sep, tot, s1, gsp, s2, rsp, psp);
    }
    el.appendChild(row);
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HIGHLIGHTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function aplicarHighlights(key) {
  const estado = estados[key];
  const tabela = document.getElementById(LIGAS_CONFIG[key].tabelaId); if (!tabela) return;
  const mostrarOdds = document.querySelector(`#mostrarOdds-${key}`)?.value === "sim";

  tabela.querySelectorAll(".placar").forEach(placar => {
    const texto = extrairPlacar(placar);

    // Reset
    placar.querySelectorAll(".placar-score-selecionado").forEach(s => { s.classList.remove("placar-score-selecionado"); s.style.removeProperty("--sel-color"); });
    placar.querySelectorAll(".time-casa,.time-fora").forEach(s => { s.classList.remove("time-nome-selecionado"); s.style.removeProperty("--sel-color"); });
    const oddEl = placar.querySelector(".odds");
    if (oddEl) { oddEl.classList.remove("odd-selecionada"); oddEl.style.removeProperty("--sel-color"); }

    // Placar
    for (const val of estado.placarSelecionados) {
      if (texto.includes(val)) {
        const cor = estado.getCorSelecao(estado.placarSelecionados, val, "placar");
        placar.querySelector(".placar-texto")?.querySelectorAll("span").forEach(s => {
          if (!s.classList.contains("time-casa") && !s.classList.contains("time-fora")) {
            s.style.setProperty("--sel-color", cor.bg); s.classList.add("placar-score-selecionado");
          }
        });
        break;
      }
    }

    // Times
    [".time-casa", ".time-fora"].forEach(sel => {
      const span = placar.querySelector(sel); if (!span) return;
      const ft = span.getAttribute("data-full-time");
      for (const val of estado.timesSelecionados) {
        if (ft === val) {
          const cor = estado.getCorSelecao(estado.timesSelecionados, val, "time");
          span.style.setProperty("--sel-color", cor.bg); span.classList.add("time-nome-selecionado"); break;
        }
      }
    });

    // Odds
    if (mostrarOdds && oddEl) {
      for (const val of estado.oddsSelecionadas) {
        if (oddEl.textContent.trim() === val) {
          const cor = estado.getCorSelecao(estado.oddsSelecionadas, val, "odd");
          oddEl.style.setProperty("--sel-color", cor.bg); oddEl.classList.add("odd-selecionada"); break;
        }
      }
    }
  });

  atualizarIndicador(key);
  computeStatsDOM(key);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// COMPUTE STATS DO DOM
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function computeStatsDOM(key) {
  const estado = estados[key];
  const tabela = document.getElementById(LIGAS_CONFIG[key].tabelaId); if (!tabela) return;
  const mercado = document.querySelector(`#seletorResultado-${key}`)?.value || "ambasMarcam";
  const mostrarOdds = document.querySelector(`#mostrarOdds-${key}`)?.value === "sim";

  const mP = new Map(), mT = new Map(), mO = new Map();
  estado.placarSelecionados.forEach((v,i) => mP.set(v, { green:0, red:0, cor:CORES_PLACAR[i%CORES_PLACAR.length], label:"Placar", tipo:"placar" }));
  estado.timesSelecionados.forEach((v,i)  => mT.set(v, { green:0, red:0, cor:CORES_TIME[i%CORES_TIME.length],   label:"Time",   tipo:"time"   }));
  estado.oddsSelecionadas.forEach((v,i)   => mO.set(v, { green:0, red:0, cor:CORES_ODD[i%CORES_ODD.length],     label:"Odd",    tipo:"odd"    }));

  tabela.querySelectorAll("tbody td").forEach(cel => {
    const pl = cel.querySelector(".placar"); if (!pl) return;
    const bg = cel.style.backgroundColor;
    const isG = bg === "rgb(1, 139, 6)", isR = bg === "rgb(190, 14, 2)";
    if (!isG && !isR) return;
    const texto = extrairPlacar(pl);
    const names = [pl.getAttribute("data-time-a"), pl.getAttribute("data-time-b"),
      ...Array.from(pl.querySelectorAll("[data-full-time]")).map(s => s.getAttribute("data-full-time"))].filter(Boolean);

    for (const val of estado.placarSelecionados) {
      if (texto.includes(val)) { const s = mP.get(val); if (s) { isG ? s.green++ : s.red++; } break; }
    }
    for (const val of estado.timesSelecionados) {
      if (names.includes(val)) { const s = mT.get(val); if (s) { isG ? s.green++ : s.red++; } break; }
    }
    if (mostrarOdds) {
      const ot = pl.querySelector(".odds")?.textContent.trim();
      if (ot) for (const val of estado.oddsSelecionadas) { if (ot === val) { const s = mO.get(val); if (s) { isG ? s.green++ : s.red++; } break; } }
    }
  });

  const unificado = new Map();
  mP.forEach((v,k) => unificado.set(k,v));
  mT.forEach((v,k) => unificado.set(k,v));
  mO.forEach((v,k) => unificado.set(k,v));
  renderStats(key, unificado, mercado);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// COLUNAS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function toggleColuna(key, min) {
  const lista = estados[key].colunasSelecionadas;
  const idx = lista.indexOf(min);
  if (idx !== -1) lista.splice(idx, 1); else lista.push(min);
  estados[key].salvar();
  aplicarColunas(key);
  renderColunaStats(key);
}

function aplicarColunas(key) {
  const config = LIGAS_CONFIG[key], estado = estados[key];
  const tabela = document.getElementById(config.tabelaId); if (!tabela) return;
  tabela.classList.toggle("tem-col-sel", estado.colunasSelecionadas.length > 0);

  tabela.querySelectorAll(".minute-header").forEach((th, i) => {
    const m = parseInt(th.textContent.trim());
    th.classList.toggle("col-sel",  estado.colunasSelecionadas.includes(m));
    th.classList.toggle("qborder",  i > 0 && i % config.quadrantSize === 0);
  });
  tabela.querySelectorAll("tbody tr").forEach(row => {
    Array.from(row.cells).forEach((cell, i) => {
      // estrutura: 0=cb, 1=hora, 2..N+1=minutos
      if (i < 2 || i >= 2 + config.minutosFixos.length) return;
      const ci = i - 2, m = config.minutosFixos[ci];
      cell.classList.toggle("col-sel",  estado.colunasSelecionadas.includes(m));
      cell.classList.toggle("qborder",  ci > 0 && ci % config.quadrantSize === 0);
    });
  });
}

function renderColunaStats(key) {
  const config = LIGAS_CONFIG[key], estado = estados[key];
  const tabela = document.getElementById(config.tabelaId);
  const el = document.getElementById(`colstats-${key}`); if (!el) return;
  el.innerHTML = "";
  if (!estado.colunasSelecionadas.length || !tabela) return;

  let gT = 0, rT = 0;
  const cols = [...estado.colunasSelecionadas].sort((a,b) => config.minutosFixos.indexOf(a) - config.minutosFixos.indexOf(b));
  cols.forEach(min => {
    const idx = config.minutosFixos.indexOf(min); if (idx === -1) return;
    tabela.querySelectorAll("tbody tr").forEach(row => {
      const cell = row.cells[2 + idx]; if (!cell) return;
      const bg = cell.style.backgroundColor;
      if (bg === "rgb(1, 139, 6)") gT++;
      else if (bg === "rgb(190, 14, 2)") rT++;
    });
  });

  const total = gT + rT; if (total === 0) return;
  const pct   = Math.round((gT / total) * 100);
  const mercado = document.querySelector(`#seletorResultado-${key}`)?.value || "ambasMarcam";
  const thresh  = getThreshold(mercado, config.jogosPorHora);

  const tag = document.createElement("div"); tag.className = "col-tag";
  tag.innerHTML = `
    <span class="col-min">min ${cols.join(", ")}</span>
    <span style="color:#aaa;font-size:0.85em">${total}Ã—</span>
    <span class="col-g">${gT}âœ”</span>
    <span class="col-r">${rT}âœ˜</span>
    <span class="col-pct ${pct >= thresh ? "col-pct-v" : "col-pct-b"}">${pct}%</span>
    <span class="col-x">âœ•</span>
  `;
  tag.querySelector(".col-x").addEventListener("click", () => {
    estado.colunasSelecionadas.length = 0; estado.salvar();
    aplicarColunas(key); renderColunaStats(key);
  });
  el.appendChild(tag);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LINHAS SELECIONADAS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderLinhasSelecionadas(key) {
  const config = LIGAS_CONFIG[key], estado = estados[key];
  const tabela = document.getElementById(config.tabelaId);
  const cont   = document.getElementById(`selrows-${key}`); if (!cont || !tabela) return;
  cont.innerHTML = "";

  if (!estado.selectedChaves.length) { cont.style.display = "none"; return; }
  cont.style.display = "";

  const tbody = document.createElement("tbody"); cont.appendChild(tbody);
  const chavesOrdenadas = [...estado.selectedChaves].sort((a, b) => {
    const ts = c => { const p = c.split("-"); return new Date(`${p.slice(0,-1).join("-")}T${parseInt(p[p.length-1]).toString().padStart(2,"00")}:00:00`).getTime(); };
    return ts(b) - ts(a);
  });
  chavesOrdenadas.forEach(chave => {
    const row = tabela.querySelector(`tbody tr[data-chave="${chave}"]`); if (!row) return;
    const clone = row.cloneNode(true);
    const cb = clone.querySelector("input[type=checkbox]"); if (cb) cb.disabled = true;
    tbody.appendChild(clone);
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CRIAR TABELA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function criarTabela(dados, proximosJogos, key) {
  const config = LIGAS_CONFIG[key], estado = estados[key];
  const tabela = document.getElementById(config.tabelaId); if (!tabela) return;

  const mF     = config.minutosFixos;
  const qS     = config.quadrantSize;
  const jph    = config.jogosPorHora;
  const sel    = id => document.querySelector(`#${id}-${key}`)?.value;
  const horasSel   = parseInt(sel("seletorHoras")    || "12");
  const mercado    = sel("seletorResultado")          || "ambasMarcam";
  const tipoPlacar = sel("seletorTipoPlacar")         || "ft";
  const mostTimes  = sel("mostrarTimes")              === "sim";
  const mostHT     = sel("mostrarHT")                 === "sim";
  const mostOdds   = sel("mostrarOdds")               === "sim";
  const thresh     = getThreshold(mercado, jph);

  ensurePaineis(key);

  // â”€â”€ thead â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const thead = tabela.querySelector("thead");
  thead.innerHTML = "";

  const trPct = document.createElement("tr"); trPct.id = `pct-${key}`; trPct.className = "linha-percentual";
  trPct.appendChild(Object.assign(document.createElement("th"), { textContent: "ðŸ“ˆ" }));
  trPct.appendChild(document.createElement("th")); // col checkbox
  thead.appendChild(trPct);

  const trMin = document.createElement("tr");
  trMin.appendChild(Object.assign(document.createElement("th"), { textContent: "â˜" }));
  trMin.appendChild(Object.assign(document.createElement("th"), { textContent: "H" }));
  mF.forEach((m, i) => {
    const th = document.createElement("th"); th.className = "minute-header"; th.textContent = m;
    if (i > 0 && i % qS === 0) th.classList.add("qborder");
    if (estado.colunasSelecionadas.includes(m)) th.classList.add("col-sel");
    th.addEventListener("click", () => toggleColuna(key, m));
    trMin.appendChild(th);
  });
  ["âš½", "âœ…", "ðŸ“ˆ"].forEach(t => trMin.appendChild(Object.assign(document.createElement("th"), { textContent: t })));
  thead.appendChild(trMin);

  // â”€â”€ tbody â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const tbody = tabela.querySelector("tbody");
  tbody.innerHTML = "";

  dados.sort((a, b) =>
    new Date(`${a.data}T${a.hora.toString().padStart(2,"0")}:00:00`).getTime() -
    new Date(`${b.data}T${b.hora.toString().padStart(2,"0")}:00:00`).getTime()
  );

  const processadas = new Set(), mapa = {};
  let contLinhas = 0;

  dados.slice().reverse().forEach(dado => {
    if (contLinhas >= horasSel) return;
    const ds    = getDateStr(dado.data);
    const chave = `${ds}-${dado.hora}`;
    if (processadas.has(chave)) return;

    const tr = document.createElement("tr"); tr.setAttribute("data-chave", chave);

    // Checkbox
    const tdCb = document.createElement("td");
    const cb   = document.createElement("input"); cb.type = "checkbox"; cb.checked = estado.selectedChaves.includes(chave);
    cb.addEventListener("change", () => {
      const i = estado.selectedChaves.indexOf(chave);
      if (cb.checked && i === -1) estado.selectedChaves.push(chave);
      else if (!cb.checked && i !== -1) estado.selectedChaves.splice(i, 1);
      estado.salvar(); renderLinhasSelecionadas(key);
    });
    tdCb.appendChild(cb); tr.appendChild(tdCb);

    // Hora
    tr.appendChild(Object.assign(document.createElement("td"), { textContent: dado.hora.toString().padStart(2,"0") }));

    // Minutos
    mF.forEach((m, i) => {
      const td = document.createElement("td");
      if (i > 0 && i % qS === 0) td.classList.add("qborder");
      if (estado.colunasSelecionadas.includes(m)) td.classList.add("col-sel");
      tr.appendChild(td);
    });

    // Gols | Acertos | %
    tr.appendChild(Object.assign(document.createElement("td"), { textContent: "0" }));
    tr.appendChild(Object.assign(document.createElement("td"), { textContent: "0" }));
    tr.appendChild(Object.assign(document.createElement("td"), { textContent: "0%" }));

    tbody.appendChild(tr);
    processadas.add(chave); mapa[chave] = tr; contLinhas++;
  });

  // â”€â”€ Preenche placares â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const acertosPorCol = Array(mF.length).fill(0);
  const totalPorCol   = Array(mF.length).fill(0);
  const processed     = new Set();

  const mSP = new Map(), mST = new Map(), mSO = new Map();
  estado.placarSelecionados.forEach((v,i) => mSP.set(v, { green:0, red:0, cor:CORES_PLACAR[i%CORES_PLACAR.length], label:"Placar", tipo:"placar" }));
  estado.timesSelecionados.forEach((v,i)  => mST.set(v, { green:0, red:0, cor:CORES_TIME[i%CORES_TIME.length],   label:"Time",   tipo:"time"   }));
  estado.oddsSelecionadas.forEach((v,i)   => mSO.set(v, { green:0, red:0, cor:CORES_ODD[i%CORES_ODD.length],     label:"Odd",    tipo:"odd"    }));

  function onPlacarClick(e) {
    if (e.target.classList.contains("time-casa") || e.target.classList.contains("time-fora")) return;
    estado.toggleSelecao("placarSelecionados", extrairPlacar(e.currentTarget));
    aplicarHighlights(key);
  }
  function onTimeClick(e) {
    e.stopPropagation();
    const val = e.currentTarget.getAttribute("data-full-time"); if (!val) return;
    estado.toggleSelecao("timesSelecionados", val); aplicarHighlights(key);
  }
  function onOddClick(e) {
    e.stopPropagation();
    estado.toggleSelecao("oddsSelecionadas", e.currentTarget.textContent.trim()); aplicarHighlights(key);
  }

  dados.forEach(dado => {
    const ds = getDateStr(dado.data), chave = `${ds}-${dado.hora}`, linha = mapa[chave];
    if (!linha) return;

    const minNorm = mF.reduce((p, c) => Math.abs(c - dado.minuto) < Math.abs(p - dado.minuto) ? c : p);
    const mk = `${dado.time_a}|${dado.time_b}|${chave}|${minNorm}`;
    if (processed.has(mk)) return;

    const idx = mF.indexOf(minNorm); if (idx === -1) return;
    const cel = linha.children[2 + idx]; // 0=cb, 1=hora, 2..=minutos
    if (cel.querySelector(".placar")) return;

    const placar = document.createElement("div"); placar.className = "placar";
    placar.setAttribute("data-time-a", dado.time_a);
    placar.setAttribute("data-time-b", dado.time_b);

    const ft = dado.ft, ht = dado.ht;
    const primary = tipoPlacar === "ft" ? ft : ht;
    const secondary = tipoPlacar === "ft" ? ht : ft;

    const pt = document.createElement("div"); pt.className = "placar-texto";
    if (mostTimes) {
      const tA = abbreviate(dado.time_a), tB = abbreviate(dado.time_b);
      pt.innerHTML = `<span class="time-casa" style="cursor:pointer" data-full-time="${dado.time_a}">${tA}</span>`
        + `<span>${primary}</span>` + (mostHT ? `<span>(${secondary})</span>` : "")
        + `<span class="time-fora" style="cursor:pointer" data-full-time="${dado.time_b}">${tB}</span>`;
    } else {
      pt.innerHTML = `<span>${primary}</span>` + (mostHT ? `<span>(${secondary})</span>` : "");
    }
    placar.appendChild(pt);

    if (mostOdds) {
      const oe = document.createElement("div"); oe.className = "odds"; oe.textContent = "@-";
      oe.addEventListener("click", onOddClick); placar.appendChild(oe);
    }

    const tip = document.createElement("span"); tip.className = "tooltip";
    tip.innerHTML = `<span class="times">${dado.time_a} vs ${dado.time_b}</span><span class="placares">${ft} <span class="placarHT">(${ht})</span></span>`;
    placar.appendChild(tip);

    placar.addEventListener("click", onPlacarClick);
    if (mostTimes) {
      pt.querySelector(".time-casa")?.addEventListener("click", onTimeClick);
      pt.querySelector(".time-fora")?.addEventListener("click", onTimeClick);
    }
    cel.appendChild(placar);
    processed.add(mk);

    // Highlights iniciais
    const scoreText = extrairPlacar(placar);
    for (const val of estado.placarSelecionados) {
      if (scoreText.includes(val)) {
        const cor = estado.getCorSelecao(estado.placarSelecionados, val, "placar");
        pt.querySelectorAll("span").forEach(s => {
          if (!s.classList.contains("time-casa") && !s.classList.contains("time-fora")) {
            s.style.setProperty("--sel-color", cor.bg); s.classList.add("placar-score-selecionado");
          }
        }); break;
      }
    }
    [".time-casa", ".time-fora"].forEach(sel => {
      const sp = placar.querySelector(sel); if (!sp) return;
      const ft = sp.getAttribute("data-full-time");
      for (const val of estado.timesSelecionados) {
        if (ft === val) { const cor = estado.getCorSelecao(estado.timesSelecionados, val, "time"); sp.style.setProperty("--sel-color", cor.bg); sp.classList.add("time-nome-selecionado"); break; }
      }
    });

    // Acerto
    const [rA, rB] = primary.split(" x ").map(n => parseInt(n) || 0);
    const acerto = calcAcerto(rA, rB, mercado);
    cel.style.backgroundColor = acerto ? "#018b06" : "#be0e02";
    totalPorCol[idx]++;
    if (acerto) {
      acertosPorCol[idx]++;
      linha.children[linha.children.length - 2].textContent = parseInt(linha.children[linha.children.length - 2].textContent) + 1;
    }
    const tgCel = linha.children[linha.children.length - 3];
    tgCel.textContent = parseInt(tgCel.textContent) + (rA + rB);

    // Stats seleÃ§Ã£o
    for (const val of estado.placarSelecionados) { if (scoreText.includes(val)) { const s = mSP.get(val); if (s) { acerto ? s.green++ : s.red++; } break; } }
    const names = [dado.time_a, dado.time_b];
    for (const val of estado.timesSelecionados) { if (names.includes(val)) { const s = mST.get(val); if (s) { acerto ? s.green++ : s.red++; } break; } }
  });

  // â”€â”€ % por linha â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Array.from(tbody.querySelectorAll("tr")).forEach(row => {
    const cells  = Array.from(row.cells).slice(2, -3);
    const total  = cells.filter(c => c.querySelector(".placar")).length;
    const acertos = parseInt(row.children[row.children.length - 2].textContent) || 0;
    const pct    = total > 0 ? Math.floor((acertos / total) * 100) : 0;
    const pctCell = row.children[row.children.length - 1];
    pctCell.textContent = `${pct}%`;
    pctCell.classList.toggle("porcentagem-verde",  pct >= thresh);
    pctCell.classList.toggle("porcentagem-branca", pct <  thresh);
  });

  // â”€â”€ % por coluna â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const trPctEl = document.getElementById(`pct-${key}`);
  if (trPctEl) {
    trPctEl.innerHTML = "";
    trPctEl.appendChild(Object.assign(document.createElement("th"), { textContent: "ðŸ“ˆ" }));
    trPctEl.appendChild(document.createElement("th")); // cb col
    mF.forEach((_, i) => {
      const pct  = totalPorCol[i] > 0 ? Math.floor((acertosPorCol[i] / totalPorCol[i]) * 100) : 0;
      const cell = document.createElement("td"); cell.textContent = `${pct}%`;
      cell.classList.toggle("porcentagem-verde",  pct >= thresh);
      cell.classList.toggle("porcentagem-branca", pct <  thresh);
      if (i > 0 && i % qS === 0) cell.classList.add("qborder");
      trPctEl.appendChild(cell);
    });
    for (let i = 0; i < 3; i++) trPctEl.appendChild(document.createElement("td"));
  }

  // â”€â”€ Finaliza â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const unificado = new Map();
  mSP.forEach((v,k) => unificado.set(k, v));
  mST.forEach((v,k) => unificado.set(k, v));
  mSO.forEach((v,k) => unificado.set(k, v));

  aplicarHighlights(key);
  renderStats(key, unificado, mercado);
  renderLinhasSelecionadas(key);
  aplicarColunas(key);
  renderColunaStats(key);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// JOGOS FUTUROS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderJogosFuturos(containerId, jogos) {
  const cont = document.getElementById(containerId); if (!cont) return;
  cont.innerHTML = "";
  if (!jogos?.length) { cont.innerHTML = "<p>Nenhum jogo</p>"; return; }

  const now    = new Date();
  const nowMin = now.getHours() * 60 + now.getMinutes();
  const nowStr = `${now.getHours().toString().padStart(2,"0")}:${now.getMinutes().toString().padStart(2,"0")}`;

  const com = jogos.map(j => {
    let time = j.time && /^([0-1]?\d|2[0-3]):[0-5]\d$/.test(j.time) ? j.time : null;
    if (!time && j.start_time && !isNaN(new Date(j.start_time))) {
      const d = new Date(j.start_time);
      time = `${d.getHours().toString().padStart(2,"0")}:${d.getMinutes().toString().padStart(2,"0")}`;
    }
    time = time || "IndisponÃ­vel";
    const [h,m] = time === "IndisponÃ­vel" ? [0,0] : time.split(":").map(Number);
    return { j, time, dist: h * 60 + m - nowMin };
  });

  let cur = -1, minDist = Infinity;
  com.forEach((item, i) => {
    if (item.time === nowStr) cur = i;
    else if (item.dist > 0 && item.dist < minDist) { minDist = item.dist; if (cur === -1) cur = i; }
  });
  if (cur === -1 && com.length > 0) cur = 0;

  com.forEach((item, i) => {
    const box = document.createElement("div");
    box.className = "jogosfuturos-game-box " + (i === cur ? "jogosfuturos-current" : i === cur+1 || i === cur+2 ? "jogosfuturos-next" : "jogosfuturos-upcoming");
    box.innerHTML = `<div class="jogosfuturos-time">${item.time}</div><div class="jogosfuturos-teams">${item.j.team_home?.toUpperCase()} x ${item.j.team_visit?.toUpperCase()}</div>`;
    cont.appendChild(box);
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FETCH + POLLING
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const _busy = {};

async function buscarLiga(key) {
  if (_busy[key]) return;
  _busy[key] = true;
  const config = LIGAS_CONFIG[key], estado = estados[key];

  try {
    let dados = [], proximos = [];
    try { const r = await fetch(config.rotaResultados); if (r.ok) dados = await r.json(); } catch(e) { console.error(`[${key}] resultados`, e); }
    try { const r = await fetch(config.rotaProximos);   if (r.ok) proximos = await r.json(); } catch(e) { console.error(`[${key}] proximos`, e); }

    renderJogosFuturos(config.containerId, proximos.slice(0, 6));

    if (!estado.dadosMudaram(dados, proximos)) {
      computeStatsDOM(key);
      renderLinhasSelecionadas(key);
      aplicarColunas(key);
      renderColunaStats(key);
      return;
    }
    criarTabela(dados, proximos, key);
  } finally {
    _busy[key] = false;
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INICIALIZAÃ‡ÃƒO
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Object.keys(LIGAS_CONFIG).forEach(key => {
  buscarLiga(key);
  setInterval(() => buscarLiga(key), 5000);

  const forcar = () => { estados[key].forcarRerender(); buscarLiga(key); };

  document.querySelector(`#seletorHoras-${key}`)?.addEventListener("change", forcar);
  document.querySelector(`#seletorResultado-${key}`)?.addEventListener("change", forcar);
  document.querySelector(`#seletorTipoPlacar-${key}`)?.addEventListener("change", forcar);
  document.querySelector(`#mostrarHT-${key}`)?.addEventListener("change", forcar);

  document.querySelector(`#mostrarTimes-${key}`)?.addEventListener("change", () => {
    if (document.querySelector(`#mostrarTimes-${key}`)?.value !== "sim") {
      estados[key].limparTipo("timesSelecionados"); toast("SeleÃ§Ãµes de time limpas");
    }
    forcar();
  });

  document.querySelector(`#mostrarOdds-${key}`)?.addEventListener("change", () => {
    if (document.querySelector(`#mostrarOdds-${key}`)?.value !== "sim") {
      estados[key].limparTipo("oddsSelecionadas"); toast("SeleÃ§Ãµes de odd limpas");
    }
    forcar();
  });
});
  </script>

  <script>
      // Bloqueia o menu de contexto (clique direito)
document.addEventListener("contextmenu", function(e) {
    e.preventDefault();
});

// Bloqueia atalhos de teclado comuns para ferramentas de desenvolvimento
document.addEventListener("keydown", function(e) {
    // F12
    if (e.key === "F12") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + I
    if (e.ctrlKey && e.shiftKey && e.key === "I") {
        e.preventDefault();
    }
    
    // Ctrl + U (ver cÃ³digo fonte)
    if (e.ctrlKey && e.key === "u") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + J (console)
    if (e.ctrlKey && e.shiftKey && e.key === "J") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + C (inspeÃ§Ã£o de elementos)
    if (e.ctrlKey && e.shiftKey && e.key === "C") {
        e.preventDefault();
    }
    
    // Ctrl + S (salvar pÃ¡gina)
    if (e.ctrlKey && e.key === "s") {
        e.preventDefault();
    }
    
    // Ctrl + P (imprimir)
    if (e.ctrlKey && e.key === "p") {
        e.preventDefault();
    }
});

// Detecta abertura de ferramentas de desenvolvimento
const devtools = { open: false };
const element = new Image();
Object.defineProperty(element, 'id', {
    get: function () {
        devtools.open = true;
    }
});

// Adiciona detecÃ§Ã£o alternativa de devtools
(function() {
    const threshold = 160;
    const checkDevTools = function() {
        if ((window.outerWidth - window.innerWidth) > threshold || 
            (window.outerHeight - window.innerHeight) > threshold) {
            devtools.open = true;
        }
    };
    
    window.addEventListener('resize', checkDevTools);
    setInterval(checkDevTools, 500);
})();

// Monitoramento contÃ­nuo
console.log('%c', element);
setInterval(function() {
    if (devtools.open) {
        document.body.innerHTML = '<h1>Acesso nÃ£o autorizado detectado</h1>';
        // Ou redirecionar:
        // window.location.href = 'about:blank';
        devtools.open = false;
    }
}, 1000);

// Impede seleÃ§Ã£o de texto
document.addEventListener('selectstart', function(e) {
    e.preventDefault();
});

// Impede arrastar e soltar
document.addEventListener('dragstart', function(e) {
    e.preventDefault();
});

// Ofusca console
console.log = function() {};
console.debug = function() {};
console.info = function() {};
  </script>
  </body>
</html>
