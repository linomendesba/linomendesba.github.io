<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="img/favicon.ico" type="image/x-icon" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-4WT805FFHQ"
    ></script>
    <title>BetStat</title>
    <!-- Meta tags SEO principais -->
    <meta
      name="description"
      content="Transforme suas apostas com BetStat - a única plataforma especializada em futebol virtual Betano. Análises precisas, estatísticas confiáveis e resultados comprovados para investimentos inteligentes."
    />
    <meta
      name="keywords"
      content="BetStat, apostas esportivas, futebol virtual, Betano, estatísticas apostas, análise apostas, investimentos esportivos"
    />

    <!-- Open Graph meta tags para redes sociais -->
    <meta
      property="og:title"
      content="BetStat | Plataforma de Análise para Apostas Esportivas"
    />
    <meta
      property="og:description"
      content="Transforme suas apostas com análises precisas e estatísticas confiáveis. A única plataforma especializada em futebol virtual Betano."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.betstat.site/payment.html" />
    <meta property="og:site_name" content="BetStat" />

    <!-- Meta tags adicionais -->
    <meta name="robots" content="index, follow" />
    <meta name="author" content="BetStat" />
    <meta name="canonical" href="https://www.betstat.site/payment.html" />
    <script type="module" src="js/firebase-auth.js"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-4WT805FFHQ");
    </script>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap"
      rel="stylesheet"
    />
  </head>

  <style>

      header {
    background: #005540;
    width: 100%;
    position: fixed;
    top: 0;
    left: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    height: 60px;
  }

  .logo2 {
  width: 60px;      /* define a largura fixa */
  height: auto;     /* mantém a proporção da imagem */
}
  
  .header-container {
    display: flex;
    align-items: center;
    width: 100%;
    max-width: 1200px;
    padding: 0 20px;
    justify-content: space-between;
  }
  
  /* Adicionar um espaço apenas ao primeiro elemento accordion-item */
  .accordion-item:first-of-type {
    margin-top: 30px;  /* Espaço igual à altura do cabeçalho fixo */
  }
  
  
  .logo {
    height: 40px;
  }
  
  
  .selectors-container {
    display: flex;
    align-items: center;
    gap: 10px; 
  }
  
  .nav-seletor {
    display: flex;
    align-items: center;
    color: #ffffff;
    font-weight: 500;
  }

      .logout-btn {
      background-color: #1c1f26;; /* Fundo vermelho */
      color: white; /* Texto branco */
      padding: 8px 10px; /* Espaçamento interno */
      font-size: 14px; /* Tamanho da fonte */
      border-radius: 5px; /* Cantos arredondados */
      cursor: pointer; /* Cursor de botão */
      border: 1px solid #ffffff81;
    }

    .logout-btn:hover {
      background-color: #720000; /* Cor ao passar o mouse */
    }
  
  .nav-seletor select {
    padding: 0.5rem ;
    border-radius: 6px;
    background-color: #1c1f26;
    color: var(--text-color);
    border: 1px solid var(--border-color);
    cursor: pointer;
    transition: all 0.3s ease;
  }
:root {
    --bg-color: #1c1f26;
    --accent-color: #1fad8b;
    --text-color: #ffffff;
    --secondary-bg: #2c2f36;
    --border-color: #333;
    --trend-up: #1fad8b;
    --trend-down: #ff0000;
    --victory: #1fad8b;
    --draw: #ffff00;
    --defeat: #ff0000;
    --hover-color: #179c78;
    --accent-glow: rgba(31, 173, 139, 0.2);
    --text-secondary: #b8bcc3;
}

* {
    box-sizing: border-box;
}

body {
    background: linear-gradient(135deg, var(--bg-color) 0%, #242832 100%);
    color: var(--text-color);
    font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    margin: 0;
    padding: 20px;
    line-height: 1.6;
    min-height: 100vh;
}

.classificacao-container {
    max-width: 1800px;
    margin: 0 auto;
    background: var(--secondary-bg);
    border-radius: 12px;
    padding: 28px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    position: relative;
}

.classificacao-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
}

#league-selector {
    background: var(--bg-color);
    color: var(--text-color);
    border: 2px solid var(--border-color);
    padding: 16px 20px;
    font-size: 16px;
    font-weight: 500;
    width: 100%;
    margin-bottom: 28px;
    cursor: pointer;
    border-radius: 8px;
    appearance: none;
    transition: border-color 0.3s ease;
    position: relative;
}

#league-selector::after {
    content: '▼';
    position: absolute;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--accent-color);
    font-size: 12px;
    pointer-events: none;
}

#league-selector:hover,
#league-selector:focus {
    outline: none;
    border-color: var(--accent-color);
}

.stats-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    margin-bottom: 32px;
}

.stat-card {
    background: var(--bg-color);
    padding: 5px;
    border-radius: 12px;
    text-align: center;
    transition: transform 0.3s ease, border-color 0.3s ease;
    position: relative;
}

.stat-card:hover {
    transform: translateY(-4px);
    cursor: pointer;
    border-color: rgba(31, 173, 139, 0.3);
}

.stat-title {
    font-size: 13px;
    font-weight: 500;
    margin-bottom: 12px;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.stat-value {
    font-size: 12px;
    font-weight: 700;
    color: var(--accent-color);
}

.filter-section {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 12px;
    margin-bottom: 32px;
    padding: 8px;
}

.filter-button {
    background: var(--secondary-bg);
    color: var(--text-color);
    border: 2px solid var(--border-color);
    padding: 12px 24px;
    font-size: 12px;
    font-weight: 500;
    cursor: pointer;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.filter-button.active {
    background: var(--accent-color);
    color: var(--bg-color);
    border-color: var(--accent-color);
}

.filter-button:hover {
    background: var(--hover-color);
    color: var(--text-color);
    border-color: var(--accent-color);
    transform: translateY(-1px);
}

table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 2px;
    margin-bottom: 30px;
    background: transparent;
}

th, td {
    padding: 16px 12px;
    text-align: center;
    transition: background-color 0.2s ease;
}

th {
    background: var(--secondary-bg);
    font-weight: 500;
    text-transform: uppercase;
    font-size: 11px;
    color: var(--text-secondary);
    letter-spacing: 0.5px;
    position: relative;
    border-radius: 5px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

th::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
}

td {
    background: var(--bg-color);
    font-weight: 500;
    border-radius: 5px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

tr:hover td {
    background: rgba(31, 173, 139, 0.05);
    cursor: pointer;
}

.alinhado-esquerda {
    text-align: left !important;
    padding-left: 20px;
}

.g5 {
    background: rgba(31, 173, 139, 0.1) !important;
    border-left: 3px solid var(--accent-color);
}

.z5 {
    background: rgba(255, 0, 0, 0.1) !important;
    border-left: 3px solid var(--trend-down);
}

.trend-indicator {
    margin-left: 10px;
    font-weight: bold;
    font-size: 14px;
}

.trend-up {
    color: var(--trend-up);
}

.trend-down {
    color: var(--trend-down);
}

.streak-badge {
    padding: 4px 10px;
    border-radius: 16px;
    font-size: 11px;
    margin-left: 10px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.streak-positive {
    background: var(--trend-up);
    color: var(--bg-color);
}

.streak-negative {
    background: var(--trend-down);
    color: var(--bg-color);
}

.bolinha-vitoria, .bolinha-empate, .bolinha-derrota {
    display: inline-block;
    font-size: 14px;
    margin: 0 2px;
    transition: transform 0.2s ease;
}

.bolinha-vitoria:hover, .bolinha-empate:hover, .bolinha-derrota:hover {
    transform: scale(1.2);
}

.bolinha-vitoria {
    color: var(--victory);
}

.bolinha-empate {
    color: var(--draw);
}

.bolinha-derrota {
    color: var(--defeat);
}

.performance-indicator {
    background: var(--secondary-bg);
    height: 6px;
    margin-top: 8px;
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.performance-bar {
    background: linear-gradient(90deg, var(--accent-color), var(--hover-color));
    height: 100%;
    transition: width 0.6s ease;
    border-radius: 10px;
}

.advanced-stats {
    font-size: 12px;
    color: var(--text-secondary);
    line-height: 1.4;
    font-weight: 500;
}

.position {
    font-weight: 700;
    font-size: 16px;
    color: var(--accent-color);
}

/* Responsividade */
@media (max-width: 1200px) {
    .stats-container {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 16px;
    }
    
    th, td {
        padding: 12px 8px;
        font-size: 13px;
    }
}

@media (max-width: 768px) {
    body {
        padding: 12px;
    }
    
    .classificacao-container {
        padding: 20px;
        border-radius: 8px;
    }
    
    .stats-container {
        grid-template-columns: 1fr;
        gap: 16px;
        margin-bottom: 24px;
    }
    
    .filter-section {
        gap: 8px;
    }
    
    .filter-button {
        padding: 8px 16px;
        font-size: 12px;
    }
    
    th, td {
        padding: 8px 4px;
        font-size: 11px;
    }
    
    .alinhado-esquerda {
        padding-left: 8px;
    }
    
    .trend-indicator, .streak-badge {
        display: none;
    }
    
    table {
        border-radius: 8px;
    }
}

@media (max-width: 480px) {
    .stats-container {
        margin-bottom: 20px;
    }
    
    .stat-card {
        padding: 16px;
    }
    
    .stat-title {
        font-size: 11px;
    }
    
    .stat-value {
        font-size: 16px;
    }
    
    th, td {
        padding: 6px 2px;
        font-size: 10px;
    }
}

/* Scrollbar personalizada */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: var(--bg-color);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb {
    background: var(--accent-color);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--hover-color);
}
  </style>

  <body>
    <body>
      <div id="header"></div>

      <br>
      <br>
       <br>
      <br>

    <div class="classificacao-container">
        <select id="league-selector">
            <option value="https://betstat.site/resultados/Copa%20Am%C3%A9rica">Copa América</option>
            <option value="https://betstat.site/resultados/Ta%C3%A7a%20Gl%C3%B3ria%20eterna">Taça Glória Eterna</option>
            <option value="https://betstat.site/resultados/Euro">Euro</option>
            <option value="https://betstat.site/resultados/Campeonato%20Italiano">Campeonato Italiano</option>
            <option value="https://betstat.site/resultados/Copa%20das%20estrelas">Copa das Estrelas</option>
            <option value="https://betstat.site/resultados/Brasileir%C3%A3o%20Betano">Brasileirão Betano</option>
        </select>

        <div id="stats-overview" class="stats-container">
            <!-- Stats cards will be inserted here -->
        </div>

        <div class="filter-section">
            <button class="filter-button active" data-period="total">Total</button>
            <button class="filter-button" data-period="home">Mandante</button>
            <button class="filter-button" data-period="away">Visitante</button>
            <button class="filter-button" data-period="last5">Últimos 5 Jogos</button>
        </div>

        <table id="tabela-classificacao">
            <thead>
                <tr>
                    <th>Pos</th>
                    <th class="alinhado-esquerda">Time</th>
                    <th>Pts</th>
                    <th>J</th>
                    <th>V</th>
                    <th>E</th>
                    <th>D</th>
                    <th>GP</th>
                    <th>GC</th>
                    <th>SG</th>
                    <th>Últ. 5</th>
                    <th>Apr%</th>
                    <th>Média Gols</th>
                    <th>Defesa inviolada</th>
                    <th>Desempenho Casa/Fora</th>
                </tr>
            </thead>
            <tbody>
                <!-- Table data will be inserted here -->
            </tbody>
        </table>
    </div>



    <script>
        const tabelaClassificacao = document.getElementById("tabela-classificacao");
        const statsOverview = document.getElementById("stats-overview");
        const leagueSelector = document.getElementById("league-selector");

        let apiUrl = leagueSelector.value;

        leagueSelector.addEventListener('change', () => {
            apiUrl = leagueSelector.value;
            init();
        });

        async function fetchData() {
            const response = await fetch(apiUrl);
            return await response.json();
        }

        function calculateAdvancedStats(matches, team) {
            const teamMatches = matches.filter(
                (m) => m.time_a === team || m.time_b === team
            );

            const homeMatches = teamMatches.filter((m) => m.time_a === team);
            const awayMatches = teamMatches.filter((m) => m.time_b === team);

            const cleanSheets = teamMatches.filter((m) => {
                const [goalsA, goalsB] = m.ft.split(" x ").map(Number);
                return (
                    (m.time_a === team && goalsB === 0) ||
                    (m.time_b === team && goalsA === 0)
                );
            }).length;

            const goals = teamMatches.reduce((acc, m) => {
                const [goalsA, goalsB] = m.ft.split(" x ").map(Number);
                return acc + (m.time_a === team ? goalsA : goalsB);
            }, 0);

            const homeStats = calculateSplitStats(homeMatches, team, true);
            const awayStats = calculateSplitStats(awayMatches, team, false);

            return {
                cleanSheets,
                mediaGols: (goals / teamMatches.length).toFixed(2),
                homeStats,
                awayStats,
            };
        }

        function calculateSplitStats(matches, team, isHome) {
            let points = 0;
            let wins = 0;
            let draws = 0;
            let losses = 0;
            let goalsFor = 0;
            let goalsAgainst = 0;

            matches.forEach((match) => {
                const [goalsA, goalsB] = match.ft.split(" x ").map(Number);
                const teamGoals = isHome ? goalsA : goalsB;
                const oppGoals = isHome ? goalsB : goalsA;

                goalsFor += teamGoals;
                goalsAgainst += oppGoals;

                if (teamGoals > oppGoals) {
                    points += 3;
                    wins++;
                } else if (teamGoals === oppGoals) {
                    points++;
                    draws++;
                } else {
                    losses++;
                }
            });

            return {
                points,
                matches: matches.length,
                wins,
                draws,
                losses,
                goalsFor,
                goalsAgainst,
                goalDiff: goalsFor - goalsAgainst,
                aproveitamento: ((points / (matches.length * 3)) * 100).toFixed(2),
            };
        }

        function calculateClassification(data) {
            const teams = {};

            data.forEach((match) => {
                const { time_a, time_b, ft } = match;
                const [goalsA, goalsB] = ft.split(" x ").map(Number);

                [time_a, time_b].forEach((team) => {
                    if (!teams[team]) {
                        teams[team] = {
                            jogos: 0,
                            vitorias: 0,
                            empates: 0,
                            derrotas: 0,
                            golsPro: 0,
                            golsContra: 0,
                            pontos: 0,
                            forma: [],
                            ultimoPlacar: "",
                            ultimoJogo: "",
                            sequencia: 0,
                            maiorSequencia: { vitorias: 0, derrotas: 0 },
                            pontosUltimos5: 0,
                            golsUltimos5: 0,
                            golsContraUltimos5: 0,
                        };
                    }
                });

                teams[time_a].jogos++;
                teams[time_b].jogos++;
                teams[time_a].golsPro += goalsA;
                teams[time_b].golsPro += goalsB;
                teams[time_a].golsContra += goalsB;
                teams[time_b].golsContra += goalsA;

                if (goalsA > goalsB) {
                    updateTeamStats(teams[time_a], "V", goalsA, goalsB);
                    updateTeamStats(teams[time_b], "D", goalsB, goalsA);
                } else if (goalsA < goalsB) {
                    updateTeamStats(teams[time_b], "V", goalsB, goalsA);
                    updateTeamStats(teams[time_a], "D", goalsA, goalsB);
                } else {
                    updateTeamStats(teams[time_a], "E", goalsA, goalsB);
                    updateTeamStats(teams[time_b], "E", goalsB, goalsA);
                }
            });

            Object.keys(teams).forEach((team) => {
                const advancedStats = calculateAdvancedStats(data, team);
                teams[team] = { ...teams[team], ...advancedStats };
            });

            return Object.entries(teams)
                .map(([name, stats]) => ({
                    name,
                    ...stats,
                    saldoGols: stats.golsPro - stats.golsContra,
                    aproveitamento: ((stats.pontos / (stats.jogos * 3)) * 100).toFixed(
                        2
                    ),
                    tendencia: calculateTendencia(stats.forma),
                }))
                .sort(
                    (a, b) =>
                        b.pontos - a.pontos ||
                        b.saldoGols - a.saldoGols ||
                        b.golsPro - a.golsPro
                );
        }

        function updateTeamStats(team, result, goalsFor, goalsAgainst) {
            switch (result) {
                case "V":
                    team.vitorias++;
                    team.pontos += 3;
                    team.sequencia = team.ultimoJogo === "V" ? team.sequencia + 1 : 1;
                    team.maiorSequencia.vitorias = Math.max(
                        team.maiorSequencia.vitorias,
                        team.sequencia
                    );
                    break;
                case "D":
                    team.derrotas++;
                    team.sequencia = team.ultimoJogo === "D" ? team.sequencia + 1 : 1;
                    team.maiorSequencia.derrotas = Math.max(
                        team.maiorSequencia.derrotas,
                        team.sequencia
                    );
                    break;
                case "E":
                    team.empates++;
                    team.pontos++;
                    team.sequencia = 0;
                    break;
            }

            team.forma.push(result);
            if (team.forma.length > 5) {
                team.forma.shift();
            }
            team.ultimoJogo = result;
            team.ultimoPlacar = `${goalsFor} x ${goalsAgainst}`;

            team.golsUltimos5 = goalsFor;
            team.golsContraUltimos5 = goalsAgainst;

            team.pontosUltimos5 = team.forma.reduce(
                (acc, res) => acc + (res === "V" ? 3 : res === "E" ? 1 : 0),
                0
            );
        }

        function calculateTendencia(forma) {
            if (forma.length < 3) return "neutral";
            const ultimos3 = forma.slice(-3);
            const pontos = ultimos3.reduce(
                (acc, res) => acc + (res === "V" ? 3 : res === "E" ? 1 : 0),
                0
            );
            return pontos >= 7 ? "up" : pontos <= 1 ? "down" : "neutral";
        }

        function updateStatsOverview(classification) {
            statsOverview.innerHTML = "";

            const totalGols = classification.reduce(
                (acc, team) => acc + team.golsPro,
                0
            );
            const totalJogos =
                (classification[0].jogos * classification.length) / 2;
            const mediaGolsJogo = (totalGols / totalJogos).toFixed(2);

            const maisGols = classification.reduce((acc, team) =>
                acc.golsPro > team.golsPro ? acc : team
            );

            const melhorDefesa = classification.reduce((acc, team) =>
                acc.golsContra < team.golsContra ? acc : team
            );

            const piorDefesa = classification.reduce((acc, team) =>
                acc.golsContra > team.golsContra ? acc : team
            );

            const maiorSequenciaV = classification.reduce((acc, team) =>
                acc.maiorSequencia.vitorias > team.maiorSequencia.vitorias
                    ? acc
                    : team
            );

            const timeAscensao = classification.reduce((acc, team) =>
                acc.pontosUltimos5 > team.pontosUltimos5 ? acc : team
            );

            const melhorMandante = classification.reduce((acc, team) =>
                parseFloat(team.homeStats.aproveitamento) >
                parseFloat(acc.homeStats.aproveitamento)
                    ? team
                    : acc
            );

            const melhorVisitante = classification.reduce((acc, team) =>
                parseFloat(team.awayStats.aproveitamento) >
                parseFloat(acc.awayStats.aproveitamento)
                    ? team
                    : acc
            );

            const timeQueda = classification.reduce((acc, team) =>
                acc.pontosUltimos5 < team.pontosUltimos5 ? acc : team
            );

            const maisCleanSheets = classification.reduce((acc, team) =>
                acc.cleanSheets > team.cleanSheets ? acc : team
            );

            const maiorSequenciaD = classification.reduce((acc, team) =>
                acc.maiorSequencia.derrotas > team.maiorSequencia.derrotas
                    ? acc
                    : team
            );

            const maisGolsUltimos5 = classification.reduce((acc, team) =>
                acc.golsUltimos5 > team.golsUltimos5 ? acc : team
            );

            const maisEmpates = classification.reduce((acc, team) =>
                acc.empates > team.empates ? acc : team
            );

            const stats = [
                { title: "Média de Gols por Jogo", value: mediaGolsJogo },
                {
                    title: "Artilharia",
                    value: `${maisGols.name} (${maisGols.golsPro} gols)`,
                },
                {
                    title: "Melhor Defesa",
                    value: `${melhorDefesa.name} (${melhorDefesa.golsContra} gols)`,
                },
                {
                    title: "Pior Defesa",
                    value: `${piorDefesa.name} (${piorDefesa.golsContra} gols)`,
                },
                {
                    title: "Maior Sequência de Vitórias",
                    value: `${maiorSequenciaV.name} (${maiorSequenciaV.maiorSequencia.vitorias})`,
                },
                {
                    title: "Maior Sequência de Derrotas",
                    value: `${maiorSequenciaD.name} (${maiorSequenciaD.maiorSequencia.derrotas})`,
                },
                {
                    title: "Time em Ascensão",
                    value: `${timeAscensao.name} (${timeAscensao.pontosUltimos5} pts/5j)`,
                },
                {
                    title: "Time em Queda",
                    value: `${timeQueda.name} (${timeQueda.pontosUltimos5} pts/5j)`,
                },
                {
                    title: "Melhor Mandante",
                    value: `${melhorMandante.name} (${melhorMandante.homeStats.aproveitamento}%)`,
                },
                {
                    title: "Melhor Visitante",
                    value: `${melhorVisitante.name} (${melhorVisitante.awayStats.aproveitamento}%)`,
                },
                {
                    title: "Partidas sem sofrer Gols",
                    value: `${maisCleanSheets.name} (${maisCleanSheets.cleanSheets})`,
                },
                {
                    title: "Mais Gols Últimos 5j",
                    value: `${maisGolsUltimos5.name} (${maisGolsUltimos5.golsUltimos5})`,
                },
                {
                    title: "Time que mais Empata",
                    value: `${maisEmpates.name} (${maisEmpates.empates} empates)`,
                },
            ];

            stats.forEach((stat) => {
                const card = document.createElement("div");
                card.className = "stat-card";
                card.innerHTML = `
                    <div class="stat-title">${stat.title}</div>
                    <div class="stat-value">${stat.value}</div>
                `;
                statsOverview.appendChild(card);
            });
        }

        function updateTable(classification, lastClassification) {
            const tableBody = document.querySelector("#tabela-classificacao tbody");
            tableBody.innerHTML = "";

            classification.forEach((team, index) => {
                const row = document.createElement("tr");
                const positionClass =
                    index < 5
                        ? "g5"
                        : index >= classification.length - 5
                        ? "z5"
                        : "";

                const tendenciaIcon =
                    team.tendencia === "up"
                        ? "↑"
                        : team.tendencia === "down"
                        ? "↓"
                        : "→";
                const tendenciaClass =
                    team.tendencia === "up"
                        ? "trend-up"
                        : team.tendencia === "down"
                        ? "trend-down"
                        : "";

                const aproveitamentoBar = `
                    <div class="performance-indicator">
                        <div class="performance-bar" style="width: ${team.aproveitamento}%"></div>
                    </div>
                `;

                const streakBadge =
                    team.sequencia > 2
                        ? `
                    <span class="streak-badge ${
                        team.ultimoJogo === "V"
                            ? "streak-positive"
                            : "streak-negative"
                    }">
                        ${team.sequencia} ${team.ultimoJogo === "V" ? "V" : "D"}
                    </span>`
                        : "";

                row.innerHTML = `
                    <td class="position ${positionClass}">${index + 1}</td>
                    <td class="alinhado-esquerda ${positionClass}">
                        ${team.name}
                        <span class="trend-indicator ${tendenciaClass}">${tendenciaIcon}</span>
                        ${streakBadge}
                    </td>
                    <td>${team.pontos}</td>
                    <td>${team.jogos}</td>
                    <td>${team.vitorias}</td>
                    <td>${team.empates}</td>
                    <td>${team.derrotas}</td>
                    <td>${team.golsPro}</td>
                    <td>${team.golsContra}</td>
                    <td>${team.saldoGols}</td>
                    <td>${team.forma
                        .map((result) => {
                            if (result === "V")
                                return '<span class="bolinha-vitoria">●</span>';
                            if (result === "E")
                                return '<span class="bolinha-empate">●</span>';
                            return '<span class="bolinha-derrota">●</span>';
                        })
                        .join("")}</td>
                    <td>
                        ${team.aproveitamento}%
                        ${aproveitamentoBar}
                    </td>
                    <td>${team.mediaGols}</td>
                    <td>${team.cleanSheets}</td>
                    <td>
                        <div class="advanced-stats">
                            Casa: ${team.homeStats.aproveitamento}%<br>
                            Fora: ${team.awayStats.aproveitamento}%
                        </div>
                    </td>
                `;

                tableBody.appendChild(row);
            });
        }

        // Filter handlers
        document.querySelectorAll(".filter-button").forEach((button) => {
            button.addEventListener("click", (e) => {
                document
                    .querySelectorAll(".filter-button")
                    .forEach((btn) => btn.classList.remove("active"));
                e.target.classList.add("active");

                const period = e.target.dataset.period;
                // Re-render table with filtered data
                const filteredClassification = filterClassification(
                    currentClassification,
                    period
                );
                updateTable(filteredClassification, lastClassification);
            });
        });

        function filterClassification(classification, period) {
            switch (period) {
                case "home":
                    return classification
                        .map((team) => ({
                            ...team,
                            pontos: team.homeStats.points,
                            jogos: team.homeStats.matches,
                            aproveitamento: team.homeStats.aproveitamento,
                        }))
                        .sort((a, b) => b.pontos - a.pontos);
                case "away":
                    return classification
                        .map((team) => ({
                            ...team,
                            pontos: team.awayStats.points,
                            jogos: team.awayStats.matches,
                            aproveitamento: team.awayStats.aproveitamento,
                        }))
                        .sort((a, b) => b.pontos - a.pontos);
                case "last5":
                    return classification
                        .map((team) => ({
                            ...team,
                            pontos: team.pontosUltimos5,
                            jogos: team.forma.length,
                            aproveitamento: (
                                (team.pontosUltimos5 / (team.forma.length * 3)) *
                                100
                            ).toFixed(2),
                        }))
                        .sort((a, b) => b.pontos - a.pontos);
                default:
                    return classification;
            }
        }

        let currentClassification = [];
        let lastClassification = [];

        async function init() {
            const data = await fetchData();
            lastClassification = currentClassification;
            currentClassification = calculateClassification(data);

            updateStatsOverview(currentClassification);
            updateTable(currentClassification, lastClassification);

            localStorage.setItem(
                "lastClassification",
                JSON.stringify(currentClassification)
            );
        }

        init();
        setInterval(init, 300000); // Atualiza a cada 5 minutos
    </script>

    <script>
      // Bloqueia o menu de contexto (clique direito)
      document.addEventListener("contextmenu", function(e) {
    e.preventDefault();
});

// Bloqueia atalhos de teclado comuns para ferramentas de desenvolvimento
document.addEventListener("keydown", function(e) {
    // F12
    if (e.key === "F12") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + I
    if (e.ctrlKey && e.shiftKey && e.key === "I") {
        e.preventDefault();
    }
    
    // Ctrl + U (ver código fonte)
    if (e.ctrlKey && e.key === "u") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + J (console)
    if (e.ctrlKey && e.shiftKey && e.key === "J") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + C (inspeção de elementos)
    if (e.ctrlKey && e.shiftKey && e.key === "C") {
        e.preventDefault();
    }
    
    // Ctrl + S (salvar página)
    if (e.ctrlKey && e.key === "s") {
        e.preventDefault();
    }
    
    // Ctrl + P (imprimir)
    if (e.ctrlKey && e.key === "p") {
        e.preventDefault();
    }
});

// Detecta abertura de ferramentas de desenvolvimento
const devtools = { open: false };
const element = new Image();
Object.defineProperty(element, 'id', {
    get: function () {
        devtools.open = true;
    }
});

// Adiciona detecção alternativa de devtools
(function() {
    const threshold = 160;
    const checkDevTools = function() {
        if ((window.outerWidth - window.innerWidth) > threshold || 
            (window.outerHeight - window.innerHeight) > threshold) {
            devtools.open = true;
        }
    };
    
    window.addEventListener('resize', checkDevTools);
    setInterval(checkDevTools, 500);
})();

// Monitoramento contínuo
console.log('%c', element);
setInterval(function() {
    if (devtools.open) {
        document.body.innerHTML = '<h1>Acesso não autorizado detectado</h1>';
        // Ou redirecionar:
        // window.location.href = 'about:blank';
        devtools.open = false;
    }
}, 1000);

// Impede seleção de texto
document.addEventListener('selectstart', function(e) {
    e.preventDefault();
});

// Impede arrastar e soltar
document.addEventListener('dragstart', function(e) {
    e.preventDefault();
});

// Ofusca console
console.log = function() {};
console.debug = function() {};
console.info = function() {};
    </script>

<script>
  fetch('header.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('header').innerHTML = data;
    });
</script>
<script src="redirecionar.js"></script>

    <script></script>
  </body>
</html>
