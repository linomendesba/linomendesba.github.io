<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="img/favicon.ico" type="image/x-icon" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-4WT805FFHQ"
    ></script>
    <title>BetStat</title>
    <!-- Meta tags SEO principais -->
    <meta
      name="description"
      content="Transforme suas apostas com BetStat - a única plataforma especializada em futebol virtual Betano. Análises precisas, estatísticas confiáveis e resultados comprovados para investimentos inteligentes."
    />
    <meta
      name="keywords"
      content="BetStat, apostas esportivas, futebol virtual, Betano, estatísticas apostas, análise apostas, investimentos esportivos"
    />

    <!-- Open Graph meta tags para redes sociais -->
    <meta
      property="og:title"
      content="BetStat | Plataforma de Análise para Apostas Esportivas"
    />
    <meta
      property="og:description"
      content="Transforme suas apostas com análises precisas e estatísticas confiáveis. A única plataforma especializada em futebol virtual Betano."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.betstat.site/payment.html" />
    <meta property="og:site_name" content="BetStat" />

    <!-- Meta tags adicionais -->
    <meta name="robots" content="index, follow" />
    <meta name="author" content="BetStat" />
    <meta name="canonical" href="https://www.betstat.site/payment.html" />
    <script type="module" src="js/firebase-auth.js"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-4WT805FFHQ");
    </script>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap"
      rel="stylesheet"
    />
  </head>

  <style>



  .logo2 {
  width: 60px;      /* define a largura fixa */
  height: auto;     /* mantém a proporção da imagem */
}
  

  
  /* Adicionar um espaço apenas ao primeiro elemento accordion-item */
  .accordion-item:first-of-type {
    margin-top: 30px;  /* Espaço igual à altura do cabeçalho fixo */
  }
  
  
  .logo {
      height: 30px;
  }
  
  
  .selectors-container {
    display: flex;
    align-items: center;
    gap: 10px; 
  }
  
  .nav-seletor {
    display: flex;
    align-items: center;
    color: #ffffff;
    font-weight: 500;
  }

      .logout-btn {
      background-color: #1c1f26;; /* Fundo vermelho */
      color: white; /* Texto branco */
      padding: 8px 10px; /* Espaçamento interno */
      font-size: 14px; /* Tamanho da fonte */
      border-radius: 5px; /* Cantos arredondados */
      cursor: pointer; /* Cursor de botão */
      border: 1px solid #ffffff81;
    }

    .logout-btn:hover {
      background-color: #720000; /* Cor ao passar o mouse */
    }
  
  .nav-seletor select {
    padding: 0.5rem ;
    border-radius: 6px;
    background-color: #1c1f26;
    color: var(--text-color);
    border: 1px solid var(--border-color);
    cursor: pointer;
    transition: all 0.3s ease;
  }

        body {
            background: linear-gradient(to bottom, #1c1f26);
            color: #e0e0e0;
            font-family: "Roboto", system-ui, -apple-system, Segoe UI, Helvetica, Arial;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 20px;
            margin: 0;
            min-height: 100vh;
        }
        h1 {
            color: #1fad8b;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }
        .chart-container {
            width: 95%;
            max-width: 1800px;
            background-color: #292d36;
            padding: 20px;
            border-radius: 8px;
        }
        .canvas-wrapper {
            position: relative;
            height: 50vh;
            width: 100%;
            cursor: pointer;
        }
        .control-panel, .custom-odd-panel {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
            padding: 15px;
            background-color: #3a3f4b;
            border-radius: 8px;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
        }
        .control-panel > div {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        label {
            font-size: 14px;
            color: #b0b0b0;
        }
        select, input, button {
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #4a4e5a;
            background-color: #3c404d;
            color: #e0e0e0;
            transition: border-color 0.3s ease;
        }
        button {
            cursor: pointer;
            background-color: #3a3f4b;
            border-color: #1fad8b;
            font-weight: bold;
        }
        button:hover {
            background-color: #14745a;
        }
        select:hover, input:hover {
            border-color: #1fad8b;
        }
        .checkbox-container {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 10px;
            
        }
        .checkbox-container label {
            margin-bottom: 0;
            cursor: pointer;
        }
        #oddsCheckboxesContainer {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 15px;
            background-color: #313543;
            border-radius: 8px;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
        }
        .odd-checkbox-item {
            display: flex;
            align-items: center;
            gap: 5px;
            
        }
        .odd-checkbox-item label {
            cursor: pointer;
        }
        .remove-btn {
            cursor: pointer;
            color: #ff6b6b; 
            font-weight: bold;
            margin-left: 5px;
            font-size: 12px;
            padding: 2px 5px;
            border-radius: 4px;
            background-color: rgba(255, 107, 107, 0.2);
            transition: background-color 0.2s;
        }
        .remove-btn:hover {
            background-color: rgba(255, 107, 107, 0.4);
        }
        .green-text {
            color: #4CAF50;
            font-weight: bold;
        }

  </style>


  <body>
    <body>
      <div id="header"></div>

      <br>
      <br>
       <br>

    <div class="chart-container">
        <div class="canvas-wrapper">
            <canvas id="oddsChart"></canvas>
        </div>

        <div class="control-panel">
            <div>
                <label for="leagueSelector">Liga</label>
                <select id="leagueSelector"></select>
            </div>
            <div>
                <label for="marketSelector">Mercado</label>
                <select id="marketSelector"></select>
            </div>
            <div>
                <label for="pointsSelector">Hora</label>
                <select id="pointsSelector">
                    <option value="20">1 Hora</option>
                    <option value="40">2 Horas</option>
                    <option value="60">3 Horas</option>
                    <option value="80">4 Horas</option>
                    <option value="100">5 Horas</option>
                    <option value="120"selected>6 Horas</option>
                    <option value="140">7 Horas</option>
                    <option value="160">8 Horas</option>
                    <option value="180">9 Horas</option>
                    <option value="200">10 Horas</option>
                    <option value="220">11 Horas</option>
                    <option value="240">12 Horas</option>
                    <option value="480">24 Horas</option>
                </select>
            </div>
            <div>
                <label for="averageSelector">Média Móvel</label>
                <select id="averageSelector">
                          <option value="9"selected>Base 10</option>
                          <option value="19"selected>Base 20</option>
                          <option value="39">Base 40</option>
                          <option value="59">Base 60</option>
                          <option value="79">Base 80</option>
                </select>
            </div>
            <div class="checkbox-container">
                <input type="checkbox" id="fibonacciToggle" checked>
                <label for="fibonacciToggle">Ativar Fibonacci</label>
            </div>
        </div>

        <div class="custom-odd-panel">
             <div>
                <label for="customOddInput">Adicionar Odd Específica</label>
                <input type="number" id="customOddInput" placeholder="Ex: 1.85" step="0.01">
            </div>
            <button id="addCustomOddBtn">Adicionar Odd</button>
        </div>
        
        <div id="oddsCheckboxesContainer"></div>
    </div>

<script>
let oddsChart;
let showFibonacciLines = true;
let allOddsData = {};
let allResultsData = {};
let topRankedOdds = [];
let customOdds = [];
let updateInterval;
let chartDatasCache = [];

const CUSTOM_ODD_COLOR = '#66CDAA';

const leagues = {
    'Copa do Mundo': 'Copa%20do%20Mundo',
    'Ligas Dos Campeoes': 'Ligas%20dos%20Campe%C3%B5es',
    'America Latina': 'Am%C3%A9rica%20Latina'
};

const markets = {
    'odds_ambas_marcam_sim': 'Ambas Sim',
     'odds_ambas_marcam_nao': 'Ambas Não',
    'odds_casa_vence': 'Casa Vence',
    'odds_visitante_vence': 'Fora Vence',
    'odds_empate': 'Empate',
    'odds_mais_1_5': 'Over 1.5',
    'odds_menos_1_5': 'Under 1.5',
    'odds_mais_2_5': 'Over 2.5',
    'odds_menos_2_5': 'Under 2.5',
    'odds_mais_3_5': 'Over 3.5',
    'odds_menos_3_5': 'Under 3.5',
};

const fixedColors = [
    '#ffffff', '#FFFF33', '#FF3333', '#6699FF', '#9933FF',
    '#FF9933', '#FF99CC', '#CCCCCC', '#A0522D', '#990099'
];

const leagueSelector = document.getElementById('leagueSelector');
const marketSelector = document.getElementById('marketSelector');
const pointsSelector = document.getElementById('pointsSelector');
const averageSelector = document.getElementById('averageSelector');
const fibonacciToggle = document.getElementById('fibonacciToggle');
const oddsCheckboxesContainer = document.getElementById('oddsCheckboxesContainer');
const customOddInput = document.getElementById('customOddInput');
const addCustomOddBtn = document.getElementById('addCustomOddBtn');

async function fetchData(leagueKey) {
    if (allOddsData[leagueKey] && allResultsData[leagueKey]) return;
    try {
        const [oddsResponse, resultsResponse] = await Promise.all([
            fetch(`https://betstat.site/odds/estrela/${leagueKey}`),
            fetch(`https://betstat.site/resultados/estrela/${leagueKey}`)
        ]);
        if (!oddsResponse.ok || !resultsResponse.ok) throw new Error('Falha na resposta da rede.');
        allOddsData[leagueKey] = await oddsResponse.json();
        allResultsData[leagueKey] = await resultsResponse.json();
    } catch (error) {
        console.error(`Erro ao buscar dados para ${leagueKey}:`, error);
        alert(`Não foi possível carregar os dados para a liga selecionada.`);
    }
}

function checkMarketOutcome(marketKey, ftScore) {
    if (!ftScore || !ftScore.includes(' x ')) return false;
    const parts = ftScore.split(' x ').map(Number);
    if (parts.some(isNaN)) return false;
    const [homeGoals, awayGoals] = parts;
    const totalGoals = homeGoals + awayGoals;
    switch (marketKey) {
        case 'odds_casa_vence': return homeGoals > awayGoals;
        case 'odds_visitante_vence': return awayGoals > homeGoals;
        case 'odds_empate': return homeGoals === awayGoals;
        case 'odds_ambas_marcam_sim': return homeGoals > 0 && awayGoals > 0;
        case 'odds_ambas_marcam_nao': return homeGoals === 0 || awayGoals === 0;
        case 'odds_mais_1_5': return totalGoals > 1.5;
        case 'odds_menos_1_5': return totalGoals < 1.5;
        case 'odds_mais_2_5': return totalGoals > 2.5;
        case 'odds_menos_2_5': return totalGoals < 2.5;
        case 'odds_mais_3_5': return totalGoals > 3.5;
        case 'odds_menos_3_5': return totalGoals < 3.5;
        default: return false;
    }
}

function renderAllOddsCheckboxes() {
    oddsCheckboxesContainer.innerHTML = '';
    
    topRankedOdds.forEach(([odd, count, greenCount], index) => {
        const item = document.createElement('div');
        item.classList.add('odd-checkbox-item');
        item.innerHTML = `
            <input type="checkbox" id="odd-${odd}" value="${odd}" ${index === 0 ? 'checked' : ''}>
            <label for="odd-${odd}" style="color: ${fixedColors[index]};">Odd ${odd} (${count}x) <span class="green-text">(${greenCount})✅</span></label>
        `;
        oddsCheckboxesContainer.appendChild(item);
    });

    const rankedOddValues = topRankedOdds.map(o => o[0]);
    customOdds.forEach(odd => {
        if (!rankedOddValues.includes(odd)) {
            const item = document.createElement('div');
            item.classList.add('odd-checkbox-item');
            item.innerHTML = `
                <input type="checkbox" id="odd-${odd}" value="${odd}" checked>
                <label for="odd-${odd}" style="color: ${CUSTOM_ODD_COLOR};">Odd ${odd} (Custom)</label>
                <span class="remove-btn" data-odd="${odd}">X</span>
            `;
            oddsCheckboxesContainer.appendChild(item);
        }
    });
}

async function rankAndDisplayOdds() {
    const leagueKey = leagueSelector.value;
    const marketKey = marketSelector.value;
    
    oddsCheckboxesContainer.innerHTML = '<span>Analisando odds...</span>';
    
    await fetchData(leagueKey);

    if (!marketKey || !allOddsData[leagueKey] || !allResultsData[leagueKey]) {
        oddsCheckboxesContainer.innerHTML = '<span>Selecione um Mercado ou dados indisponíveis.</span>';
        return;
    }
    
    const resultsMap = new Map(allResultsData[leagueKey].map(r => [r.event_id, r]));
    const oddsCounts = {};
    const greenCounts = {};

    allOddsData[leagueKey].forEach(game => {
        const oddValue = game[marketKey];
        if (oddValue) {
            oddsCounts[oddValue] = (oddsCounts[oddValue] || 0) + 1;
            const result = resultsMap.get(parseInt(game.match_id));
            if (result && checkMarketOutcome(marketKey, result.ft)) {
                greenCounts[oddValue] = (greenCounts[oddValue] || 0) + 1;
            }
        }
    });

    topRankedOdds = Object.entries(oddsCounts)
        .map(([odd, count]) => [odd, count, greenCounts[odd] || 0])
        .sort(([, a], [, b]) => b - a)
        .slice(0, 10);
    
    renderAllOddsCheckboxes();
}

async function generateAndRenderChart() {
    const leagueKey = leagueSelector.value;
    const marketKey = marketSelector.value;
    
    const selectedOdds = Array.from(oddsCheckboxesContainer.querySelectorAll('input:checked')).map(cb => cb.value);

    const numPoints = parseInt(pointsSelector.value, 10);
    const averagePoints = parseInt(averageSelector.value, 10);

    if (!leagueKey || !marketKey || selectedOdds.length === 0) {
        if (oddsChart) oddsChart.destroy();
        oddsChart = null;
        return;
    }

    await fetchData(leagueKey);
    const resultsMap = new Map(allResultsData[leagueKey]?.map(r => [r.event_id, r]) || []);
    if (resultsMap.size === 0) {
        if (oddsChart) oddsChart.destroy();
        oddsChart = null;
        return;
    }

    const chartDatas = [];
    
    for (const selectedOdd of selectedOdds) {
        const filteredGames = allOddsData[leagueKey]
            .map(game => {
                const result = resultsMap.get(parseInt(game.match_id));
                return result && game[marketKey] == selectedOdd ? { ...game, ...result, isGreen: checkMarketOutcome(marketKey, result.ft) } : null;
            })
            .filter(Boolean)
            .sort((a, b) => new Date(a.created_at) - new Date(b.created_at));
        
        const recentGames = filteredGames.slice(-numPoints);
        
        if (recentGames.length < averagePoints) {
            continue;
        }
        
        const dataPoints = [];
        const gameDetails = [];
        const pointBackgroundColors = [];

        for (let i = averagePoints - 1; i < recentGames.length; i++) {
            const windowStart = i - averagePoints + 1;
            const windowEnd = i + 1;
            const gameWindow = recentGames.slice(windowStart, windowEnd);
            const greenCountInWindow = gameWindow.filter(game => game.isGreen).length;
            const currentPercentage = (greenCountInWindow / gameWindow.length) * 100;
            dataPoints.push(currentPercentage);
            
            const currentGame = recentGames[i];
            gameDetails.push({
                odd: selectedOdd,
                score: currentGame.ft,
                outcome: currentGame.isGreen ? 'Green' : 'Red',
                date: new Date(currentGame.created_at).toLocaleString('pt-BR'),
                gameLabel: `${currentGame.time_casa} vs ${currentGame.time_visitante}`,
                isPositive: currentGame.isGreen,
            });
            pointBackgroundColors.push(currentGame.isGreen ? '#018b06' : '#be0e02');
        }
        
        const totalGreenCount = recentGames.filter(g => g.isGreen).length;
        const actualWinRate = recentGames.length > 0 ? (totalGreenCount / recentGames.length) * 100 : 0;
        
        let color;
        if (customOdds.includes(selectedOdd)) {
            color = CUSTOM_ODD_COLOR;
        } else {
            const colorIndex = topRankedOdds.findIndex(o => o[0] === selectedOdd);
            color = fixedColors[colorIndex !== -1 ? colorIndex : 0];
        }

        chartDatas.push({
            odd: selectedOdd,
            dataPoints: dataPoints,
            gameDetails: gameDetails,
            actualWinRate: actualWinRate,
            color: color,
            pointBackgroundColors: pointBackgroundColors
        });
    }

    if (chartDatas.length === 0) {
        if (oddsChart) oddsChart.destroy();
        oddsChart = null;
        return;
    }

    chartDatasCache = chartDatas;

    const maxLength = Math.max(0, ...chartDatas.map(cd => cd.dataPoints.length));
    const commonLabels = Array.from({ length: maxLength }, (_, i) => `Jogo ${i + 1}`);

    const datasets = chartDatas.map(cd => ({
        label: `Odd ${cd.odd} (Acerto: ${cd.actualWinRate.toFixed(1)}%)`,
        data: cd.dataPoints,
        borderColor: cd.color,
        pointBackgroundColor: cd.pointBackgroundColors,
        pointBorderColor: cd.pointBackgroundColors,
        borderWidth: 2,
        pointRadius: 4,
        fill: false,
        tension: 0
    }));
    
    if (oddsChart) {
        oddsChart.data.labels = commonLabels;
        oddsChart.data.datasets = datasets;
        oddsChart.update('none');
    } else {
        renderChart(commonLabels, datasets, chartDatas);
    }
}

// Plugin Fibonacci corrigido - Independente da escala
const fibonacciLinesPlugin = {
    id: 'fibonacciLines',
    afterDraw: (chart) => {
        if (!showFibonacciLines || chart.data.datasets.length === 0) return;
        
        const { ctx, chartArea } = chart;
        
        // Níveis de Fibonacci em porcentagem - SEMPRE fixos
        const fibonacciLevels = [0, 23.6, 38.2, 50, 61.8, 100];
        
        ctx.save();
        
        fibonacciLevels.forEach(level => {
            // Calcular a posição Y baseada na altura do chartArea (0-100% mapeado para altura total)
            const percentagePosition = level / 100; // Converter para 0-1
            const y = chartArea.bottom - (percentagePosition * (chartArea.bottom - chartArea.top));
            
            // Só desenhar se a linha estiver dentro da área do gráfico
            if (y >= chartArea.top && y <= chartArea.bottom) {
                // Desenhar a linha horizontal
                ctx.beginPath();
                ctx.moveTo(chartArea.left, y);
                ctx.lineTo(chartArea.right, y);
                ctx.strokeStyle = 'rgba(0, 255, 0, 0.5)';
                ctx.lineWidth = 1;
                ctx.setLineDash([5, 5]); // Linha tracejada
                ctx.stroke();
                ctx.setLineDash([]); // Reset para linha sólida
                
                // Desenhar o label à direita da linha
                ctx.fillStyle = 'rgba(0, 255, 0, 0.5)';
                ctx.font = '11px Arial';
                ctx.textAlign = 'left';
                
                // Posicionar o texto ligeiramente à direita da área do gráfico
                const textX = chartArea.right + 10;
                const textY = y + 4;
                
                ctx.fillText(`${level.toFixed(1)}%`, textX, textY);
            }
        });
        
        ctx.restore();
    }
};

function renderChart(commonLabels, datasets, chartDatas) {
    const ctx = document.getElementById('oddsChart').getContext('2d');
    
    oddsChart = new Chart(ctx, {
        type: 'line',
        data: { labels: commonLabels, datasets: datasets },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            layout: { 
                padding: { 
                    top: 20, 
                    right: 60, // Aumentado para dar espaço aos labels do Fibonacci
                    bottom: 10, 
                    left: 10 
                } 
            },
            plugins: {
                legend: { labels: { color: '#e0e0e0', font: { size: 14 } } },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: '#1fad8b',
                    bodyColor: '#e0e0e0',
                    borderColor: '#1fad8b',
                    borderWidth: 1,
                    callbacks: {
                        title: (tooltipItems) => {
                            const item = tooltipItems[0];
                            const dataset = chartDatasCache[item.datasetIndex];
                            if (!dataset || item.dataIndex >= dataset.gameDetails.length) return '';
                            return dataset.gameDetails[item.dataIndex].gameLabel;
                        },
                        label: (tooltipItem) => {
                            const dataset = chartDatasCache[tooltipItem.datasetIndex];
                            const pos = tooltipItem.dataIndex;
                            if (!dataset || pos >= dataset.gameDetails.length) return [];
                            const details = dataset.gameDetails[pos];
                            return [
                                `Odd: ${details.odd}`, `Data/Hora: ${details.date}`,
                                `Placar FT: ${details.score}`, `Resultado: ${details.outcome}`,
                                `Média Atual: ${tooltipItem.raw.toFixed(1)}%`
                            ];
                        }
                    }
                }
            },
            scales: {
                x: { 
                    ticks: { display: false }, 
                    grid: { display: false } 
                },
                y: {
                    ticks: { 
                        color: '#b0b0b0', 
                        stepSize: 5,
                        callback: (value) => value + '%'
                    },
                    grid: { color: 'rgba(255, 255, 255, 0.1)' }
                }
            }
        },
        plugins: [fibonacciLinesPlugin]
    });
}

async function initialize() {
    Object.entries(leagues).forEach(([name, key]) => {
        leagueSelector.appendChild(new Option(name, key));
    });
    Object.entries(markets).forEach(([key, name]) => {
        marketSelector.appendChild(new Option(name, key));
    });
    leagueSelector.value = 'Ta%C3%A7a%20Gl%C3%B3ria%20eterna';
    marketSelector.value = 'odds_ambas_marcam_sim';

    const handleContextChange = async () => {
        await rankAndDisplayOdds();
        await generateAndRenderChart();
    };
    
    leagueSelector.addEventListener('change', handleContextChange);
    marketSelector.addEventListener('change', handleContextChange);
    pointsSelector.addEventListener('change', generateAndRenderChart);
    averageSelector.addEventListener('change', generateAndRenderChart);

    oddsCheckboxesContainer.addEventListener('click', (event) => {
        if (event.target.type === 'checkbox') {
            generateAndRenderChart();
        }
        if (event.target.classList.contains('remove-btn')) {
            const oddToRemove = event.target.dataset.odd;
            customOdds = customOdds.filter(o => o !== oddToRemove);
            renderAllOddsCheckboxes();
            generateAndRenderChart();
        }
    });

    fibonacciToggle.addEventListener('change', () => {
        showFibonacciLines = fibonacciToggle.checked;
        if (oddsChart) oddsChart.update();
    });

    addCustomOddBtn.addEventListener('click', () => {
        const oddValue = parseFloat(customOddInput.value).toFixed(2);
        const allCurrentOdds = [
            ...topRankedOdds.map(o => o[0]),
            ...customOdds
        ];
        if (oddValue && oddValue > 1 && !allCurrentOdds.includes(oddValue)) {
            customOdds.push(oddValue);
            renderAllOddsCheckboxes();
            generateAndRenderChart();
        }
        customOddInput.value = '';
    });

    await handleContextChange();

    if (updateInterval) clearInterval(updateInterval);
    updateInterval = setInterval(async () => {
        console.log("Atualizando dados periodicamente...");
        const currentLeague = leagueSelector.value;
        allOddsData[currentLeague] = null;
        allResultsData[currentLeague] = null;
        await generateAndRenderChart();
    }, 3 * 60 * 1000);
}

document.addEventListener('DOMContentLoaded', initialize);
</script>

    <script>
      // Bloqueia o menu de contexto (clique direito)
      document.addEventListener("contextmenu", function(e) {
    e.preventDefault();
});

// Bloqueia atalhos de teclado comuns para ferramentas de desenvolvimento
document.addEventListener("keydown", function(e) {
    // F12
    if (e.key === "F12") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + I
    if (e.ctrlKey && e.shiftKey && e.key === "I") {
        e.preventDefault();
    }
    
    // Ctrl + U (ver código fonte)
    if (e.ctrlKey && e.key === "u") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + J (console)
    if (e.ctrlKey && e.shiftKey && e.key === "J") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + C (inspeção de elementos)
    if (e.ctrlKey && e.shiftKey && e.key === "C") {
        e.preventDefault();
    }
    
    // Ctrl + S (salvar página)
    if (e.ctrlKey && e.key === "s") {
        e.preventDefault();
    }
    
    // Ctrl + P (imprimir)
    if (e.ctrlKey && e.key === "p") {
        e.preventDefault();
    }
});

// Detecta abertura de ferramentas de desenvolvimento
const devtools = { open: false };
const element = new Image();
Object.defineProperty(element, 'id', {
    get: function () {
        devtools.open = true;
    }
});

// Adiciona detecção alternativa de devtools
(function() {
    const threshold = 160;
    const checkDevTools = function() {
        if ((window.outerWidth - window.innerWidth) > threshold || 
            (window.outerHeight - window.innerHeight) > threshold) {
            devtools.open = true;
        }
    };
    
    window.addEventListener('resize', checkDevTools);
    setInterval(checkDevTools, 500);
})();

// Monitoramento contínuo
console.log('%c', element);
setInterval(function() {
    if (devtools.open) {
        document.body.innerHTML = '<h1>Acesso não autorizado detectado</h1>';
        // Ou redirecionar:
        // window.location.href = 'about:blank';
        devtools.open = false;
    }
}, 1000);

// Impede seleção de texto
document.addEventListener('selectstart', function(e) {
    e.preventDefault();
});

// Impede arrastar e soltar
document.addEventListener('dragstart', function(e) {
    e.preventDefault();
});

// Ofusca console
console.log = function() {};
console.debug = function() {};
console.info = function() {};
    </script>

<script>
  fetch('header.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('header').innerHTML = data;
    });
</script>
<script src="redirecionar.js"></script>

    <script></script>
  </body>
</html>
