
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Buscador de Padr√µes - Betaxis</title>

    <script async="" src="padrao.js"></script>

    <style>
      :root {
        --primary-color: #2a2e35;
        --secondary-color: #3a3f47;
        --accent-color: #1fac89;
        --text-color: #e0e0e0;
        --table-header: #3a3f47;
        --cell-green: #1f8f3a;
        --cell-red: #b43232;
        --cell-grey: #5a5f67;
        --cell-neutral: #3a3f47;
        --cell-compact: 0; /* 0 = normal | 1 = compacto */
      }
      body {
        font-family: "Segoe UI", system-ui, sans-serif;
        background: #1c1f26;
        color: var(--text-color);
        margin: 0;
        padding: 20px;
        min-height: 100vh;
      }
      .container {
      width: 100%;
        margin: 0 auto;
      }
      h1,
      h2 {
        color: #1fac89;
        margin: 1.2rem 0;
        text-align: center;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .filters {
        background: #292d36;
        padding: 1.2rem;
        border-radius: 12px;
        margin-bottom: 1.2rem;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 1rem;
      }
      label {
        display: block;
        margin-bottom: 0.5rem;
        color: #1fad8b;
        font-size: 13px;
      }
      select,
      input[type="text"] {
        width: 100%;
        padding: 4px;
        border: 2px solid var(--secondary-color);
        border-radius: 8px;
        background: var(--primary-color);
        color: var(--text-color);
      }


      table {
        width: 100%;
        background: var(--primary-color);
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        margin-bottom: 1.4rem;
      }
      th,
      td {
        padding: 1rem;
        text-align: center;
        vertical-align: top;
          border-radius: 5px;
            border: 1px solid #3a3f4b;
      }
      th {
        background: var(--table-header);
        color: var(--accent-color);
        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.9em;
        letter-spacing: 0.4px;
        position: sticky;
        top: 0;
          border-radius: 5px;
            border: 1px solid #3a3f4b;
      }
      tr {
        border-bottom: 1px solid var(--secondary-color);
          border-radius: 5px;
            border: 1px solid #3a3f4b;
      }
      tr:last-child {
        border-bottom: none;
          border-radius: 5px;
            border: 1px solid #3a3f4b;
      }
      tr:hover {
        background: var(--secondary-color);
      }
      #status-atualizacao {
        background: #17856b;
        font-size: 12px;
        color: #292d36;
        padding: 0.6rem;
        border-radius: 8px;
        margin: 0.6rem 0;
        text-align: center;
        font-weight: bold;
        display: none;
      }

      .custom-button {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid var(--secondary-color);
        border-radius: 8px;
        background: #17856b;
        color: var(--text-color);
        cursor: pointer;
      }
      .custom-button:hover {
        background-color:  #1fad8b;
      }

      /* mosaicos e faixa dos √∫ltimos */
      .mosaic,
      .recent-bar {
        display: inline-flex;
        gap: 6px;
        flex-wrap: wrap;
      }
      .recent-wrap {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: -2px 0 25px;
      }
      .recent-caption {
        font-size: 0.85rem;
        opacity: 0.8;
        margin-bottom: 15px;
      }

      .cell {
        min-width: 64px;
        min-height: 60px;
        padding: 6px 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 0.9rem;
        color: #fff;
        border-radius: 8px;
        user-select: none;
        flex-direction: column;
        line-height: 1.1;
      }
      .cell-green {
        background: var(--cell-green);
      }
      .cell-red {
        background: var(--cell-red);
      }
      .cell-grey {
        background: var(--cell-grey);
        color: #e5e5e5;
      }
      .cell-neutral {
        background: var(--cell-neutral);
      }
      .cell .time {
        font-size: 0.7rem;
        font-weight: 700;
        opacity: 0.85;
        white-space: nowrap;
      }
      .cell .team {
        font-size: 0.75rem;
        font-weight: 600;
        opacity: 0.95;
        white-space: nowrap;
        text-overflow: ellipsis;
        max-width: 120px;
        overflow: hidden;
      }
      .cell .score {
        font-size: 0.9rem;
        font-weight: 800;
      }
      /* compacto opcional */
      @media (max-width: 900px), (min-width: 0px) {
        .cell {
          min-width: calc(64px - 16px * var(--cell-compact));
          min-height: calc(60px - 10px * var(--cell-compact));
        }
        .cell .team {
          font-size: calc(0.75rem - 0.1rem * var(--cell-compact));
        }
        .cell .score {
          font-size: calc(0.9rem - 0.1rem * var(--cell-compact));
        }
      }

      /* sort */
      .sortable {
        cursor: pointer;
      }
      .sortable:after {
        content: " ‚ü∑";
        color: #aaa;
      }
      .sortable.asc:after {
        content: " ‚Üë";
      }
      .sortable.desc:after {
        content: " ‚Üì";
      }

      /* Destaque por padr√£o (s√≥ contorno/brilho) */
      .row-colored {
        --hit: #38bdf8;
        border-left: 6px solid var(--hit);
      }
      .row-active {
        outline: 2px solid var(--hit);
      }
      .cell-hit {
        position: relative;
      }
      .cell-hit::after {
        content: "";
        position: absolute;
        inset: -3px;
        border-radius: 10px;
        box-shadow: 0 0 0 3px var(--hit), 0 0 10px var(--hit);
        pointer-events: none;
      }
      /* Modo foco: escurece os n√£o-selecionados */
      .recent-bar.focus .cell {
        opacity: 0.25;
        filter: grayscale(0.6);
      }
      .recent-bar.focus .cell.cell-focus {
        opacity: 1;
        filter: none;
      }
      .recent-bar.focus .cell.cell-focus.cell-hit::after {
        box-shadow: 0 0 0 3px var(--hit), 0 0 14px var(--hit);
      }

      

      @media (max-width: 768px) {
        .filters {
          grid-template-columns: 1fr;
        }
        .cell {
          min-width: 58px;
          font-size: 0.85rem;
        }
      }
    </style>
  </head>
  <body inject_vt_svd="true">
    <div class="container">
      <h1>üìä Buscador de Padr√µes - Betaxis</h1>
      <div class="filters">
        <div>
          <label for="mercado">Mercado para o GREEN</label>
          <select id="mercado">
            <option value="over3.5">Over 3.5</option>
            <option value="over2.5">Over 2.5</option>
            <option value="over1.5">Over 1.5</option>
            <option value="under1.5">Under 1.5</option>
            <option value="under2.5">Under 2.5</option>
            <option value="under3.5">Under 3.5</option>
            <option value="ambasMarcam" selected>Ambas Marcam</option>
            <option value="ambasNaoMarcam">Ambas n√£o</option>
            <option value="casaVence">Casa vence</option>
            <option value="empate">Empate</option>
            <option value="foraVence">Fora vence</option>
            <option value="casaMarca">Casa marca</option>
            <option value="foraMarca">Fora marca</option>
            <option value="0gol">0 gol</option>
            <option value="1gol">1 gol</option>
            <option value="2gols">2 gols</option>
            <option value="3gols">3 gols</option>
            <option value="4gols">4 gols</option>
            <option value="5gols">5+ gols</option>
          </select>
        </div>
        <div>
          <label for="placar_jogos">Tipo de Padr√£o (auto)</label>
          <select id="placar_jogos">
            <option value="1">1 jogo</option>
            <option value="2">2 jogos (sequencial)</option>
            <option value="3">3 jogos (sequencial)</option>
            <option value="1_pula_1">1 Pula 1</option>
            <option value="1_pula_1_pula_1">1 Pula 1 Pula 1</option>
            <option value="combinado" selected="">Combinado (todos)</option>
          </select>
        </div>
        <div>
          <label for="tiros">Tiros</label>
          <select id="tiros">
            <option value="1">1</option>
            <option value="2" selected="">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
          </select>
        </div>
        <div>
          <label for="linhas">N√∫mero de Jogos (linhas)</label>
          <select id="linhas">
            <option value="60">60</option>
            <option value="120">120</option>
            <option value="180">180</option>
            <option value="240">240</option>
            <option value="480" selected>480</option>
            <option value="960">960</option>
            <option value="1440">1440</option>
            <option value="1920">1920</option>
          </select>
        </div>
        <div>
          <label for="intervalo_jogos"
            >Interval (pular antes dos tiros)</label
          >
          <select id="intervalo_jogos">
            <option value="mesma_linha" selected="">Mesma Linha (1-10)</option>
            <option value="mesma_linha_2">Mesma Linha (11-20)</option>
            <option value="linha_acima">Linha Acima (21-30)</option>
            <option value="2_linhas_acima">2 Linhas Acima (41-50)</option>
            <option value="3_linhas_acima">3 Linhas Acima (61-70)</option>
          </select>
        </div>

        <!-- ‚òÖ Composi√ß√£o do Padr√£o -->
        <div>
          <label for="modo-padrao">Composi√ß√£o do Padr√£o</label>
          <select id="modo-padrao">
            <option value="todos" selected="">Todas as op√ß√µes (default)</option>
            <option value="equipes">Somente equipes</option>
            <option value="mercados">Somente mercados</option>
            <option value="placares">Somente placares</option>
            <option value="placares_equipes">Placares e equipes</option>
            <option value="placares_mercados">Placares e mercados</option>
            <option value="equipes_mercados">Equipes e mercados</option>
          </select>
        </div>

        <div>
          <label>üìä Carregar Dados</label>
          <button
            id="togglestats"
            onclick="iniciarAnalise()"
            class="custom-button"
          >
            Carregar Dados
          </button>
        </div>

        <div class="switch-container">
          <label
            for="auto-atualizar"
            style="display: flex; align-items: center; /* gap:.6rem; */"
          >
            <span>Auto-atualizar a cada 3 minuto</span>
            <input type="checkbox" id="auto-atualizar" checked="" />
          </label>
        </div>

        <div id="status-atualizacao">
          Pr√≥xima atualiza√ß√£o em: <span id="contador">180</span> segundos
        </div>

        <!-- ‚òÖ Equipes -->
        <div>
          <label for="equipes">Equipes (filtro opcional)</label>
          <input
            id="equipes"
            type="text"
            placeholder="Ex.: Barcelona, Real Madrid, Boca"
          />
        </div>

        <div
          style="
            grid-column: 1/-1;
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            margin-top: 0.4rem;
            justify-content: center;
          "
        >
          <label
            ><input
              type="checkbox"
              value="https://betstat.site/resultados/Copa%20Am%C3%A9rica"
            />
            Copa Am√©rica</label
          >
          <label
            ><input
              type="checkbox"
              value="https://betstat.site/resultados/Ta%C3%A7a%20Gl%C3%B3ria%20eterna"
            />
            Ta√ßa Gl√≥ria Eterna</label
          >
          <label
            ><input
              type="checkbox"
              value="https://betstat.site/resultados/Euro"
            />
            Euro</label
          >
          <label
            ><input
              type="checkbox"
              value="https://betstat.site/resultados/Campeonato%20Italiano"
            />
            Campeonato Italiano</label
          >
          <label
            ><input
              type="checkbox"
              value="https://betstat.site/resultados/Copa%20das%20estrelas"
            />
            Copa das Estrelas</label
          >
          <label
            ><input
              type="checkbox"
              value="https://betstat.site/resultados/Brasileir%C3%A3o%20Betano"
            />
            Brasileirao Betano</label
          >
        </div>
      </div>
    </div>

    <div id="resultados"></div>

    <script>
      /* ===== Estado ===== */
      let overThreshold, underThreshold, exactGol, casaMarca = false, foraMarca = false, ambas_marcam = false, ambasnao = false, winType;
      let intervaloAtualizacao,
        contadorSegundos = 180;

      // const PALETA = ['#38bdf8','#22c55e','#f59e0b','#ef4444','#a78bfa','#14b8a6','#e879f9','#f97316','#84cc16','#06b6d4','#e11d48','#10b981'];

      const PALETA = [
        "#38bdf8", // azul claro
        "#22c55e", // verde
        "#f59e0b", // laranja/amarelo
        "#ef4444", // vermelho
        "#a78bfa", // lil√°s
        "#14b8a6", // turquesa
        "#e879f9", // rosa
        "#f97316", // laranja escuro
        "#84cc16", // verde lim√£o
        "#06b6d4", // azul piscina
        "#e11d48", // vermelho rosado
        "#10b981", // verde esmeralda
        "#3b82f6", // azul m√©dio
        "#f472b6", // rosa chiclete
        "#8b5cf6", // roxo vivo
      ];

      /* ‚òÖ Estado (equipes + modo de padr√£o) */
      let equipesFiltro = []; // nomes normalizados em min√∫sculas
      let modoPadrao = "todos"; // 'todos' | 'equipes' | 'mercados' | 'placares' | 'placares_equipes' | 'placares_mercados' | 'equipes_mercados'
      let incPlacares = true,
        incMercados = true,
        incEquipes = true;

      function aplicarModoPadrao() {
        incPlacares =
          modoPadrao === "placares" ||
          modoPadrao === "placares_equipes" ||
          modoPadrao === "placares_mercados" ||
          modoPadrao === "todos";
        incMercados =
          modoPadrao === "mercados" ||
          modoPadrao === "placares_mercados" ||
          modoPadrao === "equipes_mercados" ||
          modoPadrao === "todos";
        incEquipes =
          modoPadrao === "equipes" ||
          modoPadrao === "placares_equipes" ||
          modoPadrao === "equipes_mercados" ||
          modoPadrao === "todos";
      }

      /* ===== Util ===== */
      function tokensDoJogo(a, b, total, mandante, visitante) {
        const t = new Set();

        if (incPlacares) {
          // placar exato
          t.add(`${a}-${b}`);
        }

        if (incMercados) {
          // mercados principais
          t.add(a > 0 && b > 0 ? "ambas" : "ambasnao");
          t.add(total >= 3 ? "over2.5" : "under2.5");
          if (total < 2) t.add("under1.5");
          if (total >= 4) t.add("over3.5");
          if (total < 4) t.add("under3.5");
          if (total >= 6) t.add("over5");
          t.add(a > 0 ? "casaMarca" : "casaNao");
          t.add(b > 0 ? "foraMarca" : "foraNao");
          t.add(`${total}gol${total > 1 ? 's' : ''}`);

          // 1x2
          if (a > b) t.add("casa");
          else if (a === b) t.add("empate");
          else t.add("fora");
        }

        if (incEquipes) {
          if (mandante) t.add(mandante.toLowerCase());
          if (visitante) t.add(visitante.toLowerCase());
        }
        return Array.from(t);
      }

      function iniciarAnalise() {
        carregarDados();
        if (intervaloAtualizacao) clearInterval(intervaloAtualizacao);
        if (document.getElementById("auto-atualizar").checked) {
          contadorSegundos = 180;
          atualizarContador();
          intervaloAtualizacao = setInterval(atualizarContador, 1000);
          document.getElementById("status-atualizacao").style.display = "block";
        } else
          document.getElementById("status-atualizacao").style.display = "none";
      }
      function atualizarContador() {
        contadorSegundos--;
        document.getElementById("contador").textContent = contadorSegundos;
        if (contadorSegundos <= 0) {
          contadorSegundos = 180;
          carregarDados();
        }
      }
      document
        .getElementById("auto-atualizar")
        .addEventListener("change", function () {
          if (this.checked) {
            if (!intervaloAtualizacao) {
              contadorSegundos = 180;
              atualizarContador();
              intervaloAtualizacao = setInterval(atualizarContador, 1000);
            }
            document.getElementById("status-atualizacao").style.display =
              "block";
          } else {
            if (intervaloAtualizacao) {
              clearInterval(intervaloAtualizacao);
              intervaloAtualizacao = null;
            }
            document.getElementById("status-atualizacao").style.display =
              "none";
          }
        });
      function definirMercado() {
        const m = document.getElementById("mercado").value;
        overThreshold = undefined;
        underThreshold = undefined;
        exactGol = undefined;
        casaMarca = false;
        foraMarca = false;
        ambas_marcam = false;
        ambasnao = false;
        winType = undefined;

        if (m.startsWith("over")) {
          overThreshold = m === "over1.5" ? 2 : m === "over2.5" ? 3 : m === "over3.5" ? 4 : 6;
        } else if (m.startsWith("under")) {
          underThreshold = m === "under1.5" ? 2 : m === "under2.5" ? 3 : m === "under3.5" ? 4 : undefined;
        } else if (m === "ambasMarcam") {
          ambas_marcam = true;
        } else if (m === "ambasNaoMarcam") {
          ambasnao = true;
        } else if (m === "casaVence") {
          winType = "casa";
        } else if (m === "empate") {
          winType = "empate";
        } else if (m === "foraVence") {
          winType = "fora";
        } else if (m === "casaMarca") {
          casaMarca = true;
        } else if (m === "foraMarca") {
          foraMarca = true;
        } else if (m.endsWith("gol") || m.endsWith("gols")) {
          exactGol = m === "0gol" ? 0 : m === "1gol" ? 1 : m === "2gols" ? 2 : m === "3gols" ? 3 : m === "4gols" ? 4 : 5;
        }
      }

      /* ‚òÖ ler/normalizar filtros de equipes + modo do padr√£o */
      function definirEquipesEModo() {
        // equipes (campo de texto)
        const raw = (document.getElementById("equipes").value || "").trim();
        equipesFiltro = raw
          ? raw
              .split(",")
              .map((s) => s.trim().toLowerCase())
              .filter(Boolean)
          : [];

        // modo do padr√£o (drop-down novo)
        const sel = document.getElementById("modo-padrao");
        modoPadrao = sel ? sel.value : "todos";
        aplicarModoPadrao();
      }

      function obterNomeLiga(a) {
        if (a.includes("Copa%20Am%C3%A9rica")) return "Copa Am√©rica";
        if (a.includes("Ta%C3%A7a%20Gl%C3%B3ria%20eterna")) return "Ta√ßa Gl√≥ria Eterna";
        if (a.includes("Euro")) return "Euro";
        if (a.includes("Campeonato%20Italiano")) return "Campeonato Italiano";
        if (a.includes("Copa%20das%20estrelas")) return "Copa das Estrelas";
        if (a.includes("Brasileir%C3%A3o%20Betano")) return "Brasileirao Betano";
        return a;
      }

      async function carregarDados() {
        definirMercado();
        definirEquipesEModo(); // ‚òÖ novo
        const tipoPadrao = document.getElementById("placar_jogos").value;
        const tiros = parseInt(document.getElementById("tiros").value);
        const numLinhas = parseInt(document.getElementById("linhas").value);

        const ligas = [];
        document
          .querySelectorAll('input[type="checkbox"]:checked')
          .forEach(
            (cb) => cb.value && cb.value !== "on" && ligas.push(cb.value)
          );
        if (ligas.length === 0) {
          alert("Por favor, selecione pelo menos uma liga.");
          return;
        }

        const pac = [];
        for (const arq of ligas) {
          try {
            const dados = await carregarArquivo(arq, numLinhas); // cont√©m equipes (col3, col4) e hor√°rio (col0)
            let resultados;
            if (tipoPadrao === "combinado") {
              const tipos = ["2", "3", "1_pula_1", "1_pula_1_pula_1"];
              let todos = [];
              for (const t of tipos) {
                const r = analisarAutoPadroes(dados, t, tiros);
                r.forEach((x) => (x.tipo_padrao = t));
                todos = todos.concat(r);
              }
              todos.sort(
                (a, b) =>
                  parseFloat(b.percentual) - parseFloat(a.percentual) ||
                  b.ocorrencias - a.ocorrencias
              );
              resultados = todos.slice(0, 15);
            } else resultados = analisarAutoPadroes(dados, tipoPadrao, tiros);
            pac.push({ liga: obterNomeLiga(arq), resultados, dadosCru: dados });
          } catch (e) {
            console.error(e);
            alert(`Erro ao carregar ${arq}`);
          }
        }
        exibirResultados(pac, tipoPadrao === "combinado");

        const ts = document.createElement("div");
        ts.style.textAlign = "center";
        ts.style.color = "var(--accent-color)";
        ts.style.margin = "14px 0 26px";
        const ag = new Date();
        ts.textContent = `√öltima atualiza√ß√£o: ${ag.toLocaleDateString()} ${ag.toLocaleTimeString()}`;
        document.getElementById("resultados").appendChild(ts);
      }

      async function carregarArquivo(arquivo, numLinhas) {
        const resp = await fetch(arquivo);
        if (!resp.ok) throw new Error(`HTTP ${resp.status}`);
        let json = await resp.json();
        if (!Array.isArray(json)) json = [json]; // se for objeto √∫nico, wrap em array
        json.sort((a, b) => new Date(a.data) - new Date(b.data));
        const dados = json.slice(-numLinhas).map((item) => {
          const ft = (item.ft || "0 x 0").replace(/\s+/g, "").split("x");
          const a = parseInt(ft[0]) || 0;
          const b = parseInt(ft[1]) || 0;
          const mandante = (item.time_a || "").trim();
          const visitante = (item.time_b || "").trim();
          const horario = `${(item.hora || 0).toString().padStart(2, "0")}:${(
            item.minuto || 0
          )
            .toString()
            .padStart(2, "0")}`;
          return [a, b, a + b, mandante, visitante, horario];
        });
        return dados;
      }

      /* ‚òÖ verifica se janela tem alguma equipe filtrada */
      function janelaContemEquipe(jogos) {
        if (equipesFiltro.length === 0) return true;
        for (const j of jogos) {
          const m = (j[3] || "").toLowerCase(),
            v = (j[4] || "").toLowerCase();
          for (const alvo of equipesFiltro) {
            if (m.includes(alvo) || v.includes(alvo)) return true;
          }
        }
        return false;
      }

      function analisarAutoPadroes(dados, tipo, tiros) {
        const res = [];
        const { inicio, fim } = obterIntervalo();
        const offs = getOffsetsByTipo(tipo);
        const last = offs[offs.length - 1];
        for (let p = inicio; p <= fim; p++) {
          const comb = {},
            ex = {};
          const need = last + 1 + p + tiros;
          if (dados.length < need) continue;
          for (let i = 0; i <= dados.length - need; i++) {
            // ‚òÖ janela de jogos que comp√µem o padr√£o + tiros
            const jogosPadrao = offs.map((o) => dados[i + o]);
            const ini = i + last + 1 + p,
              fimA = ini + tiros;
            const jogosTiro = dados.slice(ini, Math.min(fimA, dados.length));

            // ‚òÖ filtro de equipes
            if (!janelaContemEquipe([...jogosPadrao, ...jogosTiro])) continue;

            const tok = [],
              plac = [];
            for (const o of offs) {
              const [a, b, t, mandante, visitante] = dados[i + o];
              tok.push(tokensDoJogo(a, b, t, mandante, visitante));
              plac.push(`${a}x${b}¬¶${mandante}¬¶${visitante}`); // guarda equipes para tooltip/mosaico
            }
            const combos = enumerateCombos(tok);
            let green = false;
            for (let j = ini; j < fimA && j < dados.length; j++) {
              const [a, b, sum] = dados[j];
              if (isGreenForSelectedMarket(a, b, sum)) {
                green = true;
                break;
              }
            }
            const placStr = plac.join(" | ");
            for (const seq of combos) {
              const key = seq.join(" | ");
              if (!comb[key]) {
                comb[key] = {
                  ocorrencias: 0,
                  greens: 0,
                  offsets: offs.slice(),
                };
                ex[key] = placStr;
              }
              comb[key].ocorrencias++;
              if (green) comb[key].greens++;
            }
          }
          for (const k in comb) {
            const st = comb[k];
            if (st.ocorrencias >= 3) {
              res.push({
                padrao: k,
                placares: ex[k],
                pular_jogos: p,
                offsets: st.offsets,
                ocorrencias: st.ocorrencias,
                greens: st.greens,
                percentual: ((st.greens / st.ocorrencias) * 100).toFixed(2),
              });
            }
          }
        }
        res.sort(
          (a, b) =>
            parseFloat(b.percentual) - parseFloat(a.percentual) ||
            b.ocorrencias - a.ocorrencias
        );
        return res.slice(0, 15);
      }
      function enumerateCombos(tok) {
        if (tok.length === 1) return tok[0].map((t) => [t]);
        if (tok.length === 2) {
          const out = [];
          for (const a of tok[0]) for (const b of tok[1]) out.push([a, b]);
          return out;
        }
        if (tok.length === 3) {
          const out = [];
          for (const a of tok[0])
            for (const b of tok[1]) for (const c of tok[2]) out.push([a, b, c]);
          return out;
        }
        const out = [],
          cur = [];
        (function rec(i) {
          if (i === tok.length) {
            out.push(cur.slice());
            return;
          }
          for (const t of tok[i]) {
            cur.push(t);
            rec(i + 1);
            cur.pop();
          }
        })(0);
        return out;
      }
      function obterIntervalo() {
        const v = document.getElementById("intervalo_jogos").value;
        if (v === "mesma_linha") return { inicio: 1, fim: 10 };
        if (v === "mesma_linha_2") return { inicio: 11, fim: 20 };
        if (v === "linha_acima") return { inicio: 21, fim: 30 };
        if (v === "2_linhas_acima") return { inicio: 41, fim: 50 };
        if (v === "3_linhas_acima") return { inicio: 61, fim: 70 };
        return { inicio: 1, fim: 10 };
      }
      function getOffsetsByTipo(t) {
        if (t === "1") return [0];
        if (t === "2") return [0, 1];
        if (t === "3") return [0, 1, 2];
        if (t === "1_pula_1") return [0, 2];
        if (t === "1_pula_1_pula_1") return [0, 2, 4];
        return [0, 1];
      }
      function isGreenForSelectedMarket(a, b, total) {
        if (overThreshold) return total >= overThreshold;
        if (underThreshold) return total < underThreshold;
        if (ambas_marcam) return a > 0 && b > 0;
        if (ambasnao) return !(a > 0 && b > 0);
        if (winType) return (winType === "casa" && a > b) || (winType === "empate" && a === b) || (winType === "fora" && a < b);
        if (casaMarca) return a > 0;
        if (foraMarca) return b > 0;
        if (exactGol !== undefined) return exactGol < 5 ? total === exactGol : total >= 5;
        return false;
      }

      /* hits do padr√£o nos √∫ltimos N (retorna arrays de √≠ndices globais) */
      function findPatternHitsInLast(dados, padraoStr, offsets, lookback = 30) {
        const req = padraoStr.split(" | "),
          last = offsets[offsets.length - 1];
        const start = Math.max(0, dados.length - lookback - last),
          end = dados.length - last;
        const hits = [];
        for (let i = start; i < end; i++) {
          let ok = true;
          for (let k = 0; k < offsets.length; k++) {
            const [a, b, t, mandante, visitante] = dados[i + offsets[k]];
            if (!tokensDoJogo(a, b, t, mandante, visitante).includes(req[k])) {
              ok = false;
              break;
            }
          }
          // ‚òÖ respeita o filtro de equipes
          if (ok && equipesFiltro.length > 0) {
            const janela = offsets.map((o) => dados[i + o]);
            if (!janelaContemEquipe(janela)) ok = false;
          }
          if (ok) hits.push(offsets.map((o) => i + o));
        }
        return hits;
      }

      /* UI builders */
      function buildPatternMosaicHTML(padraoStr, offsets) {
        const tokens = padraoStr.split(" | "),
          last = offsets[offsets.length - 1];
        let k = 0;
        const cells = [];
        for (let i = 0; i <= last; i++) {
          if (offsets.includes(i)) {
            const token = tokens[k++] || "";
            cells.push(
              `<span class="cell cell-neutral" title="${token}">${token}</span>`
            );
          } else cells.push(`<span class="cell cell-grey">Pula</span>`);
        }
        return `<div class="mosaic">${cells.join("")}</div>`;
      }
      function buildExampleMosaicHTML(placaresStr, offsets) {
        const s = placaresStr.split(" | "),
          last = offsets[offsets.length - 1];
        let k = 0;
        const cells = [];
        for (let i = 0; i <= last; i++) {
          if (offsets.includes(i)) {
            const packed = s[k++] || "";
            const [sc, mand, vis] = packed.split("¬¶"); // recupera equipes para tooltip
            const [a, b] = sc
              .replace(/\s+/g, "")
              .split(/x|-/i)
              .map((x) => parseInt(x) || 0);
            const green = isGreenForSelectedMarket(a, b, a + b);
            const tt = mand || vis ? `${mand || ""} x ${vis || ""}`.trim() : "";
            cells.push(`<span class="cell ${
              green ? "cell-green" : "cell-red"
            }" title="${tt || sc}">
        <span class="team">${mand || ""}</span>
        <span class="score">${sc}</span>
        <span class="team">${vis || ""}</span>
      </span>`);
          } else cells.push(`<span class="cell cell-grey">Pula</span>`);
        }
        return `<div class="mosaic">${cells.join("")}</div>`;
      }

      /* ‚òÖ Jogos passados (√öltimos) com hor√°rio + nomes + placar */
      function buildRecentResultsBarHTML(
        dados,
        count = 30,
        indexColorMap = new Map()
      ) {
        const total = dados.length,
          start = Math.max(0, total - count),
          ultimos = dados.slice(start);
        const cells = ultimos.map((item, i) => {
          const idx = start + i,
            [a, b, sum, mand, vis, horario] = item;
          const green = isGreenForSelectedMarket(a, b, sum);
          const hitColor = indexColorMap.get(idx);
          const title = `${horario ? horario + " ‚Äî " : ""}${
            mand || ""
          } ${a}x${b} ${vis || ""}`.trim();
          const base = `
      <span class="time">${horario || ""}</span>
      <span class="team">${mand || ""}</span>
      <span class="score">${a}x${b}</span>
      <span class="team">${vis || ""}</span>
    `;
          if (hitColor) {
            return `<span class="cell ${
              green ? "cell-green" : "cell-red"
            } cell-hit" data-idx="${idx}" title="${title}" style="--hit:${hitColor}">
        ${base}
      </span>`;
          }
          return `<span class="cell ${
            green ? "cell-green" : "cell-red"
          }" data-idx="${idx}" title="${title}">
      ${base}
    </span>`;
        });
        return `<div class="recent-caption">√öltimos ${
          ultimos.length
        } resultados (antigo ‚ûú recente)</div><div class="recent-bar">${cells.join(
          ""
        )}</div>`;
      }

      /* sort */
      function attachSortingHandlers(tabela) {
        const ths = [...tabela.querySelectorAll("th")];
        const idxP = ths.findIndex((th) =>
          th.textContent.trim().toLowerCase().startsWith("pular")
        );
        const idxO = ths.findIndex((th) =>
          th.textContent.trim().toLowerCase().startsWith("ocorr")
        );
        [idxP, idxO].forEach((idx) => {
          if (idx >= 0) {
            const th = ths[idx];
            th.classList.add("sortable");
            th.addEventListener("click", () => {
              const dir = th.classList.contains("asc") ? "desc" : "asc";
              ths.forEach((x) => x.classList.remove("asc", "desc"));
              th.classList.add(dir);
              const rows = [...tabela.querySelectorAll("tr")].slice(1);
              rows.sort((A, B) => {
                const a = A.children[idx].textContent.trim(),
                  b = B.children[idx].textContent.trim();
                const na = parseFloat(a.replace("%", "")) || parseInt(a) || 0,
                  nb = parseFloat(b.replace("%", "")) || parseInt(b) || 0;
                return dir === "asc" ? na - nb : nb - na;
              });
              rows.forEach((r) => tabela.appendChild(r));
            });
          }
        });
      }

      /* render com clique para foco */
      function exibirResultados(conjuntos, combinado) {
        const root = document.getElementById("resultados");
        root.innerHTML = "";

        const m = document.getElementById("mercado").value;
        const info = document.createElement("div");
        //info.style.fontWeight = "bold";
        //info.style.marginBottom = "10px";
        info.textContent =
          m === "ambasMarcam"
            ? "Mercado: Ambas Marcam"
            : m === "ambasNaoMarcam"
            ? "Mercado: Ambas n√£o"
            : m === "under1.5"
            ? "Mercado: Under 1.5"
            : m === "under2.5"
            ? "Mercado: Under 2.5"
            : m === "under3.5"
            ? "Mercado: Under 3.5"
            : m === "over5"
            ? "Mercado: Over 5+"
            : m === "over3.5"
            ? "Mercado: Over 3.5"
            : m === "over2.5"
            ? "Mercado: Over 2.5"
            : m === "over1.5"
            ? "Mercado: Over 1.5"
            : m === "casaVence"
            ? "Mercado: Casa vence"
            : m === "empate"
            ? "Mercado: Empate"
            : m === "foraVence"
            ? "Mercado: Fora vence"
            : m === "casaMarca"
            ? "Mercado: Casa marca"
            : m === "foraMarca"
            ? "Mercado: Fora marca"
            : m === "0gol"
            ? "Mercado: 0 gol"
            : m === "1gol"
            ? "Mercado: 1 gol"
            : m === "2gols"
            ? "Mercado: 2 gols"
            : m === "3gols"
            ? "Mercado: 3 gols"
            : m === "4gols"
            ? "Mercado: 4 gols"
            : m === "5gols"
            ? "Mercado: 5+ gols"
            : "";
        root.appendChild(info);

        const modo = document.getElementById("placar_jogos").value;
        const map = {
          mesma_linha: "Mesma Linha (1-10)",
          mesma_linha_2: "Mesma Linha (11-20)",
          linha_acima: "Linha Acima (21-30)",
          "2_linhas_acima": "2 Linhas Acima (41-50)",
          "3_linhas_acima": "3 Linhas Acima (61-70)",
        };
        const info2 = document.createElement("div");
        info2.style.fontWeight = "bold";
        info2.style.marginBottom = "6px";
        //info2.textContent = `Modo: ${
        //  combinado ? "Combinado (todos)" : `Padr√£o ${modo}`
        //} | Intervalo: ${
        //  map[document.getElementById("intervalo_jogos").value]
        //}
        root.appendChild(info2);

        // ‚òÖ badge de filtro + composi√ß√£o
        if (equipesFiltro.length > 0) {
          const tag = document.createElement("div");
          tag.style.marginBottom = "14px";
          const comp =
            {
              todos: "placares, mercados e equipes",
              equipes: "apenas equipes",
              mercados: "apenas mercados",
              placares: "apenas placares",
              placares_equipes: "placares e equipes",
              placares_mercados: "placares e mercados",
              equipes_mercados: "equipes e mercados",
            }[modoPadrao] || "todas as op√ß√µes";
          tag.innerHTML = `<strong>Filtro de equipes:</strong> ${equipesFiltro.join(
            ", "
          )} ‚Äî <em>composi√ß√£o do padr√£o: ${comp}</em>`;
          root.appendChild(tag);
        }

        for (const { liga, resultados, dadosCru } of conjuntos) {
          // ---- mapa √≠ndice->cor (para contorno nos "√öltimos 30")
          const indexColorMap = new Map();

          const h2 = document.createElement("h2");
          h2.textContent = liga;
          root.appendChild(h2);

          // Monta a tabela primeiro para descobrir hits e cores
          const tabela = document.createElement("table");
          tabela.innerHTML = `<tr>
      ${combinado ? "<th>Tipo</th>" : ""}
      <th>Padr√£o (mosaico)</th>
      <th>Placares (mosaico exemplo)</th>
      <th>Pular Jogos</th>
      <th>Ocorr√™ncias</th>
      <th>Greens</th>
      <th>Percentual</th>
    </tr>`;

          // Guardamos refer√™ncias para ativar foco por linha
          const linhasInfo = []; // {tr, color, hitSet}

          resultados.forEach((r, i) => {
            const offsets = r.offsets?.length
              ? r.offsets
              : getOffsetsByTipo(r.tipo_padrao || modo);
            const color = PALETA[i % PALETA.length];

            // hits nos √∫ltimos 30 (lista de arrays de √≠ndices); agregamos em um Set
            const hits = findPatternHitsInLast(dadosCru, r.padrao, offsets, 30);
            const hitSet = new Set();
            hits.forEach((arr) =>
              arr.forEach((ix) => {
                if (!indexColorMap.has(ix)) indexColorMap.set(ix, color);
                hitSet.add(ix);
              })
            );

            const tr = document.createElement("tr");
            tr.className = "row-colored";
            tr.style.setProperty("--hit", color);

            const tipoTxt = combinado
              ? {
                  1: "1 posi√ß√£o",
                  2: "2 posi√ß√µes",
                  3: "3 posi√ß√µes",
                  "1_pula_1": "1 Pula 1",
                  "1_pula_1_pula_1": "1 Pula 1 Pula 1",
                }[r.tipo_padrao] ||
                r.tipo_padrao ||
                ""
              : null;

            tr.innerHTML = `
        ${combinado ? `<td>${tipoTxt}</td>` : ""}
        <td>${buildPatternMosaicHTML(r.padrao, offsets)}</td>
        <td>${buildExampleMosaicHTML(r.placares, offsets)}</td>
        <td>${r.pular_jogos}</td>
        <td>${r.ocorrencias}</td>
        <td>${r.greens}</td>
        <td>${r.percentual}%</td>
      `;
            tabela.appendChild(tr);
            linhasInfo.push({ tr, color, hitSet });
          });

          // Barra dos √∫ltimos 30 com data-idx + hor√°rio + nomes + placar
          const recent = document.createElement("div");
          recent.className = "recent-wrap";
          recent.innerHTML = buildRecentResultsBarHTML(
            dadosCru,
            30,
            indexColorMap
          );
          const recentBar = recent.querySelector(".recent-bar");
          root.appendChild(recent);

          // Clique nas linhas -> modo foco nesta liga
          let activeRow = null;
          function clearFocus() {
            if (!recentBar) return;
            recentBar.classList.remove("focus");
            recentBar.querySelectorAll(".cell").forEach((c) => {
              c.classList.remove("cell-focus");
            });
            if (activeRow) {
              activeRow.classList.remove("row-active");
              activeRow = null;
            }
          }
          linhasInfo.forEach(({ tr, color, hitSet }) => {
            tr.addEventListener("click", () => {
              if (activeRow === tr) {
                clearFocus();
                return;
              }
              if (activeRow) activeRow.classList.remove("row-active");
              activeRow = tr;
              tr.classList.add("row-active");

              recentBar.classList.add("focus");
              recentBar.querySelectorAll(".cell").forEach((c) => {
                const idx = parseInt(c.getAttribute("data-idx"));
                if (hitSet.has(idx)) {
                  c.classList.add("cell-focus");
                  c.classList.add("cell-hit");
                  c.style.setProperty("--hit", color);
                } else {
                  c.classList.remove("cell-focus");
                }
              });
            });
          });

          // clicar fora da tabela (na barra) limpa foco
          recentBar.addEventListener("click", (e) => {
            if (!e.target.closest(".cell-focus")) clearFocus();
          });

          root.appendChild(tabela);
          attachSortingHandlers(tabela);
        }
      }

      /* listeners iniciais */
      document.addEventListener("DOMContentLoaded", () => {
        const selModo = document.getElementById("modo-padrao");
        if (selModo) {
          selModo.addEventListener("change", () => {
            definirEquipesEModo();
            iniciarAnalise();
          });
        }
      });
    </script>

    <div id="vimeo_tool" class="vimeo_tool">
      <template shadowrootmode="open"
        ><style>
          #vimeo_tool {
            width: 100vw;
            height: 100vh;
            position: fixed;
            z-index: 9999;
            top: 0;
            background: rgba(0, 0, 0, 0.3);
            color: #3d3d3d;
            font-family: Source Han Sans;
            font-variation-settings: "opsz" auto;
            font-feature-settings: "kern" on;
            line-height: normal;
          }

          #vimeo_tool.isOption {
            background: linear-gradient(#fff, rgba(100, 170, 228, 0.2));
          }

          .priceImg {
            width: 372px;
            z-index: 99;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
          }

          .priceImg .get {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            height: 28px;
            border-radius: 4px;
            background-color: rgba(13, 189, 189, 1);
            color: rgba(255, 255, 255, 1);
            font-size: 16px;
            text-align: center;
            font-family: Roboto;
            cursor: pointer;
            width: 67px;
            bottom: 48px;
            line-height: 28px;
          }

          .priceImg img {
            width: 100%;
          }

          .priceImg .close {
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 18px;
            cursor: pointer;
            color: rgba(154, 154, 154, 1);
          }

          .pop {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translateX(-50%) translateY(-50%);
            z-index: 9999999;
          }

          .notice {
            width: 360px;
            text-align: center;
            margin-bottom: 20px;
          }

          .notice_in {
            display: none;
            height: 30px;
            line-height: 30px;
            background-color: #fbf6f6;
            animation: fadenum 1s;
            width: 470px;
            margin: 0 auto 0 -40px;
          }

          .notice_in_svg {
            float: left;
            margin-left: 10px;
            margin-top: 1px;
          }

          @keyframes fadenum {
            0% {
              transform: translateX(70px);
            }
          }

          .dialog {
            height: 560px;
            width: 400px;
            background-color: #fbf6f6;
            padding-top: 0px;
          }

          .dialog_close {
            margin-top: -102px;
            margin-left: 380px;
            position: absolute;
          }

          .dialog_in {
            max-width: 320px;
            flex: 1;
            border: 1px solid #fd935a;
            border-radius: 5px;
            position: relative;
            margin-right: 15px;
            padding-top: 20px;
          }

          .dialog_in:last-child {
            margin-right: 0;
          }

          .dialog_in span.discount {
            color: #b36bf4;
            position: absolute;
            right: 0;
            top: 0;
            background: #f9dfcf;
            padding: 6px 0 6px 6px;
            border-radius: 0 4px 0 6px;
            font-size: 13px;
          }

          :root {
            --titleHeight: 55px;
          }

          .pro {
            text-align: center;
            height: var(--titleHeight);
            line-height: var(--titleHeight);
            color: #000;
            font-weight: 450;
            font-size: 28px;
          }

          .dialog_line {
            border-bottom: 1px solid #ffc750;
            margin: 0 auto;
            width: 300px;
          }

          .fee {
            display: block;
            text-align: center;
            height: var(--titleHeight);
            line-height: var(--titleHeight);
          }

          .fee > span:nth-child(1) {
            font-size: 34px;
            color: #444444;
            font-weight: 500;
            font-family: Source Han Sans;
          }

          #newsvd_dialog_in.Yearly .fee > span:nth-child(1) {
            color: #fd935a;
          }

          #newsvd_dialog_in.Yearly span.discount {
            border-radius: 0 4px 0 100%;
            width: 45px;
            height: 45px;
            text-align: center;
          }

          .fee > span:nth-child(2) {
            color: #b6b5b5;
            font-size: 14px;
          }

          .feature_list {
            margin-left: 40px;
            text-align: left;
          }

          .feature_list img.rightIcon {
            margin-right: 7px;
          }

          .feature_list ul {
            margin-left: -40px;
            font-size: 14px;
          }

          .feature_list ul li svg {
            margin-left: -10px;
            margin-right: 0px;
            height: 13px;
          }

          .feature_list ul li {
            line-height: 30px;
            text-indent: -15px;
            list-style: none;
          }

          .feature_list ul li::marker {
            color: #00c0be;
          }

          .dialog_get {
            cursor: pointer;
            border: none;
            display: block;
            border-radius: 5px;
            background-color: #00c0be;
            height: 30px;
            width: 100px;
            line-height: 30px;
            margin: 10px auto 5px;
            font-weight: 600;
            color: white;
          }

          .newsvd_pro_sub {
            border-radius: 999999px;
            color: #fd935a;
            box-sizing: border-box;
            border: 1px solid #fd935a;
            width: 80%;
            text-align: center;
            padding: 8px;
            margin: 10px auto;
            cursor: pointer;
            font-weight: 500;
            display: inline-block;
            transition: all 0.4s;
            font-size: 14px;
          }

          #newsvd_dialog_in.Yearly .newsvd_pro_sub {
            background: linear-gradient(180deg, #f1c946 0%, #fd935a 100%);
            color: #fff;
          }

          #newsvd_dialog_in.Yearly .newsvd_pro_sub:hover {
            opacity: 0.9;
          }

          span.newsvd_pro_sub:hover {
            background: #fd935a;
            color: #fff;
          }

          .dialog_close {
            height: 20px;
            width: 20px;
            border-radius: 4em;
          }

          .dialog_close:hover {
            background-color: #00c0be;
          }

          .external_ffmpeg {
            color: blue;
            cursor: pointer;
            text-decoration: underline;
          }

          #payment_popup {
            position: fixed;
            z-index: 100;
            width: 100vw;
            height: 100vh;
            top: 0px;
            background: rgba(0, 0, 0, 0.3);
          }

          .payment_content {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translateX(-50%) translateY(-50%);
            z-index: 103;
            height: 320px;
            width: 410px;
            background: #fff;
            padding: 20px;
          }

          .payment_select {
            padding: 20px 0 0 110px;
          }

          .payment_label {
            line-height: 30px;
          }

          .original_price {
            text-decoration: line-through;
            color: red !important;
          }

          .chat_summary_block,
          .newsvd_chat_summary_block {
            display: none;
            position: absolute;
            width: 250px;
            margin-left: 65px;
            height: 85px;
            text-align: center !important;
            background: white;
          }

          .summary_new {
            height: 18px;
            width: 18px;
            margin-right: -3px;
            margin-left: -6px;
            float: left;
            border-radius: 3px;
          }

          .newsvd_summary_new {
            height: 18px;
            width: 18px;
            margin-top: -4px;
            margin-right: -3px;
            margin-left: -5px;
            float: left;
            border-radius: 3px;
          }

          .timerInput {
            font-size: 16px;
            display: inline-block;
            margin: 10px 7% 0 0;
          }

          .timeTip {
            display: none;
            position: absolute;
            left: 23px;
            border-radius: 5px;
            width: 220px;
            margin-top: -27px;
            margin-left: -250px;
            height: 20px;
            font-size: 12px;
            line-height: 20px;
            text-align: center !important;
            background: #0072e6;
            color: white;
          }

          .timerInput p {
            width: 77px;
            height: 31px;
            line-height: 31px;
            border: 1px solid #9a999c;
            border-radius: 4px;
            color: #9a999c;
            font-size: 14px;
            text-align: center;
            font-family: Roboto;
            margin-top: 5px;
          }

          .spanTimer {
            background: none;
            outline: none;
            padding: 0 !important;
            width: 16px;
            border: 0;
            color: #9a999c !important;
          }

          .spanTimer:focus {
            border: none;
          }

          .time_middle {
            margin-left: -15px;
            color: #9a999c;
          }

          .jump_to_chatGPT {
            background: #0072e6 !important;
            color: white;
            outline: none;
            font-size: 13px !important;
            height: 27px !important;
            width: 150px;
            border-radius: 5px;
            border: none;
            margin-top: 10px !important;
            cursor: pointer;
          }

          .summary_position {
            display: inline-block;
            position: relative;
            margin-left: -10px;
            top: 5px;
            cursor: pointer;
          }

          .summary_position img {
            height: 20px;
            width: 20px;
          }

          .summary_position:hover:after {
            position: absolute;
            left: -30px;
            top: -25px;
            padding: 5px;
            background-color: black;
            border-radius: 5px;
            color: #fff;
            content: attr(labelTooltip);
            white-space: nowrap;
            z-index: 2;
            width: 120px;
          }

          .summary_time_height {
            height: 41px;
          }

          .other_options {
            line-height: 20px !important;
          }

          .other_options_img {
            height: 20px;
            width: 20px;
            float: right;
          }

          .newsvd_dialog {
            background-color: #fff;
            padding-top: 20px;
            padding: 20px 34px;
            position: relative;
            height: auto;
            border-radius: 6px;
            box-shadow: 0 0 10px #0000004d;
            width: 80vw;
            max-width: 940px;
          }

          .newsvd_dialog_close {
            height: 20px;
            width: 20px;
            border-radius: 4em;
            right: 6px;
            top: 4px;
            position: absolute;
            cursor: pointer;
          }

          .newsvd_dialog_close:hover {
            background-color: #fd935a;
          }

          .top_pro_container {
            text-align: center;
            margin-bottom: 30px;
          }

          .top_pro {
            font-size: 30px;
            font-weight: 500;
            margin-bottom: 5px;
            color: #3d3d3d;
          }

          .top_pro_span {
            font-size: 13px;
            color: #9a999c;
          }

          .discountImg {
            position: absolute;
            width: 120px;
            right: -60px;
            top: -60px;
          }

          .perMon {
            color: #a19f9f;
            font-size: 15px;
            text-align: center;
            height: 18px;
            line-height: 18px;
          }

          .hotTitle {
            position: absolute;
            width: 100%;
            padding: 5px 0 5px 8px;
            top: 0;
            transform: translateY(-100%);
            z-index: 0;
            border-radius: 8px 8px 0 0;
            opacity: 1;
            background: rgba(179, 107, 244, 0.4);
            font-size: 13px;
            font-weight: 600;
            color: #fd935a;
            box-sizing: border-box;
            text-align: left;
          }

          .cardLogo {
            position: absolute;
            top: 8px;
            left: 9px;
            font-size: 14px;
            color: #3d3d3d;
          }
          .cardLogo img {
            width: 14px;
            vertical-align: middle;
            margin-top: -3px;
          }

          /* 800px‰ª•‰∏ãÂ™í‰ΩìÊü•ËØ¢ */
          @media screen and (max-width: 800px) {
            .newsvd_dialog {
              width: 90vw;
            }

            div#pop {
              top: 0;
              padding-top: 0;
              transform: translateX(-50%) translateY(0);
              overflow: auto;
              max-height: calc(100vh - 40px);
            }
          }
        </style>
        <div>
          <div id="vimeo_tool" class="" style="display: none">
            <div id="pop" class="pop">
              <div id="newsvd_notice" class="notice">
                <div id="newsvd_notice_in" class="notice_in">
                  <div class="notice_in_svg">
                    <svg
                      t="1669280615610"
                      viewBox="0 0 1024 1024"
                      version="1.1"
                      xmlns="http://www.w3.org/2000/svg"
                      p-id="2722"
                      width="16"
                      height="16"
                      class="icon"
                    >
                      <path
                        d="M514.048 59.392q93.184 0 174.592 35.328t142.336 96.768 96.256 143.36 35.328 175.104-35.328 175.616-96.256 143.872-142.336 96.768-174.592 35.328-175.104-35.328-142.848-96.768-96.256-143.872-35.328-175.616 35.328-175.104 96.256-143.36 142.848-96.768 175.104-35.328zM795.648 423.936q18.432-18.432 19.456-45.568t-17.408-45.568-45.056-17.92-45.056 18.944l-288.768 288.768-99.328-98.304q-18.432-18.432-45.056-18.944t-45.056 17.92-18.944 43.52 17.92 43.52l142.336 143.36q18.432 18.432 48.128 17.92t48.128-18.944l-4.096 4.096z"
                        p-id="2723"
                        fill="#1fac89"
                      ></path>
                    </svg>
                  </div>
                  <div id="newsvd_notice_in_span" class="notice_in_span">
                    <span>We will support it soon! Click</span
                    ><span id="external_ffmpeg" class="external_ffmpeg"
                      >2k/4k</span
                    ><span>to download videos first.</span>
                  </div>
                </div>
              </div>
              <div id="newsvd_dialog" class="newsvd_dialog">
                <div class="cardLogo"><span>Vimeo‚Ñ¢ Downloader</span></div>
                <div class="top_pro_container">
                  <div class="top_pro">Plan</div>
                  <span class="top_pro_span"
                    >Subscription will automatically renew every month before
                    you unsubscribe.</span
                  >
                </div>
                <div id="newsvd_dialog_close" class="newsvd_dialog_close">
                  <svg
                    t="1669283546396"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="4105"
                    width="20"
                    height="20"
                    class="icon"
                  >
                    <path
                      d="M794.8 794.8c-14 14-36.9 14-50.9 0L229.2 280.1c-14-14-14-36.9 0-50.9s36.9-14 50.9 0L794.9 744c13.9 13.9 13.9 36.8-0.1 50.8z"
                      p-id="4106"
                      fill="#2c2c2c"
                    ></path>
                    <path
                      d="M794.8 229.2c14 14 14 36.9 0 50.9L280.1 794.8c-14 14-36.9 14-50.9 0s-14-36.9 0-50.9L744 229.1c13.9-13.9 36.8-13.9 50.8 0.1z"
                      p-id="4107"
                      fill="#2c2c2c"
                    ></path>
                  </svg>
                </div>
                <div style="display: flex; justify-content: space-around">
                  <div id="newsvd_dialog_in" class="dialog_in Monthly">
                    <!----><!---->
                    <div id="feature_explain" class="feature_explain">
                      <span id="fee" class="fee"
                        ><span>$ 6.99</span><span> / month</span></span
                      >
                      <div style="display: flex; justify-content: center">
                        <span
                          pid="penndbmahnpapepljikkjmakcobdahne-monthly"
                          class="newsvd_pro_sub"
                          >Upgrade</span
                        >
                      </div>
                      <div id="feature_list" class="feature_list">
                        <ul id="feature_list_ul">
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Support download videos with audio</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Support download 1000+ web</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>1-6x download speed</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Support download audio</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Support download subtitles</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Unlimited downloads</span>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div id="newsvd_dialog_in" class="dialog_in Quarterly">
                    <span class="discount">Save 24%</span
                    ><!---->
                    <div id="feature_explain" class="feature_explain">
                      <span id="fee" class="fee"
                        ><span>$ 15.99</span><span> / quarter</span></span
                      >
                      <div style="display: flex; justify-content: center">
                        <span
                          pid="penndbmahnpapepljikkjmakcobdahne-quarterly"
                          class="newsvd_pro_sub"
                          >Upgrade</span
                        >
                      </div>
                      <div id="feature_list" class="feature_list">
                        <ul id="feature_list_ul">
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Support download videos with audio</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Support download 1000+ web</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>1-6x download speed</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Support download audio</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Support download subtitles</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Unlimited downloads</span>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div id="newsvd_dialog_in" class="dialog_in Yearly">
                    <span class="discount">Save 52%</span>
                    <div class="hotTitle">üî• Flash Sale</div>
                    <div id="feature_explain" class="feature_explain">
                      <span id="fee" class="fee"
                        ><span>$ 39.99</span><span> / year</span></span
                      >
                      <div style="display: flex; justify-content: center">
                        <span
                          pid="penndbmahnpapepljikkjmakcobdahne-yearly"
                          class="newsvd_pro_sub"
                          >Upgrade</span
                        >
                      </div>
                      <div id="feature_list" class="feature_list">
                        <ul id="feature_list_ul">
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Support download videos with audio</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Support download 1000+ web</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>1-6x download speed</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Support download audio</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Support download subtitles</span>
                          </li>
                          <li>
                            <img
                              src="chrome-extension://penndbmahnpapepljikkjmakcobdahne/icons/right.png"
                              alt=""
                              class="rightIcon"
                            /><span>Unlimited downloads</span>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
                <p
                  style="
                    text-align: center;
                    font-size: 12px;
                    color: rgb(121, 120, 120);
                    margin: 10px 0px;
                  "
                >
                  TipÔºöPlease refresh the page after the payment is successful
                </p>
              </div>
            </div>
          </div>
        </div></template
      >
    </div>
    <div id="vtPopupMenu"></div>
  </body>
</html>
