<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" href="img/favicon.ico" type="image/x-icon" />
        <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script> 
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-4WT805FFHQ"></script>    
        <title>BetStat</title>
                    <!-- Meta tags SEO principais -->
    <meta name="description" content="Transforme suas apostas com BetStat - a única plataforma especializada em futebol virtual Betano. Análises precisas, estatísticas confiáveis e resultados comprovados para investimentos inteligentes.">
    <meta name="keywords" content="BetStat, apostas esportivas, futebol virtual, Betano, estatísticas apostas, análise apostas, investimentos esportivos">
    
    <!-- Open Graph meta tags para redes sociais -->
    <meta property="og:title" content="BetStat | Plataforma de Análise para Apostas Esportivas">
    <meta property="og:description" content="Transforme suas apostas com análises precisas e estatísticas confiáveis. A única plataforma especializada em futebol virtual Betano.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.betstat.site/payment.html">
    <meta property="og:site_name" content="BetStat">
    
    <!-- Meta tags adicionais -->
    <meta name="robots" content="index, follow">
    <meta name="author" content="BetStat">
    <meta name="canonical" href="https://www.betstat.site/payment.html">
    <script type="module" src="js/firebase-auth.js"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
    
            gtag('config', 'G-4WT805FFHQ');
        </script>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet" />
        
    </head>

    <style>

body {
      font-family: "Roboto", Arial, sans-serif;
      margin: 30px;
      background-color: #1c1f26;
      color: #ffffff;
    }
    .logo2 {
  width: 60px;      /* define a largura fixa */
  height: auto;     /* mantém a proporção da imagem */
}

    .espaco {
  width: 50px;  /* Largura da div */
  height: 50px;  /* Altura da div */
}


    option:hover {
      background-color: #ff8000;
      color: #ffffff;
    }

    canvas {
    cursor: pointer;
}

    button {
      background-color: #1c1f26;
      color: rgb(255, 255, 255);
      font-family: "Roboto", Arial, sans-serif;
      border: none;
      padding: 5px 8px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s;
      margin: 10px;
    }

    button:hover {
      background-color: #0f1013;
    }

    option {
      background-color: #1c1f26;
      color: #ffffff;
    }

    select {
      width: 100%;
      padding: 5px;
      border-radius: 5px;
      background-color: #1c1f26;
      color: #ffffff;
      font-family: "Roboto", Arial, sans-serif;
      font-size: 14px;
      cursor: pointer;
      transition: border-color 0.3s;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }


    .logo {
      height: 30px;
    }

    .selectors-container {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .nav-seletor {
      display: flex;
      align-items: center;
      color: #ffffff;
      font-weight: 500;
    }

    .nav-seletor select {
      padding: 0.5rem ;
      border-radius: 6px;
      background-color: #1c1f26;
      color: var(--text-color);
      border: 1px solid #ffffff9f;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .logout-btn {
      background-color: #1c1f26;; /* Fundo vermelho */
      color: white; /* Texto branco */
      padding: 8px 10px; /* Espaçamento interno */
      font-size: 14px; /* Tamanho da fonte */
      border-radius: 5px; /* Cantos arredondados */
      cursor: pointer; /* Cursor de botão */
      border: 1px solid #ffffff81;
    }

    .logout-btn:hover {
      background-color: #720000; /* Cor ao passar o mouse */
    }

    h1, h2, label {
            color: #1fad8b;
        }
        h1 {
            font-size: 24px;
            margin-bottom: 20px;
            text-align: center;
        }
        .control-panel {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        select {
            padding: 8px 12px;
            background-color: #292d36;
            color: #e0e0e0;
            border: 1px solid #1fad8b;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            transition: border-color 0.3s;
        }
        select:hover {
            border-color: #34d8ab;
        }
        select:focus {
            outline: none;
            border-color: #1fad8b;
        }
        .chart-container {
            background-color: #292d36;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 40px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        .chart-container h2 {
            font-size: 18px;
            margin-bottom: 10px;
            text-align: center;
        }
        canvas {
            border-radius: 4px;
        }
        .checkbox-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        input[type="checkbox"] {
            cursor: pointer;
        }
        /* Accordion Styles */
        .accordion {
            margin-bottom: 10px;
        }
        .accordion-header {
            background-color: #292d36;
            color: #1fad8b;
            padding: 10px;
            cursor: pointer;
            border: 1px solid #1fad8b;
            border-radius: 4px;
            font-size: 18px;
            text-align: center;
        }
        .accordion-header:hover {
            background-color: #34383f;
        }
        .accordion-content {
            display: none; /* Hidden by default */
            padding: 10px;
        }
        .accordion-content.active {
            display: block;
        }
    </style>
    
<body>
  <body>
    <div id="header"></div>
    <br>
<br>
<br>

<div class="control-panel">
    <div>
        <label for="pointsSelector">Horas</label>
        <select id="pointsSelector">
            <option value="20">1 Hora</option>
            <option value="40">2 Horas</option>
            <option value="60">3 Horas</option>
            <option value="80">4 Horas</option>
            <option value="100">5 Horas</option>
            <option value="120">6 Horas</option>
            <option value="140">7 Horas</option>
            <option value="160">8 Horas</option>
            <option value="180">9 Horas</option>
            <option value="200">10 Horas</option>
            <option value="220">11 Horas</option>
            <option value="240">12 Horas</option>
            <option value="480">24 Horas</option>
            <option value="960">48 Horas</option>
        </select>
    </div>
    
    <div>
        <label for="averageSelector">Base</label>
        <select id="averageSelector">
            <option value="19">20</option>
            <option value="39">40</option>
            <option value="59">60</option>
            <option value="79">80</option>
            <option value="99">100</option>
            <option value="119">120</option>
        </select>
    </div>

    <div class="checkbox-container">
        <input type="checkbox" id="fibonacciToggle">
        <label for="fibonacciToggle">Ativar Fibonacci</label>
    </div>

    <div class="checkbox-container">
        <input type="checkbox" id="dataLabelsToggle">
        <label for="dataLabelsToggle">Ativar Rótulos</label>
    </div>
</div>

<!-- Accordions baseados no código fornecido -->
<div class="accordion">
    <div class="accordion-header">Copa América</div>
    <div class="accordion-content">
        <div class="chart-container">
            <h2>Copa América</h2>
            <canvas id="copaamericaChart" width="400" height="130"></canvas>
        </div>
    </div>
</div>

<div class="accordion">
    <div class="accordion-header">Taça Glória Eterna</div>
    <div class="accordion-content">
        <div class="chart-container">
            <h2>Taça Glória Eterna</h2>
            <canvas id="tacagloriaChart" width="400" height="130"></canvas>
        </div>
    </div>
</div>

<div class="accordion">
    <div class="accordion-header">Euro</div>
    <div class="accordion-content">
        <div class="chart-container">
            <h2>Euro</h2>
            <canvas id="euroChart" width="400" height="130"></canvas>
        </div>
    </div>
</div>

<div class="accordion">
    <div class="accordion-header">Campeonato Italiano</div>
    <div class="accordion-content">
        <div class="chart-container">
            <h2>Campeonato Italiano</h2>
            <canvas id="campeonatoitalianoChart" width="400" height="130"></canvas>
        </div>
    </div>
</div>

<div class="accordion">
    <div class="accordion-header">Copa das Estrelas</div>
    <div class="accordion-content">
        <div class="chart-container">
            <h2>Copa das Estrelas</h2>
            <canvas id="copaestrelasChart" width="400" height="130"></canvas>
        </div>
    </div>
</div>

<div class="accordion">
    <div class="accordion-header">Brasileirão Betano</div>
    <div class="accordion-content">
        <div class="chart-container">
            <h2>Brasileirão Betano</h2>
            <canvas id="brasileiraoChart" width="400" height="130"></canvas>
        </div>
    </div>
</div>

    <script>
        fetch('header.html')
          .then(response => response.text())
          .then(data => {
            document.getElementById('header').innerHTML = data;
          });
      </script>
      <script src="redirecionar.js"></script>
    
    <script>
            // Bloqueia o menu de contexto (clique direito)
document.addEventListener("contextmenu", function(e) {
    e.preventDefault();
});

// Bloqueia atalhos de teclado comuns para ferramentas de desenvolvimento
document.addEventListener("keydown", function(e) {
    // F12
    if (e.key === "F12") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + I
    if (e.ctrlKey && e.shiftKey && e.key === "I") {
        e.preventDefault();
    }
    
    // Ctrl + U (ver código fonte)
    if (e.ctrlKey && e.key === "u") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + J (console)
    if (e.ctrlKey && e.shiftKey && e.key === "J") {
        e.preventDefault();
    }
    
    // Ctrl + Shift + C (inspeção de elementos)
    if (e.ctrlKey && e.shiftKey && e.key === "C") {
        e.preventDefault();
    }
    
    // Ctrl + S (salvar página)
    if (e.ctrlKey && e.key === "s") {
        e.preventDefault();
    }
    
    // Ctrl + P (imprimir)
    if (e.ctrlKey && e.key === "p") {
        e.preventDefault();
    }
});

// Detecta abertura de ferramentas de desenvolvimento
const devtools = { open: false };
const element = new Image();
Object.defineProperty(element, 'id', {
    get: function () {
        devtools.open = true;
    }
});

// Adiciona detecção alternativa de devtools
(function() {
    const threshold = 160;
    const checkDevTools = function() {
        if ((window.outerWidth - window.innerWidth) > threshold || 
            (window.outerHeight - window.innerHeight) > threshold) {
            devtools.open = true;
        }
    };
    
    window.addEventListener('resize', checkDevTools);
    setInterval(checkDevTools, 500);
})();

// Monitoramento contínuo
console.log('%c', element);
setInterval(function() {
    if (devtools.open) {
        document.body.innerHTML = '<h1>Acesso não autorizado detectado</h1>';
        // Ou redirecionar:
        // window.location.href = 'about:blank';
        devtools.open = false;
    }
}, 1000);

// Impede seleção de texto
document.addEventListener('selectstart', function(e) {
    e.preventDefault();
});

// Impede arrastar e soltar
document.addEventListener('dragstart', function(e) {
    e.preventDefault();
});

// Ofusca console
console.log = function() {};
console.debug = function() {};
console.info = function() {};
    </script>
    <script>
let copaAmericaChart, tacaGloriaChart, euroChart, campeonatoItalianoChart, copaEstrelasChart, brasileiraoChart;
        let numPoints = 20;
        let averagePoints = 19;
        let showFibonacciLines = false;
        let showDataLabels = false;
        const leagues = ['CopaAmerica', 'TacaGloria', 'Euro', 'CampeonatoItaliano', 'CopaEstrelas', 'brasileirao'];
        const chartInstances = {};
        let chartData = {};

        const statsChartVisibleDatasets = {
            '0-0': false,
            '1-0': false,
            '0-1': false,
            '1-1': false,
            '2-0': false,
            '0-2': false,
            'OUT': false,
            'OverHT': true,
            'UnderHT': true,
            'Casa HT': false,
            'Empate HT': false,
            'Fora HT': false,
            'Gols HT': true
        };

        function formatHtResult(ht) {
            if (ht === 'OUT') return 'OUT';
            if (ht && ht.includes(' x ')) {
                const parts = ht.split(' x ');
                if (parts.length === 2) {
                    return `${parts[0]}-${parts[1]}`;
                }
            }
            return ht;
        }

        function updateStatsChart(chart, newData) {
            if (chart) {
                chart.data.labels = newData.labels;
                chart.data.datasets[0].data = newData.ambasMarcam;
                chart.data.datasets[1].data = newData.over25;
                chart.data.datasets[2].data = newData.under15;
                chart.data.datasets[3].data = newData.over35;
                chart.data.datasets[4].data = newData.mais5;
                chart.data.datasets[5].data = newData.casavence;
                chart.data.datasets[6].data = newData.foravence;
                chart.data.datasets[7].data = newData.golsVisitante;
                chart.data.datasets[8].data = newData.golsCasa;
                chart.data.datasets[9].data = newData.casaht;
                chart.data.datasets[10].data = newData.empateht;
                chart.data.datasets[11].data = newData.foraht;
                chart.data.datasets[12].data = newData.golsht;
                chart.update('none');
            }
        }

        function processApiData(data, league) {
            console.log(`Dados recebidos para ${league}:`, data);
            const sortedData = [...data].sort((a, b) => {
                const dateA = new Date(a.data);
                const dateB = new Date(b.data);
                if (dateA.getTime() !== dateB.getTime()) return dateA - dateB;
                if (a.hora !== b.hora) return a.hora - b.hora;
                return a.minuto - b.minuto;
            });

            const slicedData = sortedData.slice(-numPoints - averagePoints);
            chartData[league] = slicedData;

            let labels = [];
            let gols = [];
            let golsCasa = [];
            let golsVisitante = [];
            let ambasMarcam = [];
            let over25 = [];
            let over35 = [];
            let under15 = [];
            let mais5 = [];
            let casavence = [];
            let foravence = [];
            let casaht = [];
            let foraht = [];
            let empateht = [];
            let golsht = [];

            for (let i = averagePoints; i < slicedData.length; i++) {
                let golsSum = 0;
                let golsCasaSum = 0;
                let golsVisitanteSum = 0;
                let ambasSum = 0;
                let overSum = 0;
                let underSum = 0;
                let over35Sum = 0;
                let over5Sum = 0;
                let casavenceSum = 0;
                let foravenceSum = 0;
                let casahtSum = 0;
                let forahtSum = 0;
                let empatehtSum = 0;
                let golshtSum = 0;

                for (let j = Math.max(0, i - averagePoints); j <= i; j++) {
                    const match = slicedData[j];
                    const ftScore = match.ft;
                    const htScore = formatHtResult(match.ht);

                    let ftScoreParts = [0, 0];
                    if (ftScore && ftScore.includes(' x ')) {
                        ftScoreParts = ftScore.split(' x ').map(num => parseInt(num, 10));
                    }

                    golsSum += ftScoreParts[0] + ftScoreParts[1];
                    golsCasaSum += (htScore === '0-0' || htScore === '1-0' || htScore === '0-1') ? 1 : 0;
                    golsVisitanteSum += (htScore === '1-1' || htScore === '2-0' || htScore === '0-2' || htScore === 'OUT') ? 1 : 0;
                    ambasSum += (htScore === '0-0') ? 1 : 0;
                    overSum += (htScore === '0-1') ? 1 : 0;
                    underSum += (htScore === '1-0') ? 1 : 0;
                    over35Sum += (htScore === '1-1') ? 1 : 0;
                    over5Sum += (htScore === '0-2') ? 1 : 0;
                    casavenceSum += (htScore === '2-0') ? 1 : 0;
                    foravenceSum += (htScore === 'OUT') ? 1 : 0;

                    if (htScore !== 'OUT' && htScore.includes('-')) {
                        const [homeGoals, awayGoals] = htScore.split('-').map(num => parseInt(num, 10));
                        casahtSum += (homeGoals > awayGoals) ? 1 : 0;
                        forahtSum += (homeGoals < awayGoals) ? 1 : 0;
                        empatehtSum += (homeGoals === awayGoals) ? 1 : 0;
                        golshtSum += homeGoals + awayGoals;
                    } else if (htScore === 'OUT') {
                        golshtSum += 3;
                    }
                }

                const match = slicedData[i];
                labels.push(`${match.hora}:${match.minuto.toString().padStart(2, '0')}`);
                
                const avg = averagePoints + 1;
                gols.push(golsSum / avg * 100);
                golsCasa.push(golsCasaSum / avg * 100);
                golsVisitante.push(golsVisitanteSum / avg * 100);
                ambasMarcam.push(ambasSum / avg * 100);
                over25.push(overSum / avg * 100);
                under15.push(underSum / avg * 100);
                over35.push(over35Sum / avg * 100);
                mais5.push(over5Sum / avg * 100);
                casavence.push(casavenceSum / avg * 100);
                foravence.push(foravenceSum / avg * 100);
                foraht.push(forahtSum / avg * 100);
                casaht.push(casahtSum / avg * 100);
                empateht.push(empatehtSum / avg * 100);
                golsht.push(golshtSum);
            }

            return { labels, ambasMarcam, over25, over35, under15, mais5, casavence, foravence, golsVisitante, golsCasa, foraht, casaht, empateht, golsht };
        }

        Chart.register(ChartDataLabels);

        const fibonacciLinesPlugin = {
            id: 'fibonacciLines',
            afterDraw: (chart) => {
                if (!showFibonacciLines) return;
                const ctx = chart.ctx;
                const yAxis = chart.scales.y;
                const fibonacciLevels = [0, 23.6, 38.2, 50, 61.8, 100];
                const yMin = yAxis.min;
                const yMax = yAxis.max;
                const range = yMax - yMin;
                const normalizedLevels = fibonacciLevels.map(level => yMin + (level / 100) * range);

                ctx.save();
                normalizedLevels.forEach((level, index) => {
                    const y = yAxis.getPixelForValue(level);
                    ctx.beginPath();
                    ctx.moveTo(chart.chartArea.left, y);
                    ctx.lineTo(chart.chartArea.right, y);
                    ctx.strokeStyle = 'rgba(0, 255, 0, 0.5)';
                    ctx.lineWidth = 1;
                    ctx.stroke();
                    ctx.fillStyle = '#b0b0b0';
                    ctx.font = '11px Arial';
                    ctx.textAlign = 'left';
                    const textY = y - (index === 0 ? -10 : 5);
                    const textX = chart.chartArea.right + 10;
                    ctx.fillText(`${fibonacciLevels[index]}%`, textX, textY);
                });
                ctx.restore();
            }
        };

        function createStatsChart(ctx, labels, data, league) {
            return new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        { label: '0-0', data: data.ambasMarcam, borderColor: '#1E88E5', backgroundColor: '#1E88E5', hidden: !statsChartVisibleDatasets['0-0'] },
                        { label: '0-1', data: data.over25, borderColor: '#D81B60', backgroundColor: '#D81B60', hidden: !statsChartVisibleDatasets['0-1'] },
                        { label: '1-0', data: data.under15, borderColor: '#43A047', backgroundColor: '#43A047', hidden: !statsChartVisibleDatasets['1-0'] },
                        { label: '1-1', data: data.over35, borderColor: '#F4511E', backgroundColor: '#F4511E', hidden: !statsChartVisibleDatasets['1-1'] },
                        { label: '0-2', data: data.mais5, borderColor: '#8E24AA', backgroundColor: '#8E24AA', hidden: !statsChartVisibleDatasets['0-2'] },
                        { label: '2-0', data: data.casavence, borderColor: '#FDD835', backgroundColor: '#FDD835', hidden: !statsChartVisibleDatasets['2-0'] },
                        { label: 'OUT', data: data.foravence, borderColor: '#546E7A', backgroundColor: '#546E7A', hidden: !statsChartVisibleDatasets['OUT'] },
                        { label: 'OverHT', data: data.golsVisitante, borderColor: '#A0522D', backgroundColor: '#A0522D', hidden: !statsChartVisibleDatasets['OverHT'] },
                        { label: 'UnderHT', data: data.golsCasa, borderColor: '#00897B', backgroundColor: '#00897B', hidden: !statsChartVisibleDatasets['UnderHT'] },
                        { label: 'Casa HT', data: data.casaht, borderColor: '#3949AB', backgroundColor: '#3949AB', hidden: !statsChartVisibleDatasets['Casa HT'] },
                        { label: 'Empate HT', data: data.empateht, borderColor: '#FF6F00', backgroundColor: '#FF6F00', hidden: !statsChartVisibleDatasets['Empate HT'] },
                        { label: 'Fora HT', data: data.foraht, borderColor: '#C2185B', backgroundColor: '#C2185B', hidden: !statsChartVisibleDatasets['Fora HT'] },
                        { label: 'Gols HT', data: data.golsht, borderColor: '#7CB342', backgroundColor: '#7CB342', hidden: !statsChartVisibleDatasets['Gols HT'] }
                    ].map(dataset => ({
                        ...dataset,
                        borderWidth: 2,
                        pointRadius: 4,
                        pointBackgroundColor: dataset.borderColor,
                        fill: false
                    }))
                },
                options: {
                    responsive: true,
                    layout: { 
                        padding: { 
                            top: 30,
                            right: 50
                        } 
                    },
                    plugins: {
                        legend: {
                            display: true,
                            labels: { color: '#e0e0e0', font: { size: 12 } },
                            onClick: function(e, legendItem, legend) {
                                const dataset = legendItem.datasetIndex;
                                const ci = legend.chart;
                                const meta = ci.getDatasetMeta(dataset);
                                meta.hidden = !meta.hidden;
                                statsChartVisibleDatasets[legendItem.text] = !meta.hidden;
                                ci.update();
                            }
                        },
                        datalabels: {
                            display: showDataLabels,
                            color: '#e0e0e0',
                            font: { size: 10 },
                            formatter: (value) => Math.round(value),
                            anchor: 'end',
                            align: 'top',
                            offset: 1
                        },
                        tooltip: {
                            enabled: true,
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#1fad8b',
                            bodyColor: '#e0e0e0',
                            borderColor: '#1fad8b',
                            borderWidth: 1,
                            callbacks: {
                                title: function(tooltipItems) {
                                    const league = leagues.find(l => chartInstances[l] === tooltipItems[0].chart);
                                    const index = tooltipItems[0].dataIndex + averagePoints;
                                    const match = chartData[league][index];
                                    return `${match.hora}:${match.minuto.toString().padStart(2, '0')}`;
                                },
                                label: function(tooltipItem) {
                                    const league = leagues.find(l => chartInstances[l] === tooltipItem.chart);
                                    const index = tooltipItem.dataIndex + averagePoints;
                                    const match = chartData[league][index];
                                    const ftScore = match.ft || 'N/A';
                                    const htScore = formatHtResult(match.ht) || 'N/A';
                                    return [
                                        `FT: ${ftScore}`,
                                        `HT: ${htScore}`,
                                        `${tooltipItem.dataset.label}: ${Math.round(tooltipItem.raw)}`
                                    ];
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            title: { display: true, text: 'Hora', color: '#1fad8b', font: { size: 14 } },
                            ticks: { color: '#b0b0b0', maxRotation: 45, minRotation: 45 },
                            grid: { color: 'rgba(255, 255, 255, 0.1)', borderDash: [5, 5] }
                        },
                        y: {
                            title: { display: true, text: 'Estatísticas', color: '#1fad8b', font: { size: 14 } },
                            beginAtZero: false,
                            ticks: { color: '#b0b0b0' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)', borderDash: [5, 5] },
                            afterFit: function(scale) { scale.paddingTop = 20; }
                        }
                    }
                },
                plugins: [ChartDataLabels, fibonacciLinesPlugin]
            });
        }

        function updateCharts() {
            const timestamp = new Date().getTime();
            const leagueUrls = {
                'CopaAmerica': 'https://betstat.site/resultados/Copa%20Am%C3%A9rica',
                'TacaGloria': 'https://betstat.site/resultados/Ta%C3%A7a%20Gl%C3%B3ria%20eterna',
                'Euro': 'https://betstat.site/resultados/Euro',
                'CampeonatoItaliano': 'https://betstat.site/resultados/Campeonato%20Italiano',
                'CopaEstrelas': 'https://betstat.site/resultados/Copa%20das%20estrelas',
                'brasileirao': 'https://betstat.site/resultados/Brasileir%C3%A3o%20Betano', 
            };

            leagues.forEach(league => {
                const apiUrl = `${leagueUrls[league]}?timestamp=${timestamp}`;
                console.log(`Buscando dados para ${league} em: ${apiUrl}`);
                fetch(apiUrl)
                    .then(response => {
                        if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
                        return response.json();
                    })
                    .then(data => {
                        console.log(`Dados processados para ${league}:`, data);
                        const processedData = processApiData(data, league);
                        const chartId = `${league.toLowerCase()}Chart`;
                        const canvasElement = document.getElementById(chartId);
                        if (!canvasElement) {
                            console.error(`Canvas com ID '${chartId}' não encontrado no DOM`);
                            return;
                        }
                        if (!chartInstances[league]) {
                            const ctx = canvasElement.getContext('2d');
                            chartInstances[league] = createStatsChart(ctx, processedData.labels, processedData, league);
                            console.log(`Gráfico criado para ${league}`);
                        } else {
                            updateStatsChart(chartInstances[league], processedData);
                            console.log(`Gráfico atualizado para ${league}`);
                        }
                    })
                    .catch(error => console.error(`Erro ao buscar dados para ${league}:`, error));
            });
        }

        function toggleFibonacciLines() {
            showFibonacciLines = document.getElementById('fibonacciToggle').checked;
            leagues.forEach(league => {
                if (chartInstances[league]) chartInstances[league].update();
            });
        }

        function toggleDataLabels() {
            showDataLabels = document.getElementById('dataLabelsToggle').checked;
            leagues.forEach(league => {
                if (chartInstances[league]) {
                    chartInstances[league].options.plugins.datalabels.display = showDataLabels;
                    chartInstances[league].update();
                }
            });
        }

        document.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('click', () => {
                const content = header.nextElementSibling;
                content.classList.toggle('active');
            });
        });

        document.getElementById('pointsSelector').addEventListener('change', function(event) {
            numPoints = parseInt(event.target.value, 10);
            updateCharts();
        });

        document.getElementById('averageSelector').addEventListener('change', function(event) {
            averagePoints = parseInt(event.target.value, 10);
            updateCharts();
        });

        document.getElementById('fibonacciToggle').addEventListener('change', toggleFibonacciLines);
        document.getElementById('dataLabelsToggle').addEventListener('change', toggleDataLabels);

        window.onload = updateCharts;
        setInterval(updateCharts, 3000);
    </script>

</body>
</html>
