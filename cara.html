<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Caramelo.bet</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f4f4f4; }
    .container { max-width: 1200px; margin: auto; }
    .nav-bar { display: flex; justify-content: space-between; background: #333; padding: 10px; }
    .nav-list { list-style: none; margin: 0; padding: 0; display: flex; gap: 10px; }
    .nav-item a { color: white; text-decoration: none; }
    .filters { display: flex; flex-wrap: wrap; gap: 20px; margin: 20px 0; }
    .filter-group { background: white; padding: 10px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    .filter-group h3 { margin: 0 0 10px; }
    .filter-group ul { list-style: none; padding: 0; }
    .filter-group li { margin: 5px 0; }
    .filter-group a { text-decoration: none; color: #333; }
    .buttons { display: flex; gap: 10px; margin: 20px 0; }
    .buttons button { padding: 10px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); }
    .modal-content { background: white; margin: 10% auto; padding: 20px; width: 80%; max-width: 500px; border-radius: 5px; }
    .close { float: right; cursor: pointer; font-size: 20px; }
    .charts { background: white; padding: 20px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    .chart-options { margin-bottom: 20px; }
    .chart-options select, .chart-options input { margin: 5px; }
    .indicators { display: flex; flex-wrap: wrap; gap: 20px; }
    .indicators h3 { margin: 0 0 10px; }
    .indicators ul { list-style: none; padding: 0; }
    .stats { display: flex; flex-wrap: wrap; gap: 20px; margin: 20px 0; }
    .stats-data div { margin: 5px 0; }
    .block-stats { display: flex; gap: 20px; }
    .block { background: #f9f9f9; padding: 10px; border-radius: 5px; }
    canvas { max-width: 100%; margin: 20px 0; }
    footer { text-align: center; margin-top: 20px; color: #666; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Barra de navega√ß√£o -->
    <nav class="nav-bar">
      <ul class="nav-list">
        <li class="nav-item"><a href="#">üèÜ Copa</a></li>
        <li class="nav-item"><a href="#">üåç Euro</a></li>
        <li class="nav-item"><a href="#">üí• Super</a></li>
        <li class="nav-item"><a href="#">üè¥ Premier</a></li>
      </ul>
      <ul class="nav-list">
        <li class="nav-item"><a href="#" id="config-toggle">‚öôÔ∏è Config</a></li>
      </ul>
    </nav>

    <!-- Filtros de apostas -->
    <div class="filters">
      <div class="filter-group">
        <h3>‚öΩ Over Gols</h3>
        <ul>
          <li><a href="#">Over 0.5</a></li>
          <li><a href="#">Over 1.5</a></li>
          <li><a href="#">Over 2.5</a></li>
          <li><a href="#">Over 3.5</a></li>
        </ul>
      </div>
      <div class="filter-group">
        <h3>ü§ù Ambas: Sim</h3>
        <ul>
          <li><a href="#">Sim</a></li>
          <li><a href="#">N√£o</a></li>
        </ul>
      </div>
      <div class="filter-group">
        <h3>‚è±Ô∏è Resultado HT</h3>
        <ul>
          <li><a href="#">Casa HT</a></li>
          <li><a href="#">Empate HT</a></li>
          <li><a href="#">Fora HT</a></li>
        </ul>
      </div>
      <div class="filter-group">
        <h3>üèÅ Resultado FT</h3>
        <ul>
          <li><a href="#">Casa</a></li>
          <li><a href="#">Empate</a></li>
          <li><a href="#">Fora</a></li>
        </ul>
      </div>
      <div class="filter-group">
        <h3>üõ°Ô∏è Under Gols</h3>
        <ul>
          <li><a href="#">Under 0.5</a></li>
          <li><a href="#">Under 1.5</a></li>
          <li><a href="#">Under 2.5</a></li>
          <li><a href="#">Under 3.5</a></li>
        </ul>
      </div>
      <div class="filter-group">
        <h3>üéØ Gols</h3>
        <ul>
          <li><a href="#">0 Gols</a></li>
          <li><a href="#">1 Gol</a></li>
          <li><a href="#">2 Gols</a></li>
          <li><a href="#">3 Gols</a></li>
          <li><a href="#">4 Gols</a></li>
          <li><a href="#">5+ Gols</a></li>
        </ul>
      </div>
      <div class="filter-group">
        <h3>‚è±Ô∏è Placares HT</h3>
        <ul>
          <li><a href="#">1x0</a></li>
          <li><a href="#">0x0</a></li>
          <li><a href="#">0x1</a></li>
          <li><a href="#">2x0</a></li>
          <li><a href="#">1x1</a></li>
          <li><a href="#">0x2</a></li>
          <li><a href="#">OUT</a></li>
        </ul>
      </div>
    </div>

    <!-- Bot√µes de ranking e exibi√ß√£o -->
    <div class="buttons">
      <button>üèÜ üîíRankingüîí</button>
      <button>üîù üîíM√°ximasüîí</button>
      <button>üìä Exibir HT+FT</button>
      <button>‚è±Ô∏è Exibir HT</button>
    </div>

    <!-- Modal de configura√ß√µes -->
    <div class="modal" id="config-modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Configura√ß√µes</h2>
        <p>Futuras op√ß√µes de personaliza√ß√£o aqui...</p>
      </div>
    </div>

    <!-- Se√ß√£o de gr√°ficos -->
    <div class="charts">
      <div class="chart-options">
        <label>Qtd. Jogos:</label>
        <select>
          <option>20</option>
          <option>40</option>
          <option>60</option>
          <option>80</option>
          <option>100</option>
          <option>120</option>
          <option>140</option>
          <option>160</option>
          <option>180</option>
          <option>200</option>
          <option>220</option>
          <option>300</option>
          <option>360</option>
          <option>400</option>
        </select>
        <label>RSI</label>
        <div class="indicators">
          <h3>FT:</h3>
          <ul>
            <li>Resultado FT</li>
            <li>Over 0.5</li>
            <li>Over 1.5</li>
            <li>Over 2.5</li>
            <li>Over 3.5</li>
            <li>Under 0.5</li>
            <li>Under 1.5</li>
            <li>Under 2.5</li>
            <li>Under 3.5</li>
            <li>Œî Gols Over FT</li>
            <li>Ambas Marcam (Sim)</li>
            <li>Ambas Marcam (N√£o)</li>
            <li>0 gol / 2¬∞ tempo</li>
            <li>1 gol / 2¬∞ tempo</li>
            <li>2 gols / 2¬∞ tempo</li>
            <li>3 gols / 2¬∞ tempo</li>
            <li>4 gols / 2¬∞ tempo</li>
            <li>0 Gol</li>
            <li>1 Gol</li>
            <li>2 Gols</li>
            <li>3 Gols</li>
            <li>4 Gols</li>
            <li>5+ Gols</li>
            <li>Casa FT</li>
            <li>Empate FT</li>
            <li>Fora FT</li>
            <li>Casa e Sim</li>
            <li>Casa e N√£o</li>
            <li>Fora e Sim</li>
            <li>Fora e N√£o</li>
            <li>Empate e Sim</li>
            <li>Empate e N√£o</li>
            <li>Casa 0 Gols</li>
            <li>Casa 1 Gol</li>
            <li>Casa 2 Gols</li>
            <li>Casa 3 Gols</li>
            <li>Casa 4 Gols</li>
            <li>Fora 0 Gols</li>
            <li>Fora 1 Gol</li>
            <li>Fora 2 Gols</li>
            <li>Fora 3 Gols</li>
            <li>Fora 4 Gols</li>
          </ul>
          <h3>HT:</h3>
          <ul>
            <li>Resultado HT</li>
            <li>Casa HT</li>
            <li>Empate HT</li>
            <li>Fora HT</li>
            <li>HT 0 Gol</li>
            <li>HT 1 Gol</li>
            <li>HT 2 Gols</li>
            <li>HT 3+ Gols</li>
            <li>HT 1x0</li>
            <li>HT 0x0</li>
            <li>HT 0x1</li>
            <li>HT 2x0</li>
            <li>HT 1x1</li>
            <li>HT 0x2</li>
            <li>HT OUT</li>
          </ul>
        </div>
        <div class="chart-settings">
          <label><input type="checkbox" checked> Fixa</label>
          <label><input type="checkbox"> M√©dias</label>
          <label><input type="checkbox"> M√≥veis</label>
          <label><input type="checkbox"> Topo/Fundo</label>
          <label><input type="checkbox" checked> Congest√£o</label>
          <label>Legenda: <input type="checkbox" checked> ON</label>
          <div class="config">
            <a href="#">‚öôÔ∏è Config</a>
            <div class="config-options">
              <label>Linhas de Congest√£o:</label>
              <select>
                <option>1</option>
                <option>2</option>
                <option>3</option>
              </select>
              <label>MM1: <input type="text"></label>
              <label>MM2: <input type="text"></label>
              <label>MACD R√°pida: <input type="text"></label>
              <label>MACD Lenta: <input type="text"></label>
              <label>MACD Sinal: <input type="text"></label>
              <label>RSI Per√≠odo: <input type="text"></label>
              <button>Restaurar padr√£o</button>
              <label>Altura do Gr√°fico:</label>
              <select>
                <option>Pequeno</option>
                <option>M√©dio</option>
                <option>Grande</option>
              </select>
            </div>
          </div>
        </div>
        <div class="indicators-list">
          <h3>Overs</h3>
          <ul>
            <li>OVER05</li>
            <li>OVER15</li>
            <li>OVER25</li>
            <li>OVER35</li>
          </ul>
          <h3>Unders</h3>
          <ul>
            <li>UNDER05</li>
            <li>UNDER15</li>
            <li>UNDER25</li>
            <li>UNDER35</li>
          </ul>
          <h3>Indicadores</h3>
          <ul>
            <li>Œî GOLS OVER FT</li>
          </ul>
          <h3>Ambas Marcam</h3>
          <ul>
            <li>AMBAS SIM</li>
            <li>AMBAS NAO</li>
          </ul>
          <h3>Gols Exatos HT</h3>
          <ul>
            <li>HT 0 GOL</li>
            <li>HT 1 GOL</li>
            <li>HT 2 GOLS</li>
            <li>HT 3+ GOLS</li>
          </ul>
          <h3>Gols Exatos 2¬∫ Tempo</h3>
          <ul>
            <li>ST 0 GOL</li>
            <li>ST 1 GOL</li>
            <li>ST 2 GOLS</li>
            <li>ST 3 GOLS</li>
            <li>ST 4 GOLS</li>
          </ul>
          <h3>Gols Exatos FT</h3>
          <ul>
            <li>0 GOL</li>
            <li>1 GOL</li>
            <li>2 GOLS</li>
            <li>3 GOLS</li>
            <li>4 GOLS</li>
            <li>5+ GOLS</li>
          </ul>
          <h3>Resultados</h3>
          <ul>
            <li>CASA FT</li>
            <li>EMPATE FT</li>
            <li>FORA FT</li>
            <li>CASA HT</li>
            <li>EMPATE HT</li>
            <li>FORA HT</li>
          </ul>
          <h3>HT (Intervalo)</h3>
          <ul>
            <li>HT 1X0</li>
            <li>HT 0X0</li>
            <li>HT 0X1</li>
            <li>HT 2X0</li>
            <li>HT 1X1</li>
            <li>HT 0X2</li>
            <li>HT OUT</li>
          </ul>
          <h3>Resultado/Ambos Marcam</h3>
          <ul>
            <li>CASA FT AMBAS SIM</li>
            <li>CASA FT AMBAS NAO</li>
            <li>FORA FT AMBAS SIM</li>
            <li>FORA FT AMBAS NAO</li>
            <li>EMPATE AMBAS SIM</li>
            <li>EMPATE AMBAS NAO</li>
          </ul>
          <h3>Gols (Casa)</h3>
          <ul>
            <li>CASA 0</li>
            <li>CASA 1</li>
            <li>CASA 2</li>
            <li>CASA 3</li>
            <li>CASA 4</li>
          </ul>
          <h3>Gols (Fora)</h3>
          <ul>
            <li>FORA 0</li>
            <li>FORA 1</li>
            <li>FORA 2</li>
            <li>FORA 3</li>
            <li>FORA 4</li>
          </ul>
        </div>
      </div>

      <!-- Se√ß√£o de estat√≠sticas e gr√°ficos -->
      <div class="stats">
        <div class="time-filter">
          <h3>‚è±Ô∏è Horas</h3>
          <ul>
            <li><a href="#">3</a></li>
            <li><a href="#">6</a></li>
            <li><a href="#">12</a></li>
            <li><a href="#">18</a></li>
            <li><a href="#">24</a></li>
          </ul>
        </div>
        <div class="stats-data">
          <div><span>üìà</span> <span id="overs-percentage">0%</span></div>
          <div><span>üìâ</span> <span id="unders-percentage">0%</span></div>
          <div><span>‚öΩ</span> Gols: <span id="total-goals">0</span></div>
          <div><span>‚è±Ô∏è</span> M√©dia Gols Hora: <span id="avg-goals-hour">0.00</span></div>
        </div>
        <div class="team-filter">
          <label>üëï Time <input type="checkbox"> OFF</label>
        </div>
        <div class="block-stats">
          <div class="block">
            <h4>Hora Atual:</h4>
            <div><span>‚öΩ</span> <span id="current-goals">0</span></div>
            <div><span>üìà</span> <span id="current-overs">0</span></div>
            <div><span>üìâ</span> <span id="current-unders">0</span></div>
          </div>
          <div class="block">
            <h4>Hora Anterior:</h4>
            <div><span>‚öΩ</span> <span id="prev-goals">0</span></div>
            <div><span>üìà</span> <span id="prev-overs">0</span></div>
            <div><span>üìâ</span> <span id="prev-unders">0</span></div>
          </div>
        </div>
      </div>

      <!-- Canvas para os gr√°ficos -->
      <canvas id="goalsChart" style="max-height: 300px;"></canvas>
      <canvas id="avgGoalsChart" style="max-height: 300px;"></canvas>
      <canvas id="exactGoalsChart" style="max-height: 300px;"></canvas>
    </div>

    <!-- Rodap√© -->
    <footer>
      <p>¬© 2025 ‚Äî Desenvolvido por Victor Oliveira. Todos os direitos reservados. Este sistema √© protegido pela legisla√ß√£o de direitos autorais (Lei n¬∫ 9.610/98) e demais normas aplic√°veis. A reprodu√ß√£o ou distribui√ß√£o n√£o autorizada √© proibida e sujeita a san√ß√µes civis e criminais.</p>
    </footer>
  </div>

  <!-- Script para os gr√°ficos -->
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      try {
        const response = await fetch('https://betstat.site/resultados/Ta√ßa%20Gl√≥ria%20Eterna');
        if (!response.ok) throw new Error('Erro ao buscar dados da API');
        const matches = await response.json();

        const hourlyData = {};
        const exactGoalsData = { 0: 0, 1: 0, 2: 0, 3: 0, 4: 0, '5+': 0 };
        matches.forEach(match => {
          if (!match.ft || !match.ft.includes(' x ')) return; // Valida formato do placar
          const date = new Date(match.data);
          const hour = date.getUTCHours();
          if (!hourlyData[hour]) {
            hourlyData[hour] = { goals: 0, overs: 0, unders: 0, matches: 0 };
          }
          const [goalsA, goalsB] = match.ft.split(' x ').map(Number);
          const totalGoals = goalsA + goalsB;
          hourlyData[hour].goals += totalGoals;
          hourlyData[hour].overs += totalGoals > 2.5 ? 1 : 0;
          hourlyData[hour].unders += totalGoals < 2.5 ? 1 : 0;
          hourlyData[hour].matches += 1;
          // Contagem de gols exatos
          if (totalGoals >= 5) exactGoalsData['5+']++;
          else exactGoalsData[totalGoals]++;
        });

        const hours = Array.from({ length: 24 }, (_, i) => i);
        const goalsData = hours.map(h => hourlyData[h]?.goals || 0);
        const oversData = hours.map(h => hourlyData[h]?.overs || 0);
        const undersData = hours.map(h => hourlyData[h]?.unders || 0);
        const avgGoalsPerHour = hours.map(h => hourlyData[h]?.goals / (hourlyData[h]?.matches || 1)).map(n => n.toFixed(2));

        const totalGoals = goalsData.reduce((sum, val) => sum + val, 0);
        const totalOvers = oversData.reduce((sum, val) => sum + val, 0);
        const totalUnders = undersData.reduce((sum, val) => sum + val, 0);
        const totalMatches = totalOvers + totalUnders;
        const oversPercentage = totalMatches ? ((totalOvers / totalMatches) * 100).toFixed(2) + '%' : '0%';
        const undersPercentage = totalMatches ? ((totalUnders / totalMatches) * 100).toFixed(2) + '%' : '0%';
        const avgGoalsHour = totalMatches ? (totalGoals / totalMatches).toFixed(2) : '0.00';

        document.getElementById('total-goals').textContent = totalGoals;
        document.getElementById('overs-percentage').textContent = oversPercentage;
        document.getElementById('unders-percentage').textContent = undersPercentage;
        document.getElementById('avg-goals-hour').textContent = avgGoalsHour;

        const currentHour = new Date().getUTCHours();
        const prevHour = (currentHour - 1 + 24) % 24;
        document.getElementById('current-goals').textContent = hourlyData[currentHour]?.goals || 0;
        document.getElementById('current-overs').textContent = hourlyData[currentHour]?.overs || 0;
        document.getElementById('current-unders').textContent = hourlyData[currentHour]?.unders || 0;
        document.getElementById('prev-goals').textContent = hourlyData[prevHour]?.goals || 0;
        document.getElementById('prev-overs').textContent = hourlyData[prevHour]?.overs || 0;
        document.getElementById('prev-unders').textContent = hourlyData[prevHour]?.unders || 0;

        const ctx = document.getElementById('goalsChart').getContext('2d');
        new Chart(ctx, {
          type: 'bar',
          data: {
            labels: hours,
            datasets: [
              {
                label: 'Gols',
                data: goalsData,
                backgroundColor: 'rgba(255, 99, 132, 0.5)',
                borderColor: 'rgba(255, 99, 132, 1)',
                borderWidth: 1
              },
              {
                label: 'Over 2.5',
                data: oversData,
                backgroundColor: 'rgba(54, 162, 235, 0.5)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1
              },
              {
                label: 'Under 2.5',
                data: undersData,
                backgroundColor: 'rgba(75, 192, 192, 0.5)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
              }
            ]
          },
          options: {
            scales: {
              y: { beginAtZero: true },
              x: { title: { display: true, text: 'Hora do Dia' } }
            },
            plugins: { legend: { position: 'top' } }
          }
        });

        const avgCtx = document.getElementById('avgGoalsChart').getContext('2d');
        new Chart(avgCtx, {
          type: 'line',
          data: {
            labels: hours,
            datasets: [
              {
                label: 'M√©dia de Gols por Hora',
                data: avgGoalsPerHour,
                fill: false,
                borderColor: 'rgba(255, 206, 86, 1)',
                tension: 0.1
              }
            ]
          },
          options: {
            scales: {
              y: { beginAtZero: true, title: { display: true, text: 'M√©dia de Gols' } },
              x: { title: { display: true, text: 'Hora do Dia' } }
            }
          }
        });

        const exactCtx = document.getElementById('exactGoalsChart').getContext('2d');
        new Chart(exactCtx, {
          type: 'bar',
          data: {
            labels: ['0', '1', '2', '3', '4', '5+'],
            datasets: [
              {
                label: 'Gols Exatos FT',
                data: [
                  exactGoalsData[0],
                  exactGoalsData[1],
                  exactGoalsData[2],
                  exactGoalsData[3],
                  exactGoalsData[4],
                  exactGoalsData['5+']
                ],
                backgroundColor: 'rgba(153, 102, 255, 0.5)',
                borderColor: 'rgba(153, 102, 255, 1)',
                borderWidth: 1
              }
            ]
          },
          options: {
            scales: {
              y: { beginAtZero: true, title: { display: true, text: 'N√∫mero de Jogos' } },
              x: { title: { display: true, text: 'Gols Exatos' } }
            },
            plugins: { legend: { position: 'top' } }
          }
        });

      } catch (error) {
        console.error('Erro ao carregar gr√°ficos:', error);
        document.getElementById('total-goals').textContent = 'Erro';
        document.getElementById('overs-percentage').textContent = 'Erro';
        document.getElementById('unders-percentage').textContent = 'Erro';
        document.getElementById('avg-goals-hour').textContent = 'Erro';
      }
    });
  </script>
</body>
</html>